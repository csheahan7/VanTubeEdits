/**
 * Minified by jsDelivr using Terser v5.17.1.
 * Original file: /gh/BillTube/BillTube2@master/BillTube2.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var VERSION = "2.3",
    vplayer = videojs("ytapiplayer");
function videofix() {
    var e = videojs("ytapiplayer");
    e.on("error", function (t) {
        window.setTimeout(function () {
            e.createModal("reloading the player!"), refreshVideo(), console.log("reloading player");
        }, 1e4);
    });
}
function loadScript(e) {
    return new Promise(function (t, n) {
        if (0 === $("script[src='" + e + "']").length) {
            var r = document.createElement("script");
            (r.onload = function () {
                t();
            }),
                (r.onerror = function () {
                    n();
                }),
                (r.src = e),
                document.body.appendChild(r);
        } else t();
    });
}
function showSchedule() {
    $("#schedule").modal();
}
function insertText(e) {
    $("#chatline")
        .val($("#chatline").val() + e)
        .focus();
}
function clickPic() {
    outer.modal("hide");
}
function toggleClassTitle() {
    $("#currenttitle").hasClass("marquee") ? $("#currenttitle").removeClass("marquee") : $("#currenttitle").addClass("marquee");
}
function createTemp(e) {
    (outer = $('<div class="modal fade" />').appendTo($("body"))),
        (modal = $('<div class="modal-dialog modal-dialog-nonfluid" />').appendTo(outer)),
        (modal = $('<div class="modal-content" />').appendTo(modal)),
        (head = $('<div class="modal-header" />').appendTo(modal)),
        $('<button class="close" data-dismiss="modal" aria-hidden="true" />').html("&times;").appendTo(head),
        $("<h5 />").text(e).appendTo(head),
        (body = $('<div class="modal-body" />').appendTo(modal)),
        (footer = $('<div class="modal-footer" />').appendTo(modal)),
        outer.on("hidden.bs.modal", function () {
            outer.remove(), scrollChat();
        }),
        outer.modal();
}
window.socket.on("changeMedia", function () {
    document.getElementById("ytapiplayer").addEventListener && videofix();
}),
    (refreshVideo = function () {
        $("#mediarefresh").click();
    }),
    $(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
var stringToColour = function (e) {
    for (var t = 0, n = 0; t < e.length; n = e.charCodeAt(t++) + ((n << 5) - n));
    t = 0;
    for (var r = "#"; t < 3; r += ("00" + ((n >> (8 * t++)) & 255).toString(16)).slice(-2));
    return r;
};
function formatChatMessage(e, t) {
    (e.meta && !e.msgclass) || (e.meta = { addClass: e.msgclass, addClassToNameAndTimestamp: e.msgclass });
    var n = e.username === t.name;
    "server-whisper" === e.meta.addClass && (n = !0), e.msg.match(/^\s*<strong>\w+\s*:\s*<\/strong>\s*/) && (n = !1), e.meta.forceShowName && (n = !1), (e.msg = execEmotes(e.msg)), (t.name = e.username);
    var r = $("<div/>");
    if (("drink" === e.meta.addClass && (r.addClass("drink"), (e.meta.addClass = "")), USEROPTS.show_timestamps)) {
        var o = $("<span/>").addClass("timestamp").appendTo(r),
            i = new Date(e.time).toTimeString().split(" ")[0];
        o.text("[" + i + "] "), e.meta.addClass && e.meta.addClassToNameAndTimestamp && o.addClass(e.meta.addClass);
    }
    var a = $("<span/>");
    n || a.appendTo(r),
        $("<strong/>")
            .addClass("username clr_" + e.username)
            .text(e.username + ": ")
            .css("color", stringToColour(e.username))
            .appendTo(a),
        e.meta.modflair && a.addClass(getNameColor(e.meta.modflair)),
        e.meta.addClass && e.meta.addClassToNameAndTimestamp && a.addClass(e.meta.addClass),
        e.meta.superadminflair && (a.addClass("label").addClass(e.meta.superadminflair.labelclass), $("<span/>").addClass(e.meta.superadminflair.icon).addClass("glyphicon").css("margin-right", "3px").prependTo(a));
    var s = $("<span/>").appendTo(r);
    return (
        (s[0].innerHTML = e.msg),
        e.meta.action && (a.remove(), (s[0].innerHTML = e.username + " " + e.msg)),
        e.meta.addClass && s.addClass(e.meta.addClass),
        e.meta.shadow && r.addClass("chat-shadow"),
        r.find("img").load(function () {
            SCROLLCHAT && scrollChat();
        }),
        r
    );
}
($messagebuffer = $("#messagebuffer")),
    (ColorsArray = [
        "white",
        "papayawhip",
        "silver",
        "gray",
        "black",
        "yellow",
        "gold",
        "orange",
        "orangered",
        "tomato",
        "pink",
        "red",
        "crimson",
        "deeppink",
        "magenta",
        "violet",
        "darkviolet",
        "purple",
        "brown",
        "saddlebrown",
        "turquoise",
        "limegreen",
        "green",
        "olive",
        "darkkhaki",
        "aqua",
        "dodgerblue",
        "blue",
        "midnightblue",
        "darkslateblue",
    ]),
    (function (e) {
        var t = {};
        function n(r) {
            if (t[r]) return t[r].exports;
            var o = (t[r] = { exports: {}, id: r, loaded: !1 });
            return e[r].call(o.exports, o, o.exports, n), (o.loaded = !0), o.exports;
        }
        (n.m = e), (n.c = t), (n.p = ""), n(0);
    })([
        function (e, t, n) {
            n(1),
                n(2),
                n(3),
                n(4),
                n(5),
                n(6),
                n(9),
                n(10),
                n(11),
                n(12),
                n(14),
                n(15),
                n(16),
                n(17),
                n(18),
                n(19),
                n(20),
                n(21),
                n(25),
                n(26),
                n(27),
                n(28),
                n(29),
                n(30),
                n(31),
                n(32),
                n(33),
                n(34),
                n(35),
                n(38),
                n(39),
                n(40),
                n(41),
                n(42),
                n(43),
                n(44),
                n(45),
                n(46),
                n(47),
                n(48),
                n(49),
                n(50),
                n(51),
                n(52);
        },
        function (e, t) {
            window.CytubeEnhancedHelpers = function (e) {
                var t = document.createElement("script");
                if (((t.src = "https://cdn.jsdelivr.net/gh/BillTube/BillTube2/lazy.js"), document.body.appendChild(t), /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)))
                    $("#ytapiplayer").attr("muted", ""),
                        $("#ytapiplayer").attr("playsinline", ""),
                        $("#main").after($("#chatwrap")),
                        $("head").append("<link rel='stylesheet' href='//dl.dropbox.com/s/sjb7rw59p0qnx6a/mobile.css' />"),
                        $.getScript("https://dl.dropbox.com/s/5h0liiwcqqdfbh0/mobile.js"),
                        console.log("Loading Mobile Theme");
                else {
                    console.log("Loading Desktop Theme"),
                        $("head").append("<link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css' />"),
                        $("head").append("<link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/BillTube/BillTube2@latest/base.css' />"),
                        $("head").append("<link rel='stylesheet' href='https://unpkg.com/@videojs/themes@1/dist/city/index.css' />"),
                        $.getScript("//dl.dropbox.com/s/m5kd8r2slhnfu1c/notifications.js"),
                        $.getScript("https://cdn.jsdelivr.net/gh/BillTube/BillTube2/avatars.js"),
                        (window.FontAwesomeKitConfig = {
                            asyncLoading: { enabled: !0 },
                            autoA11y: { enabled: !0 },
                            baseUrl: "https://kit-pro.fontawesome.com",
                            license: "pro",
                            method: "css",
                            minify: { enabled: !0 },
                            v4shim: { enabled: !0 },
                            version: "latest",
                        }),
                        (function () {
                            function e(e) {
                                var t, n, r, o;
                                (prefixesArray = e || ["fa"]),
                                    (prefixesSelectorString = "." + Array.prototype.join.call(e, ",.")),
                                    (t = document.querySelectorAll(prefixesSelectorString)),
                                    Array.prototype.forEach.call(t, function (e) {
                                        (n = e.getAttribute("title")),
                                            e.setAttribute("aria-hidden", "true"),
                                            (r = !e.nextElementSibling || !e.nextElementSibling.classList.contains("sr-only")),
                                            n && r && (((o = document.createElement("span")).innerHTML = n), o.classList.add("sr-only"), e.parentNode.insertBefore(o, e.nextSibling));
                                    });
                            }
                            !(function () {
                                if (void 0 !== window.Element && !("classList" in document.documentElement)) {
                                    var e,
                                        t,
                                        n,
                                        r = Array.prototype,
                                        o = r.push,
                                        i = r.splice,
                                        a = r.join;
                                    (s.prototype = {
                                        add: function (e) {
                                            this.contains(e) || (o.call(this, e), (this.el.className = this.toString()));
                                        },
                                        contains: function (e) {
                                            return -1 != this.el.className.indexOf(e);
                                        },
                                        item: function (e) {
                                            return this[e] || null;
                                        },
                                        remove: function (e) {
                                            if (this.contains(e)) {
                                                for (var t = 0; t < this.length && this[t] != e; t++);
                                                i.call(this, t, 1), (this.el.className = this.toString());
                                            }
                                        },
                                        toString: function () {
                                            return a.call(this, " ");
                                        },
                                        toggle: function (e) {
                                            return this.contains(e) ? this.remove(e) : this.add(e), this.contains(e);
                                        },
                                    }),
                                        (window.DOMTokenList = s),
                                        (e = Element.prototype),
                                        (t = "classList"),
                                        (n = function () {
                                            return new s(this);
                                        }),
                                        Object.defineProperty ? Object.defineProperty(e, t, { get: n }) : e.__defineGetter__(t, n);
                                }
                                function s(e) {
                                    for (var t = (this.el = e).className.replace(/^\s+|\s+$/g, "").split(/\s+/), n = 0; n < t.length; n++) o.call(this, t[n]);
                                }
                            })();
                            var t,
                                n,
                                r = function (e) {
                                    var t = document.createElement("link");
                                    (t.href = e), (t.media = "all"), (t.rel = "stylesheet"), document.getElementsByTagName("head")[0].appendChild(t);
                                },
                                o = function (e) {
                                    !(function (e, t, n) {
                                        var r,
                                            o = window.document,
                                            i = o.createElement("link"),
                                            a = (o.body || o.getElementsByTagName("head")[0]).childNodes;
                                        r = a[a.length - 1];
                                        var s = o.styleSheets;
                                        (i.rel = "stylesheet"),
                                            (i.href = e),
                                            (i.media = "only x"),
                                            (function e(t) {
                                                if (o.body) return t();
                                                setTimeout(function () {
                                                    e(t);
                                                });
                                            })(function () {
                                                r.parentNode.insertBefore(i, r.nextSibling);
                                            });
                                        var u = function (e) {
                                            for (var t = i.href, n = s.length; n--; ) if (s[n].href === t) return e();
                                            setTimeout(function () {
                                                u(e);
                                            });
                                        };
                                        function c() {
                                            i.addEventListener && i.removeEventListener("load", c), (i.media = "all");
                                        }
                                        i.addEventListener && i.addEventListener("load", c), (i.onloadcssdefined = u)(c);
                                    })(e);
                                },
                                i = function (e, t) {
                                    var n = t && void 0 !== t.autoFetchSvg ? t.autoFetchSvg : void 0,
                                        r = t && void 0 !== t.async ? t.async : void 0,
                                        o = t && void 0 !== t.autoA11y ? t.autoA11y : void 0,
                                        i = document.createElement("script"),
                                        a = document.scripts[0];
                                    (i.src = e),
                                        void 0 !== o && i.setAttribute("data-auto-a11y", o ? "true" : "false"),
                                        n && (i.setAttributeNode(document.createAttribute("data-auto-fetch-svg")), i.setAttribute("data-fetch-svg-from", t.fetchSvgFrom)),
                                        r && i.setAttributeNode(document.createAttribute("defer")),
                                        a.parentNode.appendChild(i);
                                };
                            function a(e, t) {
                                var n = t && t.shim ? e.license + "-v4-shims" : e.license,
                                    r = t && t.minify ? ".min" : "";
                                return e.baseUrl + "/releases/" + ("latest" === e.version ? "latest" : "v".concat(e.version)) + "/" + e.method + "/" + n + r + "." + e.method;
                            }
                            try {
                                if (window.FontAwesomeKitConfig) {
                                    var s = window.FontAwesomeKitConfig;
                                    "js" === s.method &&
                                        ((n = { async: (t = s).asyncLoading.enabled, autoA11y: t.autoA11y.enabled }),
                                        "pro" === t.license && ((n.autoFetchSvg = !0), (n.fetchSvgFrom = t.baseUrl + "/releases/" + ("latest" === t.version ? "latest" : "v".concat(t.version)) + "/svgs")),
                                        t.v4shim.enabled && i(a(t, { shim: !0, minify: t.minify.enabled })),
                                        i(a(t, { minify: t.minify.enabled }), n)),
                                        "css" === s.method &&
                                            (function (t) {
                                                var n,
                                                    i,
                                                    s,
                                                    u,
                                                    c,
                                                    l,
                                                    d,
                                                    f = e.bind(e, ["fa", "fab", "fas", "far", "fal"]);
                                                t.autoA11y.enabled &&
                                                    ((n = f),
                                                    (s = []),
                                                    (c = (u = document).documentElement.doScroll),
                                                    (l = "DOMContentLoaded"),
                                                    (d = (c ? /^loaded|^c/ : /^loaded|^i|^c/).test(u.readyState)) ||
                                                        u.addEventListener(
                                                            l,
                                                            (i = function () {
                                                                for (u.removeEventListener(l, i), d = 1; (i = s.shift()); ) i();
                                                            })
                                                        ),
                                                    d ? setTimeout(n, 0) : s.push(n),
                                                    "undefined" != typeof MutationObserver && new MutationObserver(f).observe(document, { childList: !0, subtree: !0 })),
                                                    t.v4shim.enabled && (t.asyncLoading.enabled ? o(a(t, { shim: !0, minify: t.minify.enabled })) : r(a(t, { shim: !0, minify: t.minify.enabled })));
                                                var p = a(t, { minify: t.minify.enabled });
                                                t.asyncLoading.enabled ? o(p) : r(p);
                                            })(s);
                                }
                            } catch (t) {}
                        })(),
                        "https:" != window.location.protocol && (window.location.href = "https:" + window.location.href.substring(window.location.protocol.length)),
                        $("#rightpane-inner").prepend("<div id='mediabuttons'></div>"),
                        $("#modflair").hide(),
                        $("#emotelistbtn").hide(),
                        $("#voteskip").hide(),
                        $("#fullscreenbtn").hide(),
                        $("#nav-collapsible").append("<div id='headermenu' class='headermenu'></div>"),
                        $("#videowrap-header").hide(),
                        $("body").removeClass("compact").removeClass("synchtube").removeClass("hd"),
                        $("#chatwrap").append('<div class="chat-area-footer"><div class="chat-area-buttons"><div id="chatbox"></div></div></div>'),
                        $("#chatheader").append(
                            '<div class="chat-area-header"><div class="chat-area-title" data-tooltip="Toggle title scroll" data-tooltip-pos="down-left"><i id="marq" class="fad fa-play" onclick="toggleClassTitle()"></i></div><div class="chat-area-group"><span></span></div>'
                        ),
                        $('div[class^="chat-msg-"], div[class*=" chat-msg-"]').css({ "min-height": "20px" });
                    $("#videowrap").addClass("vjs-theme-city"),
                        $(".server-msg-reconnect").addClass("fad fa-plug"),
                        $(".server-msg-reconnect").text(""),
                        $("body").addClass("darktheme"),
                        $("#userlisttoggle").removeClass("glyphicon glyphicon-chevron-down pull-left pointer"),
                        $("#newpollbtn").removeClass("btn btn-sm btn-default").addClass("headerbtn"),
                        $("#leader").removeClass("btn btn-sm btn-default"),
                        $("#Notif").removeClass("btn btn-sm btn-default"),
                        $("#fullscreenbtn").removeClass("btn-default").addClass("fad fa-expand-arrows-alt"),
                        $("#userlisttoggle").addClass("fa fa-users ch").text(""),
                        $("#showchansettings").text("Admin Settings"),
                        $("#controlsrow").after($("#motdrow")),
                        $(".container-fluid").append($("#footer")),
                        $("#footer")
                            .children(".container")
                            .append(
                                '<p class="text-muted credit">Copyrights and trademarks for the shows and other promotional materials are held by their respective owners and their use is allowed under the fair use clause of the Copyright Law. The author is not responsible for any contents linked or referred to from his pages, All CyTu.be does is link or embed content that was uploaded to popular Online Video hosting sites like Youtube.com / Google drive. All Google users signed a contract with the sites when they set up their accounts wich forces them not to upload illegal content.(<a href="https://www.lumendatabase.org/topics/14">DMCA Safe Harbor</a>)<h4><center><br>BillTube Theme 2</p>(<a href="http://discord.gg/fwadWd9">Available Now</a>)</center></h4>'
                            ),
                        $("#mainpage").prepend($("#chatwrap")),
                        $("#userlist").prepend("<div id='connected'></div>"),
                        $("#userlisttoggle").append($("#usercount")),
                        $("#connected").append("<span id='connectedText'>&nbsp Logged in users</span>"),
                        $("#main").after($("#drinkbarwrap")),
                        $("#nav-collapsible").append("<div id='headright'><div id='progbar'></div></div>"),
                        $(".chat-area-title").after($("#currenttitle")),
                        $("#emotelistbtn").text("").removeClass("btn btn-sm btn-default").addClass("fa fa-picture-o ch"),
                        $("#fullscreenbtn").text("").addClass("fa fa-arrows-alt").removeClass("btn btn-sm"),
                        $("#loginform").detach().after("#headermenu"),
                        $("#nav-collapsible").after($("#fullscreenbtn")),
                        $("#morebtn").after($("#videocontrols")),
                        $("#videocontrols").removeClass("pull-right"),
                        $("#chatline").attr("placeholder", "Send a message"),
                        $("#userlist").attr("style", "display: none;"),
                        $("#main").after($("#motdrow")),
                        $("#motdwrap").append($(".visible-lg")),
                        $("#morebtn").after("<ul class='dropdown-menu'><li id='mediarefreshli'></li><li><button></button></li><li id='modli'></li><li><button></button></li></ul>"),
                        $("#modli").append($("#modflair")),
                        $("#videoinfo").after($("#rightpane")),
                        $("#rightpane-inner").addClass("section"),
                        $("#mediarefresh").addClass("fal fa-sync OLB").removeClass("btn btn-sm btn-default").text(""),
                        $("#userlist").addClass("animated animatedFadeInUp fadeInUp"),
                        $("#queue").addClass("queue_sortable"),
                        $("#rightpane").after("<div id='queuecontainer' class='section'><div class='textheader'><p id='upnext' class='sectionheader'>Up Next</p></div></div>"),
                        $("#queuecontainer").append($("#queue")),
                        $("#upnext").append($("#plmeta")).after("<ul id='ploptions' class='menu hidden' role='menu'></ul>"),
                        $("#ploptions").append($("#shuffleplaylist"), $("#clearplaylist"), $("#getplaylist")),
                        $("#upnext").before($("#qlockbtn")),
                        $("#queuecontainer").hover(
                            function () {
                                $("#pllength").css({ opacity: "0.9" });
                            },
                            function () {
                                $("#pllength").css({ opacity: "0" });
                            }
                        ),
                        window.CLIENT.rank >= 3 && $("#ploptions").removeClass("hidden"),
                        $("body").addClass("fluid"),
                        $("#videowrap").addClass("col-lg-7 col-md-7"),
                        $("#mediabuttons").append($("#showmediaurl"), $("#showsearch"), $("#showplaylistmanager"), $("#showcustomembed")),
                        $("#videowrap").removeClass("col-md-8 col-md-offset-2"),
                        $("body").removeClass("synchtube"),
                        $("#usertheme").attr("href", "/css/themes/slate.css"),
                        $("#main").append($("#videowrap")),
                        $("#maincontain .nano-content").append($("#mainpage > .container")),
                        $("#videowrap").after($("#pollwrap")),
                        $("#mainpage").append("<div class='nano' id='maincontain'></div>"),
                        $("#maincontain").append("<div class='nano-content'></div>"),
                        $("#maincontain .nano-content").append($("#mainpage > .container-fluid")),
                        $("video").attr("crossOrigin", "anonymous"),
                        $("#usertheme").attr("href", "/css/themes/slate.css"),
                        $("#maincontain .nano-content").append($("#mainpage > .container")),
                        $("#messagebuffer").after("<div class='nano'></div>"),
                        $("#chatwrap .nano").append($("#messagebuffer")),
                        $("#chatwrap")
                            .children(".form-control")
                            .before(
                                "<input type='text' id='username'style='width:0;height:0;visibility:hidden;position:absolute;left:0;top:0' /><input type='password'style='width:0;height:0;visibility:hidden;position:absolute;left:0;top:0' />"
                            ),
                        $(".form-control").attr("autocomplete", "off"),
                        $("nav .navbar-brand").attr("href", document.URL),
                        $("#mainpage").append("<style id='splitRatio'>@media (min-width: 992px) {#mainpage > .nano {width: 83%;} #chatwrap {width: 17%;}}</style>"),
                        $("#maincontain").addClass("maincontain"),
                        $("#sitefooter").append($("#logoutform")),
                        $("#logoutform").removeClass("pull-right"),
                        $("#modflair").detach().prependTo("#headermenu"),
                        $(".chat-area-header").after("<div class='nano'></div>"),
                        $("#chatbox").append($("#chatline")).append($("#guestlogin")),
                        $(".chat-area-group").append($("#userlisttoggle")),
                        $("#chatline").attr("autocomplete", "on"),
                        $("#usercount").unbind(),
                        $("#announcements").detach().appendTo("#sitefooter"),
                        $("#videowrap-header").remove(),
                        $("#resizewrap").remove();
                    var n = $("#emotelist");
                    $("#emotelistbutton").click(function () {
                        n.modal();
                    }),
                        (KEYDOWN = !0),
                        (MOUSEOVER = !0),
                        socket.on("login", function () {
                            0 === CLIENT.rank &&
                                $(window).on("mouseover", function () {
                                    MOUSEOVER &&
                                        ((MOUSEOVER = !1),
                                        $('<div class="server-msg-reconnect">Welcome Guest, please consider creating an account.</div>').appendTo("#messagebuffer"),
                                        scrollChat(),
                                        setTimeout(function () {
                                            MOUSEOVER = !1;
                                        }, 1e3));
                                });
                        }),
                        "1" == BG_Dimmed && $("<style>").attr("type", "text/css").appendTo("#wrap").text("\n#wrap:before{background-color:rgba(0, 0, 0, 0.8);}"),
                        0 !== $("#usercount").length &&
                            ($("#usercount").text($("#usercount").text().replace("connected users", " ").replace("connected user", " ")),
                            window.socket.on("usercount", function () {
                                $("#usercount").text($("#usercount").text().replace("connected users", " ").replace("connected user", " ")), $("#usercount").text($("#usercount").text().replace("not connected", " "));
                            })),
                        0 !== $("#currenttitle").length &&
                            ($("#currenttitle").text($("#currenttitle").text().replace(/[.]/g, " ")),
                            $("#currenttitle").text($("#currenttitle").text().replace("Currently Playing:", " ").replace("Currently Playing:", " ")),
                            window.socket.on("changeMedia", function () {
                                $("#currenttitle").text($("#currenttitle").text().replace(/[.]/g, " ")), $("#currenttitle").text($("#currenttitle").text().replace("Currently Playing:", " ").replace("Currently Playing:", " "));
                            })),
                        (DROPBOX = "https://dl.dropboxusercontent.com/s/"),
                        $(document).ready(function () {
                            $("video").bind("contextmenu", function () {
                                return !1;
                            });
                        }),
                        window.socket.on("changeMedia", function () {
                            var e = document.getElementById("ytapiplayer");
                            e.addEventListener
                                ? e.addEventListener(
                                      "contextmenu",
                                      function (e) {
                                          e.preventDefault();
                                      },
                                      !1
                                  )
                                : e.attachEvent("oncontextmenu", function () {
                                      window.event.returnValue = !1;
                                  });
                        });
                    var r = document.getElementById("ytapiplayer");
                    r.addEventListener
                        ? r.addEventListener(
                              "contextmenu",
                              function (e) {
                                  e.preventDefault();
                              },
                              !1
                          )
                        : r.attachEvent("oncontextmenu", function () {
                              window.event.returnValue = !1;
                          }),
                        $("#mediaurl").on("paste", function () {
                            setTimeout(function () {
                                $("#mediaurl")[0].value = $("#mediaurl")[0].value.replace("//www.dropbox.com/s/", "//dl.dropbox.com/s/").replace("?dl=0", "").replace("?a=view", "");
                            }, 1),
                                setTimeout(function () {
                                    if (0 !== $("#addfromurl-title-val").length) {
                                        var e = decodeURI($("#mediaurl")[0].value).split("/");
                                        e = e[e.length - 1].split("?")[0].split(".");
                                        var t = "";
                                        for (i = 0; i < e.length - 1; i++) t += e[i] + ".";
                                        (t = t
                                            .substring(0, t.length - 1)
                                            .replace(/[.]/g, " ")
                                            .replace("HDTV", "")
                                            .replace("720p", "")
                                            .replace("1080p", "")
                                            .replace("-tNe", "")
                                            .replace("x265", "")
                                            .replace("x264", "")
                                            .replace("q22", "")
                                            .replace("Joy", "")
                                            .replace("(", "")
                                            .replace(")", "")),
                                            ($("#addfromurl-title-val")[0].value = t);
                                    }
                                }, 250);
                        }),
                        "#" === location.href.charAt(location.href.length - 1) && chatOnly(),
                        (_timeVIDEBLU = { raw: 0, ofs: 0, paused: !1 }),
                        (currentmedia = { istemp: !1, location: 0, uid: 0, id: 0, seconds: 0, length: 0 }),
                        (playlistinfo = { length: 0 }),
                        (issplit = !1);
                    "undefined" == typeof _changeMediaVIDEBLU && (_changeMediaVIDEBLU = Callbacks.changeMedia),
                        "undefined" == typeof _playlistVIDEBLU && (_playlistVIDEBLU = Callbacks.playlist),
                        "undefined" == typeof _queueVIDEBLU && (_queueVIDEBLU = Callbacks.queue),
                        "undefined" == typeof _mediaupdateVIDEBLU && (_mediaUpdateVIDEBLU = Callbacks.mediaUpdate),
                        (Callbacks.queue = function (e) {
                            _queueVIDEBLU(e), console.log("Called Callbacks.queue"), console.log(e);
                        }),
                        (Callbacks.changeMedia = function (e) {
                            _changeMediaVIDEBLU(e), $("#currenttitle").text(e.title), $("#ss7time").attr("title", e.duration), (currentmedia.length = e.duration), (currentmedia.id = e.id), (currentmedia.seconds = e.seconds);
                            var t = $("#queue .queue_active").attr("title");
                            $("#addedby").text(t.match(/(?:Added by: ){1}(.*)/)[1]);
                        }),
                        (Callbacks.mediaUpdate = function (e) {
                            _mediaUpdateVIDEBLU(e), (_timeVIDEBLU.paused = e.paused), (_timeVIDEBLU.raw = Math.max(e.currentTime, 0)), (_timeVIDEBLU.ofs = _timeVIDEBLU.raw - new Date().getTime() / 1e3);
                        }),
                        (setvideotime = function () {
                            var e = _timeVIDEBLU.paused ? _timeVIDEBLU.raw : new Date().getTime() / 1e3 + _timeVIDEBLU.ofs,
                                t = Math.round((100 * e) / currentmedia.seconds);
                            t > 100 && (t = 0), $("#progbar").css("width", t + "%"), setTimeout(setvideotime, 1e3 * (Math.round(e) + 1 - e));
                            var n = (e = Math.round(e)) % 60,
                                r = (e = Math.floor(e / 60)) % 60,
                                o = Math.floor(e / 60);
                            n < 10 && (n = "0" + n),
                                r < 10 && (r = "0" + r),
                                o < 10 && (o = "0" + o),
                                currentmedia.seconds > 3598 ? $("#ss7time").text(o + ":" + r + ":" + n) : 0 == o ? $("#ss7time").text(r + ":" + n) : "--:--" == currentmedia.length && $("#ss7time").text("Live");
                        }),
                        setvideotime(),
                        $("#drinkbar").click(function () {
                            $("#drinkcount").remove();
                        }),
                        $(document).ready(function () {
                            $("video").bind("contextmenu", function () {
                                return !1;
                            });
                        }),
                        (scrollbtn = $('<button id="scroll-btn" class="btn btn-sm btn-default" title="Scroll to current item" />')
                            .append('<span class="glyphicon glyphicon-hand-right" />')
                            .prependTo("#ploptions")
                            .on("click", function () {
                                scrollQueue();
                            }));
                    var o = void 0 !== o;
                    o && location.reload(), (document.querySelector("#videowrap").style.display = "block"), $("body").addClass("fluid");
                    var a = document.querySelectorAll("[data-persist]");
                    for (i = 0; i < a.length; i++) {
                        var s = localStorage.getItem(a[i].getAttribute("data-persist"));
                        s && (a[i].value = s),
                            a[i].addEventListener("input", function () {
                                localStorage.setItem(this.getAttribute("data-persist"), this.value);
                            });
                    }
                }
                $("#queuecontainer > div").append("<input type='text' class='search form-control pls' placeholder='Video Search'>"),
                    $(document).ready(function () {
                        $(".search").keyup(function () {
                            var e = $(".search").val(),
                                t = ($("#queue").children("li"), e.replace(/ /g, "'):containsi('"));
                            $.extend($.expr[":"], {
                                containsi: function (e, t, n, r) {
                                    return (e.textContent || e.innerText || "").toLowerCase().indexOf((n[3] || "").toLowerCase()) >= 0;
                                },
                            }),
                                $("#queue li")
                                    .not(":containsi('" + t + "')")
                                    .each(function (e) {
                                        $(this).attr("visible", "false");
                                    }),
                                $("#queue li:containsi('" + t + "')").each(function (e) {
                                    $(this).attr("visible", "true");
                                });
                            var n = $('#queue li[visible="true"]').length;
                            $(".counter").text(n + " item"), "0" == n ? $(".no-result").show() : $(".no-result").hide();
                        });
                    }),
                    socket.on("setAFK", scrollChat),
                    socket.on("chatMsg", scrollChat),
                    socket.on("chatMsg", function (e) {
                        (-1 == e.msg.indexOf("<a") && -1 == e.msg.indexOf("<img")) || setTimeout(scrollChat, 500);
                    }),
                    window.addEventListener("resize", function () {
                        document.getElementById("messagebuffer").scrollTo(0, 1e4);
                    }),
                    $("#maincontain").addClass("Overlay-Scrollbars"),
                    $("#maincontain").addClass("leftcontent"),
                    $("#chatwrap").addClass("rightcontent"),
                    socket.on("closePoll", function () {
                        $("#closepolls").remove(),
                            $(".well.muted").unbind().insertAfter("#navtabs"),
                            $('<button class="btn btn-xs closepolls" id="closepolls">Clear All Polls</button>')
                                .insertBefore(".well.muted:first")
                                .click(function () {
                                    $(".well.muted").remove(), $("#closepolls").remove();
                                });
                    }),
                    $('#nav-collapsible a:contains("Layout")').remove(),
                    $("#us-general > form").hide(),
                    $("#us-general > form").after(
                        '<div id="btscreen"><div class="card-frame"><div class="left"><div class="billtube">BillTube Theme 2.0</div><div class="billtubeinfo">For more information about this theme join my Discord at <a href="http://discord.gg/fwadWd9" target="_blank">Discord.gg/fwadWd9</a></div></div></div></div>'
                    ),
                    (this.getViewportSize = function () {
                        return { width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0), height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0) };
                    }),
                    (this.addMessageToChatInput = function (e, t) {
                        var n = $(chatline);
                        "begin" === (t = t || "end") ? (e += n.val()) : (e = n.val() + e), n.val(e).focus();
                    });
            };
        },
        function (e, t) {
            window.CytubeEnhancedStorage = function (e, t, n) {
                var r = this;
                (t = void 0 === t || t), (n = void 0 !== n && n);
                var o = {},
                    i = {},
                    a = {};
                try {
                    (a = JSON.parse(window.localStorage.getItem(e + "-" + (t ? "" : CHANNEL.name) + e))), (a = _.isPlainObject(a) ? a : {});
                } catch (e) {
                    a = {};
                }
                (i = _.cloneDeep(a)),
                    (this.getDefault = function (e) {
                        return o[e];
                    }),
                    (this.setDefault = function (e, t) {
                        (t = _.cloneDeep(t)), (o[e] = t), (a[e] = void 0 !== a[e] ? a[e] : t), (i[e] = void 0 !== i[e] ? i[e] : t);
                    }),
                    (this.get = function (e) {
                        return a[e];
                    }),
                    (this.set = function (e, t) {
                        var o = (a[e] = _.cloneDeep(t));
                        return n && r.save(), o;
                    }),
                    (this.toggle = function (e) {
                        var t = (a[e] = !a[e]);
                        return n && r.save(), t;
                    }),
                    (this.isDirty = function (e) {
                        var t = !1;
                        if (_.isArray(e)) {
                            for (var n in e)
                                if (!s(a[n], i[n])) {
                                    t = !0;
                                    break;
                                }
                        } else t = !s(a[e], i[e]);
                        return t;
                    }),
                    (this.save = function () {
                        try {
                            return window.localStorage.setItem(e + "-" + (t ? "" : CHANNEL.name) + e, JSON.stringify(a));
                        } catch (e) {
                            return !1;
                        }
                    }),
                    (this.reset = function () {
                        a = _.cloneDeep(o);
                    });
                var s = function (e, t) {
                    return _.isArray(e) && _.isArray(t) ? 0 === _.difference(e, t).length && 0 === _.difference(t, e).length : _.isEqual(e, t);
                };
            };
        },
        function (e, t) {
            window.CytubeEnhancedUISettings = function (e) {
                "use strict";
                var t = this;
                (this.$navbar = $("#nav-collapsible").find(".navbar-nav")),
                    (this.tabs = {}),
                    (this.$tabsContainerHeader = $('<div class="' + e.prefix + 'ui__header"></div>')),
                    (this.$tabsContainerBody = $('<div class="' + e.prefix + 'ui__body tab-content"></div>')),
                    (this.$tabsContainerTabs = $('<ul class="nav nav-tabs">')),
                    (this.$tabsContainerFooter = $('<div class="' + e.prefix + 'ui__footer"></div>')),
                    (this.$tabsContainerOpenButton = $('<a href="#" id="' + e.prefix + 'ui"></a>')
                        .text(e.t("settings[.]Theme settings"))
                        .on("click", function (e) {
                            e.preventDefault(), e.stopPropagation(), t.openSettings();
                        })),
                    $("#settings").click(function (e) {
                        e.preventDefault(), e.stopPropagation(), t.openSettings();
                    }),
                    $("#useroptions .modal-header .nav-tabs").length,
                    this.$tabsContainerOpenButton.appendTo(t.$navbar).wrap("<li>"),
                    (this.themeTabName = "theme-settings"),
                    (this.themeTabTitle = e.t("themes[.]Theme settings")),
                    (this.storage = new CytubeEnhancedStorage("settings", !1));
                var n = !1;
                $("<h4>" + e.t("settings[.]Extended settings") + "</h4>").appendTo(t.$tabsContainerHeader),
                    t.$tabsContainerTabs.appendTo(t.$tabsContainerHeader),
                    $('<button type="button" data-dismiss="modal" class="btn btn-success">' + e.t("settings[.]Save") + "</button>")
                        .appendTo(t.$tabsContainerFooter)
                        .on("click", function () {
                            t.save();
                        }),
                    $('<button type="button" data-dismiss="modal" class="' + e.prefix + 'user-settings btn btn-default">' + e.t("settings[.]Cancel") + "</button>").appendTo(t.$tabsContainerFooter),
                    (this.onSave = function (n) {
                        $(document).on(e.prefix + "settings.save", function () {
                            n(t.storage);
                        });
                    }),
                    (this.save = function () {
                        $(document).trigger(e.prefix + "settings.save"),
                            t.storage.save(),
                            n &&
                                e.UI.createConfirmWindow(e.t("settings[.]Some settings need to refresh the page to get to work. Do it now?"), function () {
                                    window.location.reload();
                                });
                    }),
                    (this.reset = function () {
                        t.storage.reset(),
                            e.UI.createConfirmWindow(e.t("settings[.]Some settings need to refresh the page to get to work. Do it now?"), function () {
                                window.location.reload();
                            });
                    }),
                    (this.getTab = function (n, r, o) {
                        return void 0 !== t.tabs[n]
                            ? t.tabs[n]
                            : r
                            ? (function (n, r, o) {
                                  var i = new window.CytubeEnhancedUITab(e, n, r, o);
                                  return i.$button.appendTo(t.$tabsContainerTabs), i.$content.appendTo(t.$tabsContainerBody), (t.tabs[n] = i), t.sortTabs(), i;
                              })(n, r, o)
                            : null;
                    }),
                    (this.configureTheme = function (n) {
                        var r = t.getTab(t.themeTabName, t.themeTabTitle, 99999),
                            o = new CytubeEnhancedStorage("themes." + e.Settings.storage.get("themes.selected"), !0, !0);
                        n(e, r, o);
                    }),
                    (this.openTab = function (e) {
                        return !!t.tabs[e] && (t.tabs[e].show(), !0);
                    }),
                    (t.removeTab = function (e) {
                        return !!t.tabs[e] && (t.tabs[e].remove(), delete t.tabs[e], !0);
                    }),
                    (this.sortTabs = function () {
                        var e = [];
                        for (var n in t.tabs) e.push(t.tabs[n]);
                        for (
                            var r = 0,
                                o = (e = e.sort(function (e, t) {
                                    return e.sort > t.sort ? 1 : e.sort < t.sort ? -1 : 0;
                                })).length;
                            r < o;
                            r++
                        )
                            e[r].$button.detach().appendTo(t.$tabsContainerTabs);
                    }),
                    (this.openSettings = function () {
                        var n;
                        for (var r in (e.UI.createModalWindow("settings", t.$tabsContainerHeader, t.$tabsContainerBody, t.$tabsContainerFooter, !0), t.tabs)) (void 0 === n || void 0 === n.sort || n.sort > t.tabs[r].sort) && (n = t.tabs[r]);
                        n.show();
                    }),
                    (this.requestPageReload = function () {
                        n = !0;
                    });
            };
        },
        function (e, t) {
            window.CytubeEnhancedUITab = function (e, t, n, r) {
                "use strict";
                var o = this;
                (this.$button = $('<li><a href="#' + e.prefix + t + '__content" class="' + t + '__button" data-toggle="tab">' + n + "</a></li>")),
                    (this.$content = $('<div id="' + e.prefix + t + '__content" class="tab-pane">')),
                    (this.$form = e.UI.createControlsWrapper("horizontal").appendTo(this.$content)),
                    (this.sort = Math.abs(parseInt(r, 10)) || 0),
                    (this.controls = {}),
                    (this.show = function () {
                        o.$button.find("a").tab("show"), $(document).trigger(e.prefix + "tab-" + t + ".show");
                    }),
                    this.$button.on("show.bs.tab", function () {
                        $(document).trigger(e.prefix + "tab-" + t + ".show");
                    }),
                    (this.onShow = function (n) {
                        $(document).on(e.prefix + "tab-" + t + ".show", function () {
                            n(o);
                        });
                    }),
                    (this.addControl = function (t, n, r, i, a, s, u, c) {
                        (t = -1 != ["select", "checkbox"].indexOf(t) ? t : "select"), (u = Math.abs(parseInt(u, 10)) || 0);
                        var l = "create" + t.slice(0, 1).toUpperCase() + t.slice(1) + "Control",
                            d = e.UI[l](n, r, i, a, s);
                        return d.data("sort", u), (o.controls[i] = { $el: d, sort: u }), c ? d.appendTo(c) : d.appendTo(o.$form), o.sortControls(), d;
                    }),
                    (this.sortControls = function () {
                        var e = [];
                        for (var t in o.controls) e.push(o.controls[t]);
                        for (
                            var n = 0,
                                r = (e = e.sort(function (e, t) {
                                    return e.sort > t.sort ? 1 : e.sort < t.sort ? -1 : 0;
                                })).length;
                            n < r;
                            n++
                        )
                            e[n].$el.detach().appendTo(o.$form);
                    }),
                    (this.getName = function () {
                        return t;
                    }),
                    (this.remove = function () {
                        o.$button.empty(), o.$content.empty();
                    });
            };
        },
        function (e, t) {
            window.CytubeEnhancedUI = function (e) {
                var t = this;
                (this.createModalWindow = function (t, n, r, o, i) {
                    $(".modal").modal("hide"), (t = e.prefix + "modal-" + t);
                    var a = $("#" + t);
                    if (i) {
                        if (a.length) return a.modal("show"), a;
                    } else a.remove();
                    var s = $('<div class="modal fade" id="' + t + '" role="dialog" tabindex="-1">').appendTo($("body")),
                        u = $('<div class="modal-dialog modal-lg">').appendTo(s),
                        c = $('<div class="modal-content">').appendTo(u);
                    if (n) {
                        var l = $('<div class="modal-header">').append(n).appendTo(c);
                        $('<button type="button" class="close" data-dismiss="modal" aria-label="' + e.t("Close") + '">')
                            .html('<span aria-hidden="true">&times;</span>')
                            .prependTo(l);
                    }
                    return (
                        r && $('<div class="modal-body">').append(r).appendTo(c),
                        o && $('<div class="modal-footer">').append(o).appendTo(c),
                        i ||
                            s.on("hidden.bs.modal", function () {
                                $(this).remove();
                            }),
                        s.modal({ keyboard: !0 }),
                        s
                    );
                }),
                    (this.createConfirmWindow = function (n, r) {
                        var o = $('<div class="modal fade ' + e.prefix + 'modal-confirm modal-centered" role="dialog" tabindex="-1">').appendTo($("body")),
                            i = $('<div class="modal-dialog modal-sm">').appendTo(o),
                            a = $('<div class="modal-content">').appendTo(i);
                        $('<div class="modal-header">').html($('<h3 class="modal-title">').text(n)).appendTo(a);
                        var s = $('<div class="modal-footer">').appendTo(a);
                        $('<button type="button" data-dismiss="modal" class="btn btn-default">' + e.t("Confirm") + "</button>")
                            .appendTo(s)
                            .on("click", function () {
                                r();
                            }),
                            $('<button type="button" data-dismiss="modal" class="' + e.prefix + 'user-settings btn btn-default">' + e.t("Cancel") + "</button>").appendTo(s),
                            o.on("shown.bs.modal", function () {
                                t.centerModals($(this));
                            }),
                            o.on("hidden.bs.modal", function () {
                                $(this).remove();
                            }),
                            o.modal({ keyboard: !0 });
                    }),
                    (this.createControlsWrapper = function (e) {
                        return (e = -1 != ["default", "horizontal", "inline"].indexOf(e) ? e : "default"), $('<div class="form-' + e + '">');
                    }),
                    (this.createSelectControl = function (t, n, r, o, i) {
                        o = o || [];
                        var a,
                            s,
                            u = $('<div class="form-group">');
                        if ("horizontal" == t) {
                            $('<label for="' + e.prefix + r + '" class="control-label col-sm-4">' + n + "</label>").appendTo(u);
                            var c = $('<div class="col-sm-8">').appendTo(u);
                            a = $('<select id="' + e.prefix + r + '" class="form-control">').appendTo(c);
                        } else $('<label for="' + e.prefix + r + '">' + n + "</label>").appendTo(u), (a = $('<select id="' + e.prefix + r + '" class="form-control">').appendTo(u));
                        i && a.on("change", i);
                        for (var l = 0, d = o.length; l < d; l++) (s = o[l].selected ? "selected" : ""), a.append('<option value="' + o[l].value + '" ' + s + ">" + o[l].title + "</option>");
                        return u;
                    }),
                    (this.createButton = function (e, t, n) {
                        var r = $('<button type="button" class="btn btn-' + e + '">' + t + "</button>");
                        return n && r.on("click", n), r;
                    }),
                    (this.toggleLoader = function (e, t) {
                        e.each(function () {
                            void 0 === t && (t = e.hasClass("loading-spinner__loading") ? "off" : "on"),
                                $(this).removeClass("loading-spinner__loading"),
                                $(".loading-spinner__overlay").remove(),
                                $(this).css("height", "auto"),
                                $(this).css("width", "auto"),
                                "on" === t &&
                                    ($(this).addClass("loading-spinner__loading"),
                                    $(this).css("height", $(this).outerHeight()),
                                    $(this).css("width", $(this).outerWidth()),
                                    $('<div class="loading-spinner__overlay">').append($('<div class="loading-spinner__wrapper">').append('<div class="loading-spinner">')).appendTo($(this)));
                        });
                    }),
                    ($.fn.toggleLoader = function (e) {
                        t.toggleLoader($(this), e);
                    }),
                    (this.centerModals = function (e) {
                        void 0 === e && (e = $(".modal-centered")),
                            e.each(function () {
                                var t = e.find(".modal-dialog");
                                t.css({ display: "block", marginTop: Math.max(0, ($(window).height() - t.outerHeight()) / 2) });
                            });
                    }),
                    $(window).resize(function () {
                        t.centerModals();
                    });
            };
        },
        function (e, t, n) {
            n(7),
                (window.CytubeEnhanced = function (e, t, n) {
                    "use strict";
                    var r = this;
                    (this.translations = {}), (this.prefix = "ce-"), (this.version = "2.7.0");
                    var o = {};
                    if (
                        ((this.getModule = function (e) {
                            var t = $.Deferred(),
                                n = 6e4;
                            return (
                                (function r() {
                                    if (void 0 !== o[e]) t.resolve(o[e]);
                                    else {
                                        if (n <= 0) throw new Error("Load timeout for module " + e + ".");
                                        (n -= 100), setTimeout(r, 100);
                                    }
                                })(),
                                t
                            );
                        }),
                        (this.addModule = function (e, r) {
                            if (this.isModulePermitted(e)) {
                                var i = new r(this, t[e] || {});
                                n[e] && n[e](i), (o[e] = i);
                            }
                        }),
                        (this.isModulePermitted = function (e) {
                            return !t.hasOwnProperty(e) || !t[e].hasOwnProperty("enabled") || t[e].enabled;
                        }),
                        (this.addTranslation = function (e, t) {
                            void 0 === r.translations[e] ? (r.translations[e] = t) : $.extend(!0, r.translations[e], t);
                        }),
                        (this.t = function (e) {
                            var t = e;
                            if ("en" !== r.storage.get("language") && r.translations[r.storage.get("language")])
                                if (-1 !== e.indexOf("[.]")) {
                                    var n = e.split("[.]");
                                    if (void 0 === (t = r.translations[r.storage.get("language")][n[0]])) return (t = e.split("[.]").pop()) || e;
                                    for (var o = 1, i = n.length; o < i; o++) if (void 0 === (t = t[n[o]])) return (t = e.split("[.]").pop()) || e;
                                    t = t || n[n.length - 1];
                                } else t = r.translations[r.storage.get("language")][e];
                            else -1 !== e.indexOf("[.]") && (t = (t = e.split("[.]").pop()) || e);
                            return t;
                        }),
                        (this.parseJSON = function (e, t) {
                            var n;
                            t = void 0 !== t ? t : null;
                            try {
                                n = window.JSON.parse(e);
                            } catch (e) {
                                n = t;
                            }
                            return n;
                        }),
                        (this.toJSON = function (e, t) {
                            var n;
                            t = void 0 !== t ? t : null;
                            try {
                                n = window.JSON.stringify(e);
                            } catch (e) {
                                n = t;
                            }
                            return n;
                        }),
                        $.ajaxSetup({ cache: !0 }),
                        window.cytubeEnhancedDefaultTranslates)
                    )
                        for (var i in window.cytubeEnhancedDefaultTranslates) this.addTranslation(i, window.cytubeEnhancedDefaultTranslates[i]);
                    (this.storage = new window.CytubeEnhancedStorage("default", !0, !0)),
                        this.storage.setDefault("language", e),
                        (this.UI = new window.CytubeEnhancedUI(this)),
                        (this.Helpers = new window.CytubeEnhancedHelpers(this)),
                        (this.Settings = new window.CytubeEnhancedUISettings(this));
                });
        },
        function (e, t, n) {
            var r;
            (function (e, o) {
                (function () {
                    var i,
                        a = 200,
                        s = "Expected a function",
                        u = "__lodash_hash_undefined__",
                        c = "__lodash_placeholder__",
                        l = 32,
                        d = 128,
                        f = 256,
                        p = 1 / 0,
                        m = 9007199254740991,
                        h = NaN,
                        g = 4294967295,
                        v = "[object Arguments]",
                        b = "[object Array]",
                        y = "[object Boolean]",
                        w = "[object Date]",
                        C = "[object Error]",
                        x = "[object Function]",
                        _ = "[object GeneratorFunction]",
                        k = "[object Map]",
                        T = "[object Number]",
                        E = "[object Object]",
                        S = "[object Promise]",
                        $ = "[object RegExp]",
                        N = "[object Set]",
                        A = "[object String]",
                        O = "[object Symbol]",
                        D = "[object WeakMap]",
                        R = "[object ArrayBuffer]",
                        B = "[object DataView]",
                        P = "[object Float32Array]",
                        I = "[object Float64Array]",
                        L = "[object Int8Array]",
                        M = "[object Int16Array]",
                        j = "[object Int32Array]",
                        F = "[object Uint8Array]",
                        U = "[object Uint8ClampedArray]",
                        H = "[object Uint16Array]",
                        z = "[object Uint32Array]",
                        q = /\b__p \+= '';/g,
                        V = /\b(__p \+=) '' \+/g,
                        W = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
                        K = /&(?:amp|lt|gt|quot|#39|#96);/g,
                        G = /[&<>"'`]/g,
                        Y = RegExp(K.source),
                        X = RegExp(G.source),
                        J = /<%-([\s\S]+?)%>/g,
                        Q = /<%([\s\S]+?)%>/g,
                        Z = /<%=([\s\S]+?)%>/g,
                        ee = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
                        te = /^\w*$/,
                        ne = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,
                        re = /[\\^$.*+?()[\]{}|]/g,
                        oe = RegExp(re.source),
                        ie = /^\s+|\s+$/g,
                        ae = /^\s+/,
                        se = /\s+$/,
                        ue = /[a-zA-Z0-9]+/g,
                        ce = /\\(\\)?/g,
                        le = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
                        de = /\w*$/,
                        fe = /^0x/i,
                        pe = /^[-+]0x[0-9a-f]+$/i,
                        me = /^0b[01]+$/i,
                        he = /^\[object .+?Constructor\]$/,
                        ge = /^0o[0-7]+$/i,
                        ve = /^(?:0|[1-9]\d*)$/,
                        be = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,
                        ye = /($^)/,
                        we = /['\n\r\u2028\u2029\\]/g,
                        Ce =
                            "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
                        xe = "[" + Ce + "]",
                        _e = "[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",
                        ke = "\\d+",
                        Te = "[a-z\\xdf-\\xf6\\xf8-\\xff]",
                        Ee = "[^\\ud800-\\udfff" + Ce + ke + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",
                        Se = "\\ud83c[\\udffb-\\udfff]",
                        $e = "[^\\ud800-\\udfff]",
                        Ne = "(?:\\ud83c[\\udde6-\\uddff]){2}",
                        Ae = "[\\ud800-\\udbff][\\udc00-\\udfff]",
                        Oe = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
                        De = "(?:" + Te + "|" + Ee + ")",
                        Re = "(?:" + Oe + "|" + Ee + ")",
                        Be = "(?:" + _e + "|" + Se + ")?",
                        Pe = "[\\ufe0e\\ufe0f]?" + Be + "(?:\\u200d(?:" + [$e, Ne, Ae].join("|") + ")[\\ufe0e\\ufe0f]?" + Be + ")*",
                        Ie = "(?:" + ["[\\u2700-\\u27bf]", Ne, Ae].join("|") + ")" + Pe,
                        Le = "(?:" + [$e + _e + "?", _e, Ne, Ae, "[\\ud800-\\udfff]"].join("|") + ")",
                        Me = RegExp("[']", "g"),
                        je = RegExp(_e, "g"),
                        Fe = RegExp(Se + "(?=" + Se + ")|" + Le + Pe, "g"),
                        Ue = RegExp(
                            [
                                Oe + "?" + Te + "+(?:['](?:d|ll|m|re|s|t|ve))?(?=" + [xe, Oe, "$"].join("|") + ")",
                                Re + "+(?:['](?:D|LL|M|RE|S|T|VE))?(?=" + [xe, Oe + De, "$"].join("|") + ")",
                                Oe + "?" + De + "+(?:['](?:d|ll|m|re|s|t|ve))?",
                                Oe + "+(?:['](?:D|LL|M|RE|S|T|VE))?",
                                ke,
                                Ie,
                            ].join("|"),
                            "g"
                        ),
                        He = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),
                        ze = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
                        qe = [
                            "Array",
                            "Buffer",
                            "DataView",
                            "Date",
                            "Error",
                            "Float32Array",
                            "Float64Array",
                            "Function",
                            "Int8Array",
                            "Int16Array",
                            "Int32Array",
                            "Map",
                            "Math",
                            "Object",
                            "Promise",
                            "Reflect",
                            "RegExp",
                            "Set",
                            "String",
                            "Symbol",
                            "TypeError",
                            "Uint8Array",
                            "Uint8ClampedArray",
                            "Uint16Array",
                            "Uint32Array",
                            "WeakMap",
                            "_",
                            "clearTimeout",
                            "isFinite",
                            "parseInt",
                            "setTimeout",
                        ],
                        Ve = -1,
                        We = {};
                    (We[P] = We[I] = We[L] = We[M] = We[j] = We[F] = We[U] = We[H] = We[z] = !0), (We[v] = We[b] = We[R] = We[y] = We[B] = We[w] = We[C] = We[x] = We[k] = We[T] = We[E] = We[$] = We[N] = We[A] = We[D] = !1);
                    var Ke = {};
                    (Ke[v] = Ke[b] = Ke[R] = Ke[B] = Ke[y] = Ke[w] = Ke[P] = Ke[I] = Ke[L] = Ke[M] = Ke[j] = Ke[k] = Ke[T] = Ke[E] = Ke[$] = Ke[N] = Ke[A] = Ke[O] = Ke[F] = Ke[U] = Ke[H] = Ke[z] = !0), (Ke[C] = Ke[x] = Ke[D] = !1);
                    var Ge = {
                            "": "A",
                            "": "A",
                            "": "A",
                            : "A",
                            "": "A",
                            "": "A",
                            " ": "a",
                            "": "a",
                            "": "a",
                            "": "a",
                            "": "a",
                            "": "a",
                            "": "C",
                            "": "c",
                            "": "D",
                            "": "d",
                            : "E",
                            "": "E",
                            : "E",
                            "": "E",
                            "": "e",
                            "": "e",
                            : "e",
                            "": "e",
                            : "I",
                            "": "I",
                            : "I",
                            "": "I",
                            "": "i",
                            "": "i",
                            "": "i",
                            "": "i",
                            "": "N",
                            "": "n",
                            "": "O",
                            "": "O",
                            "": "O",
                            "": "O",
                            "": "O",
                            "": "O",
                            "": "o",
                            "": "o",
                            "": "o",
                            : "o",
                            "": "o",
                            "": "o",
                            "": "U",
                            : "U",
                            "": "U",
                            : "U",
                            "": "u",
                            : "u",
                            "": "u",
                            "": "u",
                            "": "Y",
                            "": "y",
                            "": "y",
                            "": "Ae",
                            "": "ae",
                            : "Th",
                            "": "th",
                            : "ss",
                        },
                        Ye = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "`": "&#96;" },
                        Xe = { "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#39;": "'", "&#96;": "`" },
                        Je = { function: !0, object: !0 },
                        Qe = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" },
                        Ze = parseFloat,
                        et = parseInt,
                        tt = Je[typeof t] && t && !t.nodeType ? t : i,
                        nt = Je[typeof e] && e && !e.nodeType ? e : i,
                        rt = nt && nt.exports === tt ? tt : i,
                        ot = It(tt && nt && "object" == typeof o && o),
                        it = It(Je[typeof self] && self),
                        at = It(Je[typeof window] && window),
                        st = It(Je[typeof this] && this),
                        ut = ot || (at !== (st && st.window) && at) || it || st || Function("return this")();
                    function ct(e, t) {
                        return e.set(t[0], t[1]), e;
                    }
                    function lt(e, t) {
                        return e.add(t), e;
                    }
                    function dt(e, t, n) {
                        switch (n.length) {
                            case 0:
                                return e.call(t);
                            case 1:
                                return e.call(t, n[0]);
                            case 2:
                                return e.call(t, n[0], n[1]);
                            case 3:
                                return e.call(t, n[0], n[1], n[2]);
                        }
                        return e.apply(t, n);
                    }
                    function ft(e, t, n, r) {
                        for (var o = -1, i = e.length; ++o < i; ) {
                            var a = e[o];
                            t(r, a, n(a), e);
                        }
                        return r;
                    }
                    function pt(e, t) {
                        for (var n = -1, r = e.length; ++n < r && !1 !== t(e[n], n, e); );
                        return e;
                    }
                    function mt(e, t) {
                        for (var n = -1, r = e.length; ++n < r; ) if (!t(e[n], n, e)) return !1;
                        return !0;
                    }
                    function ht(e, t) {
                        for (var n = -1, r = e.length, o = 0, i = []; ++n < r; ) {
                            var a = e[n];
                            t(a, n, e) && (i[o++] = a);
                        }
                        return i;
                    }
                    function gt(e, t) {
                        return !!e.length && Tt(e, t, 0) > -1;
                    }
                    function vt(e, t, n) {
                        for (var r = -1, o = e.length; ++r < o; ) if (n(t, e[r])) return !0;
                        return !1;
                    }
                    function bt(e, t) {
                        for (var n = -1, r = e.length, o = Array(r); ++n < r; ) o[n] = t(e[n], n, e);
                        return o;
                    }
                    function yt(e, t) {
                        for (var n = -1, r = t.length, o = e.length; ++n < r; ) e[o + n] = t[n];
                        return e;
                    }
                    function wt(e, t, n, r) {
                        var o = -1,
                            i = e.length;
                        for (r && i && (n = e[++o]); ++o < i; ) n = t(n, e[o], o, e);
                        return n;
                    }
                    function Ct(e, t, n, r) {
                        var o = e.length;
                        for (r && o && (n = e[--o]); o--; ) n = t(n, e[o], o, e);
                        return n;
                    }
                    function xt(e, t) {
                        for (var n = -1, r = e.length; ++n < r; ) if (t(e[n], n, e)) return !0;
                        return !1;
                    }
                    function _t(e, t, n, r) {
                        var o;
                        return (
                            n(e, function (e, n, i) {
                                if (t(e, n, i)) return (o = r ? n : e), !1;
                            }),
                            o
                        );
                    }
                    function kt(e, t, n) {
                        for (var r = e.length, o = n ? r : -1; n ? o-- : ++o < r; ) if (t(e[o], o, e)) return o;
                        return -1;
                    }
                    function Tt(e, t, n) {
                        if (t != t) return Ft(e, n);
                        for (var r = n - 1, o = e.length; ++r < o; ) if (e[r] === t) return r;
                        return -1;
                    }
                    function Et(e, t, n, r) {
                        for (var o = n - 1, i = e.length; ++o < i; ) if (r(e[o], t)) return o;
                        return -1;
                    }
                    function St(e, t) {
                        var n = e ? e.length : 0;
                        return n ? Nt(e, t) / n : h;
                    }
                    function $t(e, t, n, r, o) {
                        return (
                            o(e, function (e, o, i) {
                                n = r ? ((r = !1), e) : t(n, e, o, i);
                            }),
                            n
                        );
                    }
                    function Nt(e, t) {
                        for (var n, r = -1, o = e.length; ++r < o; ) {
                            var a = t(e[r]);
                            a !== i && (n = n === i ? a : n + a);
                        }
                        return n;
                    }
                    function At(e, t) {
                        for (var n = -1, r = Array(e); ++n < e; ) r[n] = t(n);
                        return r;
                    }
                    function Ot(e, t) {
                        return bt(t, function (t) {
                            return [t, e[t]];
                        });
                    }
                    function Dt(e) {
                        return function (t) {
                            return e(t);
                        };
                    }
                    function Rt(e, t) {
                        return bt(t, function (t) {
                            return e[t];
                        });
                    }
                    function Bt(e, t) {
                        for (var n = -1, r = e.length; ++n < r && Tt(t, e[n], 0) > -1; );
                        return n;
                    }
                    function Pt(e, t) {
                        for (var n = e.length; n-- && Tt(t, e[n], 0) > -1; );
                        return n;
                    }
                    function It(e) {
                        return e && e.Object === Object ? e : null;
                    }
                    function Lt(e) {
                        return Ge[e];
                    }
                    function Mt(e) {
                        return Ye[e];
                    }
                    function jt(e) {
                        return "\\" + Qe[e];
                    }
                    function Ft(e, t, n) {
                        for (var r = e.length, o = t + (n ? 0 : -1); n ? o-- : ++o < r; ) {
                            var i = e[o];
                            if (i != i) return o;
                        }
                        return -1;
                    }
                    function Ut(e) {
                        var t = !1;
                        if (null != e && "function" != typeof e.toString)
                            try {
                                t = !!(e + "");
                            } catch (e) {}
                        return t;
                    }
                    function Ht(e) {
                        for (var t, n = []; !(t = e.next()).done; ) n.push(t.value);
                        return n;
                    }
                    function zt(e) {
                        var t = -1,
                            n = Array(e.size);
                        return (
                            e.forEach(function (e, r) {
                                n[++t] = [r, e];
                            }),
                            n
                        );
                    }
                    function qt(e, t) {
                        for (var n = -1, r = e.length, o = 0, i = []; ++n < r; ) {
                            var a = e[n];
                            (a !== t && a !== c) || ((e[n] = c), (i[o++] = n));
                        }
                        return i;
                    }
                    function Vt(e) {
                        var t = -1,
                            n = Array(e.size);
                        return (
                            e.forEach(function (e) {
                                n[++t] = e;
                            }),
                            n
                        );
                    }
                    function Wt(e) {
                        if (!e || !He.test(e)) return e.length;
                        for (var t = (Fe.lastIndex = 0); Fe.test(e); ) t++;
                        return t;
                    }
                    function Kt(e) {
                        return e.match(Fe);
                    }
                    function Gt(e) {
                        return Xe[e];
                    }
                    var Yt = (function e(t) {
                        var n = (t = t ? Yt.defaults({}, t, Yt.pick(ut, qe)) : ut).Date,
                            r = t.Error,
                            o = t.Math,
                            Ce = t.RegExp,
                            xe = t.TypeError,
                            _e = t.Array.prototype,
                            ke = t.Object.prototype,
                            Te = t.String.prototype,
                            Ee = t.Function.prototype.toString,
                            Se = ke.hasOwnProperty,
                            $e = 0,
                            Ne = Ee.call(Object),
                            Ae = ke.toString,
                            Oe = ut._,
                            De = Ce(
                                "^" +
                                    Ee.call(Se)
                                        .replace(re, "\\$&")
                                        .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") +
                                    "$"
                            ),
                            Re = rt ? t.Buffer : i,
                            Be = t.Reflect,
                            Pe = t.Symbol,
                            Ie = t.Uint8Array,
                            Le = t.clearTimeout,
                            Fe = Be ? Be.enumerate : i,
                            Ge = Object.getOwnPropertySymbols,
                            Ye = "symbol" == typeof (Ye = Pe && Pe.iterator) ? Ye : i,
                            Xe = Object.create,
                            Je = ke.propertyIsEnumerable,
                            Qe = t.setTimeout,
                            tt = _e.splice,
                            nt = o.ceil,
                            ot = o.floor,
                            it = Object.getPrototypeOf,
                            at = t.isFinite,
                            st = _e.join,
                            It = Object.keys,
                            Xt = o.max,
                            Jt = o.min,
                            Qt = t.parseInt,
                            Zt = o.random,
                            en = Te.replace,
                            tn = _e.reverse,
                            nn = Te.split,
                            rn = So(t, "DataView"),
                            on = So(t, "Map"),
                            an = So(t, "Promise"),
                            sn = So(t, "Set"),
                            un = So(t, "WeakMap"),
                            cn = So(Object, "create"),
                            ln = un && new un(),
                            dn = !Je.call({ valueOf: 1 }, "valueOf"),
                            fn = {},
                            pn = Qo(rn),
                            mn = Qo(on),
                            hn = Qo(an),
                            gn = Qo(sn),
                            vn = Qo(un),
                            bn = Pe ? Pe.prototype : i,
                            yn = bn ? bn.valueOf : i,
                            wn = bn ? bn.toString : i;
                        function Cn(e) {
                            if (fa(e) && !ra(e) && !(e instanceof kn)) {
                                if (e instanceof _n) return e;
                                if (Se.call(e, "__wrapped__")) return Zo(e);
                            }
                            return new _n(e);
                        }
                        function xn() {}
                        function _n(e, t) {
                            (this.__wrapped__ = e), (this.__actions__ = []), (this.__chain__ = !!t), (this.__index__ = 0), (this.__values__ = i);
                        }
                        function kn(e) {
                            (this.__wrapped__ = e), (this.__actions__ = []), (this.__dir__ = 1), (this.__filtered__ = !1), (this.__iteratees__ = []), (this.__takeCount__ = g), (this.__views__ = []);
                        }
                        function Tn() {}
                        function En(e, t) {
                            return cn ? e[t] !== i : Se.call(e, t);
                        }
                        function Sn(e) {
                            var t = -1,
                                n = e ? e.length : 0;
                            for (this.clear(); ++t < n; ) {
                                var r = e[t];
                                this.set(r[0], r[1]);
                            }
                        }
                        function $n(e) {
                            var t = -1,
                                n = e ? e.length : 0;
                            for (this.__data__ = new Sn(); ++t < n; ) this.push(e[t]);
                        }
                        function Nn(e, t) {
                            var n = e.__data__;
                            if (Fo(t)) {
                                var r = n.__data__;
                                return ("string" == typeof t ? r.string : r.hash)[t] === u;
                            }
                            return n.has(t);
                        }
                        function An(e) {
                            var t = -1,
                                n = e ? e.length : 0;
                            for (this.clear(); ++t < n; ) {
                                var r = e[t];
                                this.set(r[0], r[1]);
                            }
                        }
                        function On(e, t) {
                            var n = Bn(e, t);
                            return !(n < 0 || (n == e.length - 1 ? e.pop() : tt.call(e, n, 1), 0));
                        }
                        function Dn(e, t) {
                            var n = Bn(e, t);
                            return n < 0 ? i : e[n][1];
                        }
                        function Rn(e, t) {
                            return Bn(e, t) > -1;
                        }
                        function Bn(e, t) {
                            for (var n = e.length; n--; ) if (Zi(e[n][0], t)) return n;
                            return -1;
                        }
                        function Pn(e, t, n) {
                            var r = Bn(e, t);
                            r < 0 ? e.push([t, n]) : (e[r][1] = n);
                        }
                        function In(e, t, n, r) {
                            return e === i || (Zi(e, ke[n]) && !Se.call(r, n)) ? t : e;
                        }
                        function Ln(e, t, n) {
                            ((n === i || Zi(e[t], n)) && ("number" != typeof t || n !== i || t in e)) || (e[t] = n);
                        }
                        function Mn(e, t, n) {
                            var r = e[t];
                            (Se.call(e, t) && Zi(r, n) && (n !== i || t in e)) || (e[t] = n);
                        }
                        function jn(e, t, n, r) {
                            return (
                                Kn(e, function (e, o, i) {
                                    t(r, e, n(e), i);
                                }),
                                r
                            );
                        }
                        function Fn(e, t) {
                            return e && Zr(t, Fa(t), e);
                        }
                        function Un(e, t) {
                            for (var n = -1, r = null == e, o = t.length, a = Array(o); ++n < o; ) a[n] = r ? i : Pa(e, t[n]);
                            return a;
                        }
                        function Hn(e, t, n) {
                            return e == e && (n !== i && (e = e <= n ? e : n), t !== i && (e = e >= t ? e : t)), e;
                        }
                        function zn(e, t, n, r, o, a, s) {
                            var u;
                            if ((r && (u = a ? r(e, o, a, s) : r(e)), u !== i)) return u;
                            if (!da(e)) return e;
                            var c = ra(e);
                            if (c) {
                                if (
                                    ((u = (function (e) {
                                        var t = e.length,
                                            n = e.constructor(t);
                                        return t && "string" == typeof e[0] && Se.call(e, "index") && ((n.index = e.index), (n.input = e.input)), n;
                                    })(e)),
                                    !t)
                                )
                                    return Qr(e, u);
                            } else {
                                var l = Do(e),
                                    d = l == x || l == _;
                                if (aa(e))
                                    return (function (e, t) {
                                        if (t) return e.slice();
                                        var n = new e.constructor(e.length);
                                        return e.copy(n), n;
                                    })(e, t);
                                if (l == E || l == v || (d && !a)) {
                                    if (Ut(e)) return a ? e : {};
                                    if (
                                        ((u = (function (e) {
                                            return "function" != typeof e.constructor || Ho(e) ? {} : qn(No(e));
                                        })(d ? {} : e)),
                                        !t)
                                    )
                                        return (function (e, t) {
                                            return Zr(e, Ao(e), t);
                                        })(e, Fn(u, e));
                                } else {
                                    if (!Ke[l]) return a ? e : {};
                                    u = (function (e, t, n, r) {
                                        var o,
                                            i,
                                            a,
                                            s = e.constructor;
                                        switch (t) {
                                            case R:
                                                return Gr(e);
                                            case y:
                                            case w:
                                                return new s(+e);
                                            case B:
                                                return (function (e, t) {
                                                    var n = t ? Gr(e.buffer) : e.buffer;
                                                    return new e.constructor(n, e.byteOffset, e.byteLength);
                                                })(e, r);
                                            case P:
                                            case I:
                                            case L:
                                            case M:
                                            case j:
                                            case F:
                                            case U:
                                            case H:
                                            case z:
                                                return (function (e, t) {
                                                    var n = t ? Gr(e.buffer) : e.buffer;
                                                    return new e.constructor(n, e.byteOffset, e.length);
                                                })(e, r);
                                            case k:
                                                return (function (e, t, n) {
                                                    return wt(t ? n(zt(e), !0) : zt(e), ct, new e.constructor());
                                                })(e, r, n);
                                            case T:
                                            case A:
                                                return new s(e);
                                            case $:
                                                return ((a = new (i = e).constructor(i.source, de.exec(i))).lastIndex = i.lastIndex), a;
                                            case N:
                                                return (function (e, t, n) {
                                                    return wt(t ? n(Vt(e), !0) : Vt(e), lt, new e.constructor());
                                                })(e, r, n);
                                            case O:
                                                return (o = e), yn ? Object(yn.call(o)) : {};
                                        }
                                    })(e, l, zn, t);
                                }
                            }
                            s || (s = new An());
                            var f = s.get(e);
                            if (f) return f;
                            if ((s.set(e, u), !c))
                                var p = n
                                    ? (function (e) {
                                          return ir(e, Fa, Ao);
                                      })(e)
                                    : Fa(e);
                            return (
                                pt(p || e, function (o, i) {
                                    p && (o = e[(i = o)]), Mn(u, i, zn(o, t, n, r, i, e, s));
                                }),
                                u
                            );
                        }
                        function qn(e) {
                            return da(e) ? Xe(e) : {};
                        }
                        function Vn(e, t, n) {
                            if ("function" != typeof e) throw new xe(s);
                            return Qe(function () {
                                e.apply(i, n);
                            }, t);
                        }
                        function Wn(e, t, n, r) {
                            var o = -1,
                                i = gt,
                                s = !0,
                                u = e.length,
                                c = [],
                                l = t.length;
                            if (!u) return c;
                            n && (t = bt(t, Dt(n))), r ? ((i = vt), (s = !1)) : t.length >= a && ((i = Nn), (s = !1), (t = new $n(t)));
                            e: for (; ++o < u; ) {
                                var d = e[o],
                                    f = n ? n(d) : d;
                                if (((d = r || 0 !== d ? d : 0), s && f == f)) {
                                    for (var p = l; p--; ) if (t[p] === f) continue e;
                                    c.push(d);
                                } else i(t, f, r) || c.push(d);
                            }
                            return c;
                        }
                        (Cn.templateSettings = { escape: J, evaluate: Q, interpolate: Z, variable: "", imports: { _: Cn } }),
                            (Cn.prototype = xn.prototype),
                            (Cn.prototype.constructor = Cn),
                            (_n.prototype = qn(xn.prototype)),
                            (_n.prototype.constructor = _n),
                            (kn.prototype = qn(xn.prototype)),
                            (kn.prototype.constructor = kn),
                            (Tn.prototype = cn ? cn(null) : ke),
                            (Sn.prototype.clear = function () {
                                this.__data__ = { hash: new Tn(), map: on ? new on() : [], string: new Tn() };
                            }),
                            (Sn.prototype.delete = function (e) {
                                var t = this.__data__;
                                return Fo(e)
                                    ? (function (e, t) {
                                          return En(e, t) && delete e[t];
                                      })("string" == typeof e ? t.string : t.hash, e)
                                    : on
                                    ? t.map.delete(e)
                                    : On(t.map, e);
                            }),
                            (Sn.prototype.get = function (e) {
                                var t = this.__data__;
                                return Fo(e)
                                    ? (function (e, t) {
                                          if (cn) {
                                              var n = e[t];
                                              return n === u ? i : n;
                                          }
                                          return Se.call(e, t) ? e[t] : i;
                                      })("string" == typeof e ? t.string : t.hash, e)
                                    : on
                                    ? t.map.get(e)
                                    : Dn(t.map, e);
                            }),
                            (Sn.prototype.has = function (e) {
                                var t = this.__data__;
                                return Fo(e) ? En("string" == typeof e ? t.string : t.hash, e) : on ? t.map.has(e) : Rn(t.map, e);
                            }),
                            (Sn.prototype.set = function (e, t) {
                                var n = this.__data__;
                                return (
                                    Fo(e)
                                        ? (function (e, t, n) {
                                              e[t] = cn && n === i ? u : n;
                                          })("string" == typeof e ? n.string : n.hash, e, t)
                                        : on
                                        ? n.map.set(e, t)
                                        : Pn(n.map, e, t),
                                    this
                                );
                            }),
                            ($n.prototype.push = function (e) {
                                var t = this.__data__;
                                if (Fo(e)) {
                                    var n = t.__data__;
                                    ("string" == typeof e ? n.string : n.hash)[e] = u;
                                } else t.set(e, u);
                            }),
                            (An.prototype.clear = function () {
                                this.__data__ = { array: [], map: null };
                            }),
                            (An.prototype.delete = function (e) {
                                var t = this.__data__,
                                    n = t.array;
                                return n ? On(n, e) : t.map.delete(e);
                            }),
                            (An.prototype.get = function (e) {
                                var t = this.__data__,
                                    n = t.array;
                                return n ? Dn(n, e) : t.map.get(e);
                            }),
                            (An.prototype.has = function (e) {
                                var t = this.__data__,
                                    n = t.array;
                                return n ? Rn(n, e) : t.map.has(e);
                            }),
                            (An.prototype.set = function (e, t) {
                                var n = this.__data__,
                                    r = n.array;
                                r && (r.length < 199 ? Pn(r, e, t) : ((n.array = null), (n.map = new Sn(r))));
                                var o = n.map;
                                return o && o.set(e, t), this;
                            });
                        var Kn = no(tr),
                            Gn = no(nr, !0);
                        function Yn(e, t) {
                            var n = !0;
                            return (
                                Kn(e, function (e, r, o) {
                                    return (n = !!t(e, r, o));
                                }),
                                n
                            );
                        }
                        function Xn(e, t, n) {
                            for (var r = -1, o = e.length; ++r < o; ) {
                                var a = e[r],
                                    s = t(a);
                                if (null != s && (u === i ? s == s && !ba(s) : n(s, u)))
                                    var u = s,
                                        c = a;
                            }
                            return c;
                        }
                        function Jn(e, t) {
                            var n = [];
                            return (
                                Kn(e, function (e, r, o) {
                                    t(e, r, o) && n.push(e);
                                }),
                                n
                            );
                        }
                        function Qn(e, t, n, r, o) {
                            var i = -1,
                                a = e.length;
                            for (n || (n = Po), o || (o = []); ++i < a; ) {
                                var s = e[i];
                                t > 0 && n(s) ? (t > 1 ? Qn(s, t - 1, n, r, o) : yt(o, s)) : r || (o[o.length] = s);
                            }
                            return o;
                        }
                        var Zn = ro(),
                            er = ro(!0);
                        function tr(e, t) {
                            return e && Zn(e, t, Fa);
                        }
                        function nr(e, t) {
                            return e && er(e, t, Fa);
                        }
                        function rr(e, t) {
                            return ht(t, function (t) {
                                return ua(e[t]);
                            });
                        }
                        function or(e, t) {
                            for (var n = 0, r = (t = jo(t, e) ? [t] : Wr(t)).length; null != e && n < r; ) e = e[Jo(t[n++])];
                            return n && n == r ? e : i;
                        }
                        function ir(e, t, n) {
                            var r = t(e);
                            return ra(e) ? r : yt(r, n(e));
                        }
                        function ar(e, t) {
                            return e > t;
                        }
                        function sr(e, t) {
                            return Se.call(e, t) || ("object" == typeof e && t in e && null === No(e));
                        }
                        function ur(e, t) {
                            return t in Object(e);
                        }
                        function cr(e, t, n) {
                            for (var r = n ? vt : gt, o = e[0].length, a = e.length, s = a, u = Array(a), c = 1 / 0, l = []; s--; ) {
                                var d = e[s];
                                s && t && (d = bt(d, Dt(t))), (c = Jt(d.length, c)), (u[s] = !n && (t || (o >= 120 && d.length >= 120)) ? new $n(s && d) : i);
                            }
                            d = e[0];
                            var f = -1,
                                p = u[0];
                            e: for (; ++f < o && l.length < c; ) {
                                var m = d[f],
                                    h = t ? t(m) : m;
                                if (((m = n || 0 !== m ? m : 0), !(p ? Nn(p, h) : r(l, h, n)))) {
                                    for (s = a; --s; ) {
                                        var g = u[s];
                                        if (!(g ? Nn(g, h) : r(e[s], h, n))) continue e;
                                    }
                                    p && p.push(h), l.push(m);
                                }
                            }
                            return l;
                        }
                        function lr(e, t, n) {
                            jo(t, e) || ((e = Wo(e, (t = Wr(t)))), (t = ci(t)));
                            var r = null == e ? e : e[Jo(t)];
                            return null == r ? i : dt(r, e, n);
                        }
                        function dr(e, t, n, r, o) {
                            return (
                                e === t ||
                                (null == e || null == t || (!da(e) && !fa(t))
                                    ? e != e && t != t
                                    : (function (e, t, n, r, o, a) {
                                          var s = ra(e),
                                              u = ra(t),
                                              c = b,
                                              l = b;
                                          s || (c = (c = Do(e)) == v ? E : c), u || (l = (l = Do(t)) == v ? E : l);
                                          var d = c == E && !Ut(e),
                                              f = l == E && !Ut(t),
                                              p = c == l;
                                          if (p && !d)
                                              return (
                                                  a || (a = new An()),
                                                  s || ya(e)
                                                      ? wo(e, t, n, r, o, a)
                                                      : (function (e, t, n, r, o, i, a) {
                                                            switch (n) {
                                                                case B:
                                                                    if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
                                                                    (e = e.buffer), (t = t.buffer);
                                                                case R:
                                                                    return !(e.byteLength != t.byteLength || !r(new Ie(e), new Ie(t)));
                                                                case y:
                                                                case w:
                                                                    return +e == +t;
                                                                case C:
                                                                    return e.name == t.name && e.message == t.message;
                                                                case T:
                                                                    return e != +e ? t != +t : e == +t;
                                                                case $:
                                                                case A:
                                                                    return e == t + "";
                                                                case k:
                                                                    var s = zt;
                                                                case N:
                                                                    var u = 2 & i;
                                                                    if ((s || (s = Vt), e.size != t.size && !u)) return !1;
                                                                    var c = a.get(e);
                                                                    return c ? c == t : ((i |= 1), a.set(e, t), wo(s(e), s(t), r, o, i, a));
                                                                case O:
                                                                    if (yn) return yn.call(e) == yn.call(t);
                                                            }
                                                            return !1;
                                                        })(e, t, c, n, r, o, a)
                                              );
                                          if (!(2 & o)) {
                                              var m = d && Se.call(e, "__wrapped__"),
                                                  h = f && Se.call(t, "__wrapped__");
                                              if (m || h) {
                                                  var g = m ? e.value() : e,
                                                      x = h ? t.value() : t;
                                                  return a || (a = new An()), n(g, x, r, o, a);
                                              }
                                          }
                                          return (
                                              !!p &&
                                              (a || (a = new An()),
                                              (function (e, t, n, r, o, a) {
                                                  var s = 2 & o,
                                                      u = Fa(e),
                                                      c = u.length;
                                                  if (c != Fa(t).length && !s) return !1;
                                                  for (var l = c; l--; ) {
                                                      var d = u[l];
                                                      if (!(s ? d in t : sr(t, d))) return !1;
                                                  }
                                                  var f = a.get(e);
                                                  if (f) return f == t;
                                                  var p = !0;
                                                  a.set(e, t);
                                                  for (var m = s; ++l < c; ) {
                                                      var h = e[(d = u[l])],
                                                          g = t[d];
                                                      if (r) var v = s ? r(g, h, d, t, e, a) : r(h, g, d, e, t, a);
                                                      if (!(v === i ? h === g || n(h, g, r, o, a) : v)) {
                                                          p = !1;
                                                          break;
                                                      }
                                                      m || (m = "constructor" == d);
                                                  }
                                                  if (p && !m) {
                                                      var b = e.constructor,
                                                          y = t.constructor;
                                                      b != y && "constructor" in e && "constructor" in t && !("function" == typeof b && b instanceof b && "function" == typeof y && y instanceof y) && (p = !1);
                                                  }
                                                  return a.delete(e), p;
                                              })(e, t, n, r, o, a))
                                          );
                                      })(e, t, dr, n, r, o))
                            );
                        }
                        function fr(e, t, n, r) {
                            var o = n.length,
                                a = o,
                                s = !r;
                            if (null == e) return !a;
                            for (e = Object(e); o--; ) {
                                var u = n[o];
                                if (s && u[2] ? u[1] !== e[u[0]] : !(u[0] in e)) return !1;
                            }
                            for (; ++o < a; ) {
                                var c = (u = n[o])[0],
                                    l = e[c],
                                    d = u[1];
                                if (s && u[2]) {
                                    if (l === i && !(c in e)) return !1;
                                } else {
                                    var f = new An();
                                    if (r) var p = r(l, d, c, e, t, f);
                                    if (!(p === i ? dr(d, l, r, 3, f) : p)) return !1;
                                }
                            }
                            return !0;
                        }
                        function pr(e) {
                            return "function" == typeof e ? e : null == e ? ds : "object" == typeof e ? (ra(e) ? br(e[0], e[1]) : vr(e)) : ws(e);
                        }
                        function mr(e) {
                            e = null == e ? e : Object(e);
                            var t = [];
                            for (var n in e) t.push(n);
                            return t;
                        }
                        function hr(e, t) {
                            return e < t;
                        }
                        function gr(e, t) {
                            var n = -1,
                                r = oa(e) ? Array(e.length) : [];
                            return (
                                Kn(e, function (e, o, i) {
                                    r[++n] = t(e, o, i);
                                }),
                                r
                            );
                        }
                        function vr(e) {
                            var t = Eo(e);
                            return 1 == t.length && t[0][2]
                                ? qo(t[0][0], t[0][1])
                                : function (n) {
                                      return n === e || fr(n, e, t);
                                  };
                        }
                        function br(e, t) {
                            return jo(e) && zo(t)
                                ? qo(Jo(e), t)
                                : function (n) {
                                      var r = Pa(n, e);
                                      return r === i && r === t ? Ia(n, e) : dr(t, r, i, 3);
                                  };
                        }
                        function yr(e, t, n, r, o) {
                            if (e !== t) {
                                if (!ra(t) && !ya(t)) var a = Ua(t);
                                pt(a || t, function (s, u) {
                                    if ((a && (s = t[(u = s)]), da(s)))
                                        o || (o = new An()),
                                            (function (e, t, n, r, o, a, s) {
                                                var u = e[n],
                                                    c = t[n],
                                                    l = s.get(c);
                                                if (l) Ln(e, n, l);
                                                else {
                                                    var d = a ? a(u, c, n + "", e, t, s) : i,
                                                        f = d === i;
                                                    f &&
                                                        ((d = c),
                                                        ra(c) || ya(c)
                                                            ? ra(u)
                                                                ? (d = u)
                                                                : ia(u)
                                                                ? (d = Qr(u))
                                                                : ((f = !1), (d = zn(c, !0)))
                                                            : ha(c) || na(c)
                                                            ? na(u)
                                                                ? (d = Ea(u))
                                                                : !da(u) || (r && ua(u))
                                                                ? ((f = !1), (d = zn(c, !0)))
                                                                : (d = u)
                                                            : (f = !1)),
                                                        s.set(c, d),
                                                        f && o(d, c, r, a, s),
                                                        s.delete(c),
                                                        Ln(e, n, d);
                                                }
                                            })(e, t, u, n, yr, r, o);
                                    else {
                                        var c = r ? r(e[u], s, u + "", e, t, o) : i;
                                        c === i && (c = s), Ln(e, u, c);
                                    }
                                });
                            }
                        }
                        function wr(e, t) {
                            var n = e.length;
                            if (n) return Lo((t += t < 0 ? n : 0), n) ? e[t] : i;
                        }
                        function Cr(e, t, n) {
                            var r = -1;
                            return (
                                (t = bt(t.length ? t : [ds], Dt(ko()))),
                                (function (e, t) {
                                    var n = e.length;
                                    for (e.sort(t); n--; ) e[n] = e[n].value;
                                    return e;
                                })(
                                    gr(e, function (e, n, o) {
                                        return {
                                            criteria: bt(t, function (t) {
                                                return t(e);
                                            }),
                                            index: ++r,
                                            value: e,
                                        };
                                    }),
                                    function (e, t) {
                                        return (function (e, t, n) {
                                            for (var r = -1, o = e.criteria, i = t.criteria, a = o.length, s = n.length; ++r < a; ) {
                                                var u = Yr(o[r], i[r]);
                                                if (u) return r >= s ? u : u * ("desc" == n[r] ? -1 : 1);
                                            }
                                            return e.index - t.index;
                                        })(e, t, n);
                                    }
                                )
                            );
                        }
                        function xr(e, t) {
                            return (
                                (e = Object(e)),
                                wt(
                                    t,
                                    function (t, n) {
                                        return n in e && (t[n] = e[n]), t;
                                    },
                                    {}
                                )
                            );
                        }
                        function _r(e, t) {
                            for (var n = -1, r = Co(e), o = r.length, i = {}; ++n < o; ) {
                                var a = r[n],
                                    s = e[a];
                                t(s, a) && (i[a] = s);
                            }
                            return i;
                        }
                        function kr(e) {
                            return function (t) {
                                return null == t ? i : t[e];
                            };
                        }
                        function Tr(e, t, n, r) {
                            var o = r ? Et : Tt,
                                i = -1,
                                a = t.length,
                                s = e;
                            for (n && (s = bt(e, Dt(n))); ++i < a; ) for (var u = 0, c = t[i], l = n ? n(c) : c; (u = o(s, l, u, r)) > -1; ) s !== e && tt.call(s, u, 1), tt.call(e, u, 1);
                            return e;
                        }
                        function Er(e, t) {
                            for (var n = e ? t.length : 0, r = n - 1; n--; ) {
                                var o = t[n];
                                if (n == r || o !== i) {
                                    var i = o;
                                    if (Lo(o)) tt.call(e, o, 1);
                                    else if (jo(o, e)) delete e[Jo(o)];
                                    else {
                                        var a = Wr(o),
                                            s = Wo(e, a);
                                        null != s && delete s[Jo(ci(a))];
                                    }
                                }
                            }
                            return e;
                        }
                        function Sr(e, t) {
                            return e + ot(Zt() * (t - e + 1));
                        }
                        function $r(e, t) {
                            var n = "";
                            if (!e || t < 1 || t > m) return n;
                            do {
                                t % 2 && (n += e), (t = ot(t / 2)) && (e += e);
                            } while (t);
                            return n;
                        }
                        function Nr(e, t, n, r) {
                            for (var o = -1, a = (t = jo(t, e) ? [t] : Wr(t)).length, s = a - 1, u = e; null != u && ++o < a; ) {
                                var c = Jo(t[o]);
                                if (da(u)) {
                                    var l = n;
                                    if (o != s) {
                                        var d = u[c];
                                        (l = r ? r(d, c, u) : i) === i && (l = null == d ? (Lo(t[o + 1]) ? [] : {}) : d);
                                    }
                                    Mn(u, c, l);
                                }
                                u = u[c];
                            }
                            return e;
                        }
                        Fe &&
                            !Je.call({ valueOf: 1 }, "valueOf") &&
                            (mr = function (e) {
                                return Ht(Fe(e));
                            });
                        var Ar = ln
                            ? function (e, t) {
                                  return ln.set(e, t), e;
                              }
                            : ds;
                        function Or(e, t, n) {
                            var r = -1,
                                o = e.length;
                            t < 0 && (t = -t > o ? 0 : o + t), (n = n > o ? o : n) < 0 && (n += o), (o = t > n ? 0 : (n - t) >>> 0), (t >>>= 0);
                            for (var i = Array(o); ++r < o; ) i[r] = e[r + t];
                            return i;
                        }
                        function Dr(e, t) {
                            var n;
                            return (
                                Kn(e, function (e, r, o) {
                                    return !(n = t(e, r, o));
                                }),
                                !!n
                            );
                        }
                        function Rr(e, t, n) {
                            var r = 0,
                                o = e ? e.length : r;
                            if ("number" == typeof t && t == t && o <= 2147483647) {
                                for (; r < o; ) {
                                    var i = (r + o) >>> 1,
                                        a = e[i];
                                    null !== a && !ba(a) && (n ? a <= t : a < t) ? (r = i + 1) : (o = i);
                                }
                                return o;
                            }
                            return Br(e, t, ds, n);
                        }
                        function Br(e, t, n, r) {
                            t = n(t);
                            for (var o = 0, a = e ? e.length : 0, s = t != t, u = null === t, c = ba(t), l = t === i; o < a; ) {
                                var d = ot((o + a) / 2),
                                    f = n(e[d]),
                                    p = f !== i,
                                    m = null === f,
                                    h = f == f,
                                    g = ba(f);
                                if (s) var v = r || h;
                                else v = l ? h && (r || p) : u ? h && p && (r || !m) : c ? h && p && !m && (r || !g) : !m && !g && (r ? f <= t : f < t);
                                v ? (o = d + 1) : (a = d);
                            }
                            return Jt(a, 4294967294);
                        }
                        function Pr(e, t) {
                            for (var n = -1, r = e.length, o = 0, i = []; ++n < r; ) {
                                var a = e[n],
                                    s = t ? t(a) : a;
                                if (!n || !Zi(s, u)) {
                                    var u = s;
                                    i[o++] = 0 === a ? 0 : a;
                                }
                            }
                            return i;
                        }
                        function Ir(e) {
                            return "number" == typeof e ? e : ba(e) ? h : +e;
                        }
                        function Lr(e) {
                            if ("string" == typeof e) return e;
                            if (ba(e)) return wn ? wn.call(e) : "";
                            var t = e + "";
                            return "0" == t && 1 / e == -p ? "-0" : t;
                        }
                        function Mr(e, t, n) {
                            var r = -1,
                                o = gt,
                                i = e.length,
                                s = !0,
                                u = [],
                                c = u;
                            if (n) (s = !1), (o = vt);
                            else if (i >= a) {
                                var l = t ? null : bo(e);
                                if (l) return Vt(l);
                                (s = !1), (o = Nn), (c = new $n());
                            } else c = t ? [] : u;
                            e: for (; ++r < i; ) {
                                var d = e[r],
                                    f = t ? t(d) : d;
                                if (((d = n || 0 !== d ? d : 0), s && f == f)) {
                                    for (var p = c.length; p--; ) if (c[p] === f) continue e;
                                    t && c.push(f), u.push(d);
                                } else o(c, f, n) || (c !== u && c.push(f), u.push(d));
                            }
                            return u;
                        }
                        function jr(e, t, n, r) {
                            return Nr(e, t, n(or(e, t)), r);
                        }
                        function Fr(e, t, n, r) {
                            for (var o = e.length, i = r ? o : -1; (r ? i-- : ++i < o) && t(e[i], i, e); );
                            return n ? Or(e, r ? 0 : i, r ? i + 1 : o) : Or(e, r ? i + 1 : 0, r ? o : i);
                        }
                        function Ur(e, t) {
                            var n = e;
                            return (
                                n instanceof kn && (n = n.value()),
                                wt(
                                    t,
                                    function (e, t) {
                                        return t.func.apply(t.thisArg, yt([e], t.args));
                                    },
                                    n
                                )
                            );
                        }
                        function Hr(e, t, n) {
                            for (var r = -1, o = e.length; ++r < o; ) var i = i ? yt(Wn(i, e[r], t, n), Wn(e[r], i, t, n)) : e[r];
                            return i && i.length ? Mr(i, t, n) : [];
                        }
                        function zr(e, t, n) {
                            for (var r = -1, o = e.length, a = t.length, s = {}; ++r < o; ) {
                                var u = r < a ? t[r] : i;
                                n(s, e[r], u);
                            }
                            return s;
                        }
                        function qr(e) {
                            return ia(e) ? e : [];
                        }
                        function Vr(e) {
                            return "function" == typeof e ? e : ds;
                        }
                        function Wr(e) {
                            return ra(e) ? e : Xo(e);
                        }
                        function Kr(e, t, n) {
                            var r = e.length;
                            return (n = n === i ? r : n), !t && n >= r ? e : Or(e, t, n);
                        }
                        function Gr(e) {
                            var t = new e.constructor(e.byteLength);
                            return new Ie(t).set(new Ie(e)), t;
                        }
                        function Yr(e, t) {
                            if (e !== t) {
                                var n = e !== i,
                                    r = null === e,
                                    o = e == e,
                                    a = ba(e),
                                    s = t !== i,
                                    u = null === t,
                                    c = t == t,
                                    l = ba(t);
                                if ((!u && !l && !a && e > t) || (a && s && c && !u && !l) || (r && s && c) || (!n && c) || !o) return 1;
                                if ((!r && !a && !l && e < t) || (l && n && o && !r && !a) || (u && n && o) || (!s && o) || !c) return -1;
                            }
                            return 0;
                        }
                        function Xr(e, t, n, r) {
                            for (var o = -1, i = e.length, a = n.length, s = -1, u = t.length, c = Xt(i - a, 0), l = Array(u + c), d = !r; ++s < u; ) l[s] = t[s];
                            for (; ++o < a; ) (d || o < i) && (l[n[o]] = e[o]);
                            for (; c--; ) l[s++] = e[o++];
                            return l;
                        }
                        function Jr(e, t, n, r) {
                            for (var o = -1, i = e.length, a = -1, s = n.length, u = -1, c = t.length, l = Xt(i - s, 0), d = Array(l + c), f = !r; ++o < l; ) d[o] = e[o];
                            for (var p = o; ++u < c; ) d[p + u] = t[u];
                            for (; ++a < s; ) (f || o < i) && (d[p + n[a]] = e[o++]);
                            return d;
                        }
                        function Qr(e, t) {
                            var n = -1,
                                r = e.length;
                            for (t || (t = Array(r)); ++n < r; ) t[n] = e[n];
                            return t;
                        }
                        function Zr(e, t, n, r) {
                            n || (n = {});
                            for (var o = -1, i = t.length; ++o < i; ) {
                                var a = t[o];
                                Mn(n, a, r ? r(n[a], e[a], a, n, e) : e[a]);
                            }
                            return n;
                        }
                        function eo(e, t) {
                            return function (n, r) {
                                var o = ra(n) ? ft : jn,
                                    i = t ? t() : {};
                                return o(n, e, ko(r), i);
                            };
                        }
                        function to(e) {
                            return Ji(function (t, n) {
                                var r = -1,
                                    o = n.length,
                                    a = o > 1 ? n[o - 1] : i,
                                    s = o > 2 ? n[2] : i;
                                for (a = "function" == typeof a ? (o--, a) : i, s && Mo(n[0], n[1], s) && ((a = o < 3 ? i : a), (o = 1)), t = Object(t); ++r < o; ) {
                                    var u = n[r];
                                    u && e(t, u, r, a);
                                }
                                return t;
                            });
                        }
                        function no(e, t) {
                            return function (n, r) {
                                if (null == n) return n;
                                if (!oa(n)) return e(n, r);
                                for (var o = n.length, i = t ? o : -1, a = Object(n); (t ? i-- : ++i < o) && !1 !== r(a[i], i, a); );
                                return n;
                            };
                        }
                        function ro(e) {
                            return function (t, n, r) {
                                for (var o = -1, i = Object(t), a = r(t), s = a.length; s--; ) {
                                    var u = a[e ? s : ++o];
                                    if (!1 === n(i[u], u, i)) break;
                                }
                                return t;
                            };
                        }
                        function oo(e) {
                            return function (t) {
                                t = Sa(t);
                                var n = He.test(t) ? Kt(t) : i,
                                    r = n ? n[0] : t.charAt(0),
                                    o = n ? Kr(n, 1).join("") : t.slice(1);
                                return r[e]() + o;
                            };
                        }
                        function io(e) {
                            return function (t) {
                                return wt(is(Ja(t).replace(Me, "")), e, "");
                            };
                        }
                        function ao(e) {
                            return function () {
                                var t = arguments;
                                switch (t.length) {
                                    case 0:
                                        return new e();
                                    case 1:
                                        return new e(t[0]);
                                    case 2:
                                        return new e(t[0], t[1]);
                                    case 3:
                                        return new e(t[0], t[1], t[2]);
                                    case 4:
                                        return new e(t[0], t[1], t[2], t[3]);
                                    case 5:
                                        return new e(t[0], t[1], t[2], t[3], t[4]);
                                    case 6:
                                        return new e(t[0], t[1], t[2], t[3], t[4], t[5]);
                                    case 7:
                                        return new e(t[0], t[1], t[2], t[3], t[4], t[5], t[6]);
                                }
                                var n = qn(e.prototype),
                                    r = e.apply(n, t);
                                return da(r) ? r : n;
                            };
                        }
                        function so(e) {
                            return Ji(function (t) {
                                var n = (t = Qn(t, 1)).length,
                                    r = n,
                                    o = _n.prototype.thru;
                                for (e && t.reverse(); r--; ) {
                                    var u = t[r];
                                    if ("function" != typeof u) throw new xe(s);
                                    if (o && !c && "wrapper" == _o(u)) var c = new _n([], !0);
                                }
                                for (r = c ? r : n; ++r < n; ) {
                                    var l = _o((u = t[r])),
                                        d = "wrapper" == l ? xo(u) : i;
                                    c = d && Uo(d[0]) && 424 == d[1] && !d[4].length && 1 == d[9] ? c[_o(d[0])].apply(c, d[3]) : 1 == u.length && Uo(u) ? c[l]() : c.thru(u);
                                }
                                return function () {
                                    var e = arguments,
                                        r = e[0];
                                    if (c && 1 == e.length && ra(r) && r.length >= a) return c.plant(r).value();
                                    for (var o = 0, i = n ? t[o].apply(this, e) : r; ++o < n; ) i = t[o].call(this, i);
                                    return i;
                                };
                            });
                        }
                        function uo(e, t, n, r, o, a, s, u, c, l) {
                            var f = t & d,
                                p = 1 & t,
                                m = 2 & t,
                                h = 24 & t,
                                g = 512 & t,
                                v = m ? i : ao(e);
                            return function d() {
                                for (var b = arguments.length, y = b, w = Array(b); y--; ) w[y] = arguments[y];
                                if (h)
                                    var C = $o(d),
                                        x = (function (e, t) {
                                            for (var n = e.length, r = 0; n--; ) e[n] === t && r++;
                                            return r;
                                        })(w, C);
                                if ((r && (w = Xr(w, r, o, h)), a && (w = Jr(w, a, s, h)), (b -= x), h && b < l)) {
                                    var _ = qt(w, C);
                                    return go(e, t, uo, d.placeholder, n, w, _, u, c, l - b);
                                }
                                var k = p ? n : this,
                                    T = m ? k[e] : e;
                                return (
                                    (b = w.length),
                                    u
                                        ? (w = (function (e, t) {
                                              for (var n = e.length, r = Jt(t.length, n), o = Qr(e); r--; ) {
                                                  var a = t[r];
                                                  e[r] = Lo(a, n) ? o[a] : i;
                                              }
                                              return e;
                                          })(w, u))
                                        : g && b > 1 && w.reverse(),
                                    f && c < b && (w.length = c),
                                    this && this !== ut && this instanceof d && (T = v || ao(T)),
                                    T.apply(k, w)
                                );
                            };
                        }
                        function co(e, t) {
                            return function (n, r) {
                                return (function (e, t, n, r) {
                                    return (
                                        tr(e, function (e, o, i) {
                                            t(r, n(e), o, i);
                                        }),
                                        r
                                    );
                                })(n, e, t(r), {});
                            };
                        }
                        function lo(e) {
                            return function (t, n) {
                                var r;
                                if (t === i && n === i) return 0;
                                if ((t !== i && (r = t), n !== i)) {
                                    if (r === i) return n;
                                    "string" == typeof t || "string" == typeof n ? ((t = Lr(t)), (n = Lr(n))) : ((t = Ir(t)), (n = Ir(n))), (r = e(t, n));
                                }
                                return r;
                            };
                        }
                        function fo(e) {
                            return Ji(function (t) {
                                return (
                                    (t = 1 == t.length && ra(t[0]) ? bt(t[0], Dt(ko())) : bt(Qn(t, 1, Io), Dt(ko()))),
                                    Ji(function (n) {
                                        var r = this;
                                        return e(t, function (e) {
                                            return dt(e, r, n);
                                        });
                                    })
                                );
                            });
                        }
                        function po(e, t) {
                            var n = (t = t === i ? " " : Lr(t)).length;
                            if (n < 2) return n ? $r(t, e) : t;
                            var r = $r(t, nt(e / Wt(t)));
                            return He.test(t) ? Kr(Kt(r), 0, e).join("") : r.slice(0, e);
                        }
                        function mo(e) {
                            return function (t, n, r) {
                                return (
                                    r && "number" != typeof r && Mo(t, n, r) && (n = r = i),
                                    (t = (t = Ta(t)) == t ? t : 0),
                                    n === i ? ((n = t), (t = 0)) : (n = Ta(n) || 0),
                                    (function (e, t, n, r) {
                                        for (var o = -1, i = Xt(nt((t - e) / (n || 1)), 0), a = Array(i); i--; ) (a[r ? i : ++o] = e), (e += n);
                                        return a;
                                    })(t, n, (r = r === i ? (t < n ? 1 : -1) : Ta(r) || 0), e)
                                );
                            };
                        }
                        function ho(e) {
                            return function (t, n) {
                                return ("string" == typeof t && "string" == typeof n) || ((t = Ta(t)), (n = Ta(n))), e(t, n);
                            };
                        }
                        function go(e, t, n, r, o, a, s, u, c, d) {
                            var f = 8 & t;
                            (t |= f ? l : 64), 4 & (t &= ~(f ? 64 : l)) || (t &= -4);
                            var p = [e, t, o, f ? a : i, f ? s : i, f ? i : a, f ? i : s, u, c, d],
                                m = n.apply(i, p);
                            return Uo(e) && Yo(m, p), (m.placeholder = r), m;
                        }
                        function vo(e) {
                            var t = o[e];
                            return function (e, n) {
                                if (((e = Ta(e)), (n = _a(n)))) {
                                    var r = (Sa(e) + "e").split("e");
                                    return +((r = (Sa(t(r[0] + "e" + (+r[1] + n))) + "e").split("e"))[0] + "e" + (+r[1] - n));
                                }
                                return t(e);
                            };
                        }
                        var bo =
                            sn && 1 / Vt(new sn([, -0]))[1] == p
                                ? function (e) {
                                      return new sn(e);
                                  }
                                : gs;
                        function yo(e, t, n, r, o, a, u, p) {
                            var m = 2 & t;
                            if (!m && "function" != typeof e) throw new xe(s);
                            var h = r ? r.length : 0;
                            if ((h || ((t &= -97), (r = o = i)), (u = u === i ? u : Xt(_a(u), 0)), (p = p === i ? p : _a(p)), (h -= o ? o.length : 0), 64 & t)) {
                                var g = r,
                                    v = o;
                                r = o = i;
                            }
                            var b = m ? i : xo(e),
                                y = [e, t, n, r, o, g, v, a, u, p];
                            if (
                                (b &&
                                    (function (e, t) {
                                        var n = e[1],
                                            r = t[1],
                                            o = n | r,
                                            i = o < 131,
                                            a = (r == d && 8 == n) || (r == d && n == f && e[7].length <= t[8]) || (384 == r && t[7].length <= t[8] && 8 == n);
                                        if (!i && !a) return e;
                                        1 & r && ((e[2] = t[2]), (o |= 1 & n ? 0 : 4));
                                        var s = t[3];
                                        if (s) {
                                            var u = e[3];
                                            (e[3] = u ? Xr(u, s, t[4]) : s), (e[4] = u ? qt(e[3], c) : t[4]);
                                        }
                                        (s = t[5]) && ((u = e[5]), (e[5] = u ? Jr(u, s, t[6]) : s), (e[6] = u ? qt(e[5], c) : t[6])),
                                            (s = t[7]) && (e[7] = s),
                                            r & d && (e[8] = null == e[8] ? t[8] : Jt(e[8], t[8])),
                                            null == e[9] && (e[9] = t[9]),
                                            (e[0] = t[0]),
                                            (e[1] = o);
                                    })(y, b),
                                (e = y[0]),
                                (t = y[1]),
                                (n = y[2]),
                                (r = y[3]),
                                (o = y[4]),
                                !(p = y[9] = null == y[9] ? (m ? 0 : e.length) : Xt(y[9] - h, 0)) && 24 & t && (t &= -25),
                                t && 1 != t)
                            )
                                w =
                                    8 == t || 16 == t
                                        ? (function (e, t, n) {
                                              var r = ao(e);
                                              return function o() {
                                                  for (var a = arguments.length, s = Array(a), u = a, c = $o(o); u--; ) s[u] = arguments[u];
                                                  var l = a < 3 && s[0] !== c && s[a - 1] !== c ? [] : qt(s, c);
                                                  return (a -= l.length) < n ? go(e, t, uo, o.placeholder, i, s, l, i, i, n - a) : dt(this && this !== ut && this instanceof o ? r : e, this, s);
                                              };
                                          })(e, t, p)
                                        : (t != l && 33 != t) || o.length
                                        ? uo.apply(i, y)
                                        : (function (e, t, n, r) {
                                              var o = 1 & t,
                                                  i = ao(e);
                                              return function t() {
                                                  for (var a = -1, s = arguments.length, u = -1, c = r.length, l = Array(c + s), d = this && this !== ut && this instanceof t ? i : e; ++u < c; ) l[u] = r[u];
                                                  for (; s--; ) l[u++] = arguments[++a];
                                                  return dt(d, o ? n : this, l);
                                              };
                                          })(e, t, n, r);
                            else
                                var w = (function (e, t, n) {
                                    var r = 1 & t,
                                        o = ao(e);
                                    return function t() {
                                        return (this && this !== ut && this instanceof t ? o : e).apply(r ? n : this, arguments);
                                    };
                                })(e, t, n);
                            return (b ? Ar : Yo)(w, y);
                        }
                        function wo(e, t, n, r, o, a) {
                            var s = -1,
                                u = 2 & o,
                                c = 1 & o,
                                l = e.length,
                                d = t.length;
                            if (l != d && !(u && d > l)) return !1;
                            var f = a.get(e);
                            if (f) return f == t;
                            var p = !0;
                            for (a.set(e, t); ++s < l; ) {
                                var m = e[s],
                                    h = t[s];
                                if (r) var g = u ? r(h, m, s, t, e, a) : r(m, h, s, e, t, a);
                                if (g !== i) {
                                    if (g) continue;
                                    p = !1;
                                    break;
                                }
                                if (c) {
                                    if (
                                        !xt(t, function (e) {
                                            return m === e || n(m, e, r, o, a);
                                        })
                                    ) {
                                        p = !1;
                                        break;
                                    }
                                } else if (m !== h && !n(m, h, r, o, a)) {
                                    p = !1;
                                    break;
                                }
                            }
                            return a.delete(e), p;
                        }
                        function Co(e) {
                            return ir(e, Ua, Oo);
                        }
                        var xo = ln
                            ? function (e) {
                                  return ln.get(e);
                              }
                            : gs;
                        function _o(e) {
                            for (var t = e.name + "", n = fn[t], r = Se.call(fn, t) ? n.length : 0; r--; ) {
                                var o = n[r],
                                    i = o.func;
                                if (null == i || i == e) return o.name;
                            }
                            return t;
                        }
                        function ko() {
                            var e = Cn.iteratee || fs;
                            return (e = e === fs ? pr : e), arguments.length ? e(arguments[0], arguments[1]) : e;
                        }
                        var To = kr("length");
                        function Eo(e) {
                            for (var t = Wa(e), n = t.length; n--; ) t[n][2] = zo(t[n][1]);
                            return t;
                        }
                        function So(e, t) {
                            var n = e[t];
                            return pa(n) ? n : i;
                        }
                        function $o(e) {
                            return (Se.call(Cn, "placeholder") ? Cn : e).placeholder;
                        }
                        function No(e) {
                            return it(Object(e));
                        }
                        function Ao(e) {
                            return Ge(Object(e));
                        }
                        Ge ||
                            (Ao = function () {
                                return [];
                            });
                        var Oo = Ge
                            ? function (e) {
                                  for (var t = []; e; ) yt(t, Ao(e)), (e = No(e));
                                  return t;
                              }
                            : Ao;
                        function Do(e) {
                            return Ae.call(e);
                        }
                        function Ro(e, t, n) {
                            for (var r, o = -1, i = (t = jo(t, e) ? [t] : Wr(t)).length; ++o < i; ) {
                                var a = Jo(t[o]);
                                if (!(r = null != e && n(e, a))) break;
                                e = e[a];
                            }
                            return r || (!!(i = e ? e.length : 0) && la(i) && Lo(a, i) && (ra(e) || va(e) || na(e)));
                        }
                        function Bo(e) {
                            var t = e ? e.length : i;
                            return la(t) && (ra(e) || va(e) || na(e)) ? At(t, String) : null;
                        }
                        function Po(e) {
                            return ia(e) && (ra(e) || na(e));
                        }
                        function Io(e) {
                            return ra(e) && !(2 == e.length && !ua(e[0]));
                        }
                        function Lo(e, t) {
                            return !!(t = null == t ? m : t) && ("number" == typeof e || ve.test(e)) && e > -1 && e % 1 == 0 && e < t;
                        }
                        function Mo(e, t, n) {
                            if (!da(n)) return !1;
                            var r = typeof t;
                            return !!("number" == r ? oa(n) && Lo(t, n.length) : "string" == r && t in n) && Zi(n[t], e);
                        }
                        function jo(e, t) {
                            if (ra(e)) return !1;
                            var n = typeof e;
                            return !("number" != n && "symbol" != n && "boolean" != n && null != e && !ba(e)) || te.test(e) || !ee.test(e) || (null != t && e in Object(t));
                        }
                        function Fo(e) {
                            var t = typeof e;
                            return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
                        }
                        function Uo(e) {
                            var t = _o(e),
                                n = Cn[t];
                            if ("function" != typeof n || !(t in kn.prototype)) return !1;
                            if (e === n) return !0;
                            var r = xo(n);
                            return !!r && e === r[0];
                        }
                        function Ho(e) {
                            var t = e && e.constructor;
                            return e === (("function" == typeof t && t.prototype) || ke);
                        }
                        function zo(e) {
                            return e == e && !da(e);
                        }
                        function qo(e, t) {
                            return function (n) {
                                return null != n && n[e] === t && (t !== i || e in Object(n));
                            };
                        }
                        function Vo(e, t, n, r, o, a) {
                            return da(e) && da(t) && yr(e, t, i, Vo, a.set(t, e)), e;
                        }
                        function Wo(e, t) {
                            return 1 == t.length ? e : or(e, Or(t, 0, -1));
                        }
                        ((rn && Do(new rn(new ArrayBuffer(1))) != B) || (on && Do(new on()) != k) || (an && Do(an.resolve()) != S) || (sn && Do(new sn()) != N) || (un && Do(new un()) != D)) &&
                            (Do = function (e) {
                                var t = Ae.call(e),
                                    n = t == E ? e.constructor : i,
                                    r = n ? Qo(n) : i;
                                if (r)
                                    switch (r) {
                                        case pn:
                                            return B;
                                        case mn:
                                            return k;
                                        case hn:
                                            return S;
                                        case gn:
                                            return N;
                                        case vn:
                                            return D;
                                    }
                                return t;
                            });
                        var Ko,
                            Go,
                            Yo =
                                ((Ko = 0),
                                (Go = 0),
                                function (e, t) {
                                    var n = Mi(),
                                        r = 16 - (n - Go);
                                    if (((Go = n), r > 0)) {
                                        if (++Ko >= 150) return e;
                                    } else Ko = 0;
                                    return Ar(e, t);
                                }),
                            Xo = Wi(function (e) {
                                var t = [];
                                return (
                                    Sa(e).replace(ne, function (e, n, r, o) {
                                        t.push(r ? o.replace(ce, "$1") : n || e);
                                    }),
                                    t
                                );
                            });
                        function Jo(e) {
                            if ("string" == typeof e || ba(e)) return e;
                            var t = e + "";
                            return "0" == t && 1 / e == -p ? "-0" : t;
                        }
                        function Qo(e) {
                            if (null != e) {
                                try {
                                    return Ee.call(e);
                                } catch (e) {}
                                try {
                                    return e + "";
                                } catch (e) {}
                            }
                            return "";
                        }
                        function Zo(e) {
                            if (e instanceof kn) return e.clone();
                            var t = new _n(e.__wrapped__, e.__chain__);
                            return (t.__actions__ = Qr(e.__actions__)), (t.__index__ = e.__index__), (t.__values__ = e.__values__), t;
                        }
                        var ei = Ji(function (e, t) {
                                return ia(e) ? Wn(e, Qn(t, 1, ia, !0)) : [];
                            }),
                            ti = Ji(function (e, t) {
                                var n = ci(t);
                                return ia(n) && (n = i), ia(e) ? Wn(e, Qn(t, 1, ia, !0), ko(n)) : [];
                            }),
                            ni = Ji(function (e, t) {
                                var n = ci(t);
                                return ia(n) && (n = i), ia(e) ? Wn(e, Qn(t, 1, ia, !0), i, n) : [];
                            });
                        function ri(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? Or(e, (t = n || t === i ? 1 : _a(t)) < 0 ? 0 : t, r) : [];
                        }
                        function oi(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? Or(e, 0, (t = r - (t = n || t === i ? 1 : _a(t))) < 0 ? 0 : t) : [];
                        }
                        function ii(e) {
                            return e && e.length ? e[0] : i;
                        }
                        var ai = Ji(function (e) {
                                var t = bt(e, qr);
                                return t.length && t[0] === e[0] ? cr(t) : [];
                            }),
                            si = Ji(function (e) {
                                var t = ci(e),
                                    n = bt(e, qr);
                                return t === ci(n) ? (t = i) : n.pop(), n.length && n[0] === e[0] ? cr(n, ko(t)) : [];
                            }),
                            ui = Ji(function (e) {
                                var t = ci(e),
                                    n = bt(e, qr);
                                return t === ci(n) ? (t = i) : n.pop(), n.length && n[0] === e[0] ? cr(n, i, t) : [];
                            });
                        function ci(e) {
                            var t = e ? e.length : 0;
                            return t ? e[t - 1] : i;
                        }
                        var li = Ji(di);
                        function di(e, t) {
                            return e && e.length && t && t.length ? Tr(e, t) : e;
                        }
                        var fi = Ji(function (e, t) {
                            t = Qn(t, 1);
                            var n = e ? e.length : 0,
                                r = Un(e, t);
                            return (
                                Er(
                                    e,
                                    bt(t, function (e) {
                                        return Lo(e, n) ? +e : e;
                                    }).sort(Yr)
                                ),
                                r
                            );
                        });
                        function pi(e) {
                            return e ? tn.call(e) : e;
                        }
                        var mi = Ji(function (e) {
                                return Mr(Qn(e, 1, ia, !0));
                            }),
                            hi = Ji(function (e) {
                                var t = ci(e);
                                return ia(t) && (t = i), Mr(Qn(e, 1, ia, !0), ko(t));
                            }),
                            gi = Ji(function (e) {
                                var t = ci(e);
                                return ia(t) && (t = i), Mr(Qn(e, 1, ia, !0), i, t);
                            });
                        function vi(e) {
                            if (!e || !e.length) return [];
                            var t = 0;
                            return (
                                (e = ht(e, function (e) {
                                    if (ia(e)) return (t = Xt(e.length, t)), !0;
                                })),
                                At(t, function (t) {
                                    return bt(e, kr(t));
                                })
                            );
                        }
                        function bi(e, t) {
                            if (!e || !e.length) return [];
                            var n = vi(e);
                            return null == t
                                ? n
                                : bt(n, function (e) {
                                      return dt(t, i, e);
                                  });
                        }
                        var yi = Ji(function (e, t) {
                                return ia(e) ? Wn(e, t) : [];
                            }),
                            wi = Ji(function (e) {
                                return Hr(ht(e, ia));
                            }),
                            Ci = Ji(function (e) {
                                var t = ci(e);
                                return ia(t) && (t = i), Hr(ht(e, ia), ko(t));
                            }),
                            xi = Ji(function (e) {
                                var t = ci(e);
                                return ia(t) && (t = i), Hr(ht(e, ia), i, t);
                            }),
                            _i = Ji(vi),
                            ki = Ji(function (e) {
                                var t = e.length,
                                    n = t > 1 ? e[t - 1] : i;
                                return (n = "function" == typeof n ? (e.pop(), n) : i), bi(e, n);
                            });
                        function Ti(e) {
                            var t = Cn(e);
                            return (t.__chain__ = !0), t;
                        }
                        function Ei(e, t) {
                            return t(e);
                        }
                        var Si = Ji(function (e) {
                                var t = (e = Qn(e, 1)).length,
                                    n = t ? e[0] : 0,
                                    r = this.__wrapped__,
                                    o = function (t) {
                                        return Un(t, e);
                                    };
                                return !(t > 1 || this.__actions__.length) && r instanceof kn && Lo(n)
                                    ? ((r = r.slice(n, +n + (t ? 1 : 0))).__actions__.push({ func: Ei, args: [o], thisArg: i }),
                                      new _n(r, this.__chain__).thru(function (e) {
                                          return t && !e.length && e.push(i), e;
                                      }))
                                    : this.thru(o);
                            }),
                            $i = eo(function (e, t, n) {
                                Se.call(e, n) ? ++e[n] : (e[n] = 1);
                            });
                        function Ni(e, t) {
                            return "function" == typeof t && ra(e) ? pt(e, t) : Kn(e, ko(t));
                        }
                        function Ai(e, t) {
                            return "function" == typeof t && ra(e)
                                ? (function (e, t) {
                                      for (var n = e.length; n-- && !1 !== t(e[n], n, e); );
                                      return e;
                                  })(e, t)
                                : Gn(e, ko(t));
                        }
                        var Oi = eo(function (e, t, n) {
                                Se.call(e, n) ? e[n].push(t) : (e[n] = [t]);
                            }),
                            Di = Ji(function (e, t, n) {
                                var r = -1,
                                    o = "function" == typeof t,
                                    a = jo(t),
                                    s = oa(e) ? Array(e.length) : [];
                                return (
                                    Kn(e, function (e) {
                                        var u = o ? t : a && null != e ? e[t] : i;
                                        s[++r] = u ? dt(u, e, n) : lr(e, t, n);
                                    }),
                                    s
                                );
                            }),
                            Ri = eo(function (e, t, n) {
                                e[n] = t;
                            });
                        function Bi(e, t) {
                            return (ra(e) ? bt : gr)(e, ko(t, 3));
                        }
                        var Pi = eo(
                            function (e, t, n) {
                                e[n ? 0 : 1].push(t);
                            },
                            function () {
                                return [[], []];
                            }
                        );
                        function Ii(e, t, n) {
                            var r = -1,
                                o = xa(e),
                                a = o.length,
                                s = a - 1;
                            for (t = (n ? Mo(e, t, n) : t === i) ? 1 : Hn(_a(t), 0, a); ++r < t; ) {
                                var u = Sr(r, s),
                                    c = o[u];
                                (o[u] = o[r]), (o[r] = c);
                            }
                            return (o.length = t), o;
                        }
                        var Li = Ji(function (e, t) {
                                if (null == e) return [];
                                var n = t.length;
                                return n > 1 && Mo(e, t[0], t[1]) ? (t = []) : n > 2 && Mo(t[0], t[1], t[2]) && (t = [t[0]]), Cr(e, (t = 1 == t.length && ra(t[0]) ? t[0] : Qn(t, 1, Io)), []);
                            }),
                            Mi = n.now;
                        function ji(e, t, n) {
                            return (t = n ? i : t), (t = e && null == t ? e.length : t), yo(e, d, i, i, i, i, t);
                        }
                        function Fi(e, t) {
                            var n;
                            if ("function" != typeof t) throw new xe(s);
                            return (
                                (e = _a(e)),
                                function () {
                                    return --e > 0 && (n = t.apply(this, arguments)), e <= 1 && (t = i), n;
                                }
                            );
                        }
                        var Ui = Ji(function (e, t, n) {
                                var r = 1;
                                if (n.length) {
                                    var o = qt(n, $o(Ui));
                                    r |= l;
                                }
                                return yo(e, r, t, n, o);
                            }),
                            Hi = Ji(function (e, t, n) {
                                var r = 3;
                                if (n.length) {
                                    var o = qt(n, $o(Hi));
                                    r |= l;
                                }
                                return yo(t, r, e, n, o);
                            });
                        function zi(e, t, n) {
                            var r,
                                o,
                                a,
                                u,
                                c,
                                l = 0,
                                d = 0,
                                f = !1,
                                p = !1,
                                m = !0;
                            if ("function" != typeof e) throw new xe(s);
                            function h(t) {
                                var n = r,
                                    a = o;
                                return (r = o = i), (d = t), (u = e.apply(a, n));
                            }
                            function g(e) {
                                var n = e - l;
                                return !l || n >= t || n < 0 || (p && e - d >= a);
                            }
                            function v() {
                                var e = Mi();
                                if (g(e)) return b(e);
                                c = Qe(
                                    v,
                                    (function (e) {
                                        var n = t - (e - l);
                                        return p ? Jt(n, a - (e - d)) : n;
                                    })(e)
                                );
                            }
                            function b(e) {
                                return Le(c), (c = i), m && r ? h(e) : ((r = o = i), u);
                            }
                            function y() {
                                var e = Mi(),
                                    n = g(e);
                                if (((r = arguments), (o = this), (l = e), n)) {
                                    if (c === i)
                                        return (function (e) {
                                            return (d = e), (c = Qe(v, t)), f ? h(e) : u;
                                        })(l);
                                    if (p) return Le(c), (c = Qe(v, t)), h(l);
                                }
                                return c === i && (c = Qe(v, t)), u;
                            }
                            return (
                                (t = Ta(t) || 0),
                                da(n) && ((f = !!n.leading), (a = (p = "maxWait" in n) ? Xt(Ta(n.maxWait) || 0, t) : a), (m = "trailing" in n ? !!n.trailing : m)),
                                (y.cancel = function () {
                                    c !== i && Le(c), (l = d = 0), (r = o = c = i);
                                }),
                                (y.flush = function () {
                                    return c === i ? u : b(Mi());
                                }),
                                y
                            );
                        }
                        var qi = Ji(function (e, t) {
                                return Vn(e, 1, t);
                            }),
                            Vi = Ji(function (e, t, n) {
                                return Vn(e, Ta(t) || 0, n);
                            });
                        function Wi(e, t) {
                            if ("function" != typeof e || (t && "function" != typeof t)) throw new xe(s);
                            var n = function () {
                                var r = arguments,
                                    o = t ? t.apply(this, r) : r[0],
                                    i = n.cache;
                                if (i.has(o)) return i.get(o);
                                var a = e.apply(this, r);
                                return (n.cache = i.set(o, a)), a;
                            };
                            return (n.cache = new (Wi.Cache || Sn)()), n;
                        }
                        Wi.Cache = Sn;
                        var Ki = Ji(function (e, t) {
                                var n = (t = 1 == t.length && ra(t[0]) ? bt(t[0], Dt(ko())) : bt(Qn(t, 1, Io), Dt(ko()))).length;
                                return Ji(function (r) {
                                    for (var o = -1, i = Jt(r.length, n); ++o < i; ) r[o] = t[o].call(this, r[o]);
                                    return dt(e, this, r);
                                });
                            }),
                            Gi = Ji(function (e, t) {
                                var n = qt(t, $o(Gi));
                                return yo(e, l, i, t, n);
                            }),
                            Yi = Ji(function (e, t) {
                                var n = qt(t, $o(Yi));
                                return yo(e, 64, i, t, n);
                            }),
                            Xi = Ji(function (e, t) {
                                return yo(e, f, i, i, i, Qn(t, 1));
                            });
                        function Ji(e, t) {
                            if ("function" != typeof e) throw new xe(s);
                            return (
                                (t = Xt(t === i ? e.length - 1 : _a(t), 0)),
                                function () {
                                    for (var n = arguments, r = -1, o = Xt(n.length - t, 0), i = Array(o); ++r < o; ) i[r] = n[t + r];
                                    switch (t) {
                                        case 0:
                                            return e.call(this, i);
                                        case 1:
                                            return e.call(this, n[0], i);
                                        case 2:
                                            return e.call(this, n[0], n[1], i);
                                    }
                                    var a = Array(t + 1);
                                    for (r = -1; ++r < t; ) a[r] = n[r];
                                    return (a[t] = i), dt(e, this, a);
                                }
                            );
                        }
                        function Qi() {
                            if (!arguments.length) return [];
                            var e = arguments[0];
                            return ra(e) ? e : [e];
                        }
                        function Zi(e, t) {
                            return e === t || (e != e && t != t);
                        }
                        var ea = ho(ar),
                            ta = ho(function (e, t) {
                                return e >= t;
                            });
                        function na(e) {
                            return ia(e) && Se.call(e, "callee") && (!Je.call(e, "callee") || Ae.call(e) == v);
                        }
                        var ra = Array.isArray;
                        function oa(e) {
                            return null != e && la(To(e)) && !ua(e);
                        }
                        function ia(e) {
                            return fa(e) && oa(e);
                        }
                        var aa = Re
                            ? function (e) {
                                  return e instanceof Re;
                              }
                            : us(!1);
                        function sa(e) {
                            return !!fa(e) && (Ae.call(e) == C || ("string" == typeof e.message && "string" == typeof e.name));
                        }
                        function ua(e) {
                            var t = da(e) ? Ae.call(e) : "";
                            return t == x || t == _;
                        }
                        function ca(e) {
                            return "number" == typeof e && e == _a(e);
                        }
                        function la(e) {
                            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= m;
                        }
                        function da(e) {
                            var t = typeof e;
                            return !!e && ("object" == t || "function" == t);
                        }
                        function fa(e) {
                            return !!e && "object" == typeof e;
                        }
                        function pa(e) {
                            return !!da(e) && (ua(e) || Ut(e) ? De : he).test(Qo(e));
                        }
                        function ma(e) {
                            return "number" == typeof e || (fa(e) && Ae.call(e) == T);
                        }
                        function ha(e) {
                            if (!fa(e) || Ae.call(e) != E || Ut(e)) return !1;
                            var t = No(e);
                            if (null === t) return !0;
                            var n = Se.call(t, "constructor") && t.constructor;
                            return "function" == typeof n && n instanceof n && Ee.call(n) == Ne;
                        }
                        function ga(e) {
                            return da(e) && Ae.call(e) == $;
                        }
                        function va(e) {
                            return "string" == typeof e || (!ra(e) && fa(e) && Ae.call(e) == A);
                        }
                        function ba(e) {
                            return "symbol" == typeof e || (fa(e) && Ae.call(e) == O);
                        }
                        function ya(e) {
                            return fa(e) && la(e.length) && !!We[Ae.call(e)];
                        }
                        var wa = ho(hr),
                            Ca = ho(function (e, t) {
                                return e <= t;
                            });
                        function xa(e) {
                            if (!e) return [];
                            if (oa(e)) return va(e) ? Kt(e) : Qr(e);
                            if (Ye && e[Ye]) return Ht(e[Ye]());
                            var t = Do(e);
                            return (t == k ? zt : t == N ? Vt : Ga)(e);
                        }
                        function _a(e) {
                            if (!e) return 0 === e ? e : 0;
                            if ((e = Ta(e)) === p || e === -p) return 17976931348623157e292 * (e < 0 ? -1 : 1);
                            var t = e % 1;
                            return e == e ? (t ? e - t : e) : 0;
                        }
                        function ka(e) {
                            return e ? Hn(_a(e), 0, g) : 0;
                        }
                        function Ta(e) {
                            if ("number" == typeof e) return e;
                            if (ba(e)) return h;
                            if (da(e)) {
                                var t = ua(e.valueOf) ? e.valueOf() : e;
                                e = da(t) ? t + "" : t;
                            }
                            if ("string" != typeof e) return 0 === e ? e : +e;
                            e = e.replace(ie, "");
                            var n = me.test(e);
                            return n || ge.test(e) ? et(e.slice(2), n ? 2 : 8) : pe.test(e) ? h : +e;
                        }
                        function Ea(e) {
                            return Zr(e, Ua(e));
                        }
                        function Sa(e) {
                            return null == e ? "" : Lr(e);
                        }
                        var $a = to(function (e, t) {
                                if (dn || Ho(t) || oa(t)) Zr(t, Fa(t), e);
                                else for (var n in t) Se.call(t, n) && Mn(e, n, t[n]);
                            }),
                            Na = to(function (e, t) {
                                if (dn || Ho(t) || oa(t)) Zr(t, Ua(t), e);
                                else for (var n in t) Mn(e, n, t[n]);
                            }),
                            Aa = to(function (e, t, n, r) {
                                Zr(t, Ua(t), e, r);
                            }),
                            Oa = to(function (e, t, n, r) {
                                Zr(t, Fa(t), e, r);
                            }),
                            Da = Ji(function (e, t) {
                                return Un(e, Qn(t, 1));
                            }),
                            Ra = Ji(function (e) {
                                return e.push(i, In), dt(Aa, i, e);
                            }),
                            Ba = Ji(function (e) {
                                return e.push(i, Vo), dt(za, i, e);
                            });
                        function Pa(e, t, n) {
                            var r = null == e ? i : or(e, t);
                            return r === i ? n : r;
                        }
                        function Ia(e, t) {
                            return null != e && Ro(e, t, ur);
                        }
                        var La = co(function (e, t, n) {
                                e[t] = n;
                            }, us(ds)),
                            Ma = co(function (e, t, n) {
                                Se.call(e, t) ? e[t].push(n) : (e[t] = [n]);
                            }, ko),
                            ja = Ji(lr);
                        function Fa(e) {
                            var t = Ho(e);
                            if (!t && !oa(e))
                                return (function (e) {
                                    return It(Object(e));
                                })(e);
                            var n = Bo(e),
                                r = !!n,
                                o = n || [],
                                i = o.length;
                            for (var a in e) !sr(e, a) || (r && ("length" == a || Lo(a, i))) || (t && "constructor" == a) || o.push(a);
                            return o;
                        }
                        function Ua(e) {
                            for (var t = -1, n = Ho(e), r = mr(e), o = r.length, i = Bo(e), a = !!i, s = i || [], u = s.length; ++t < o; ) {
                                var c = r[t];
                                (a && ("length" == c || Lo(c, u))) || ("constructor" == c && (n || !Se.call(e, c))) || s.push(c);
                            }
                            return s;
                        }
                        var Ha = to(function (e, t, n) {
                                yr(e, t, n);
                            }),
                            za = to(function (e, t, n, r) {
                                yr(e, t, n, r);
                            }),
                            qa = Ji(function (e, t) {
                                return null == e ? {} : ((t = bt(Qn(t, 1), Jo)), xr(e, Wn(Co(e), t)));
                            }),
                            Va = Ji(function (e, t) {
                                return null == e ? {} : xr(e, bt(Qn(t, 1), Jo));
                            });
                        function Wa(e) {
                            return Ot(e, Fa(e));
                        }
                        function Ka(e) {
                            return Ot(e, Ua(e));
                        }
                        function Ga(e) {
                            return e ? Rt(e, Fa(e)) : [];
                        }
                        var Ya = io(function (e, t, n) {
                            return (t = t.toLowerCase()), e + (n ? Xa(t) : t);
                        });
                        function Xa(e) {
                            return os(Sa(e).toLowerCase());
                        }
                        function Ja(e) {
                            return (e = Sa(e)) && e.replace(be, Lt).replace(je, "");
                        }
                        var Qa = io(function (e, t, n) {
                                return e + (n ? "-" : "") + t.toLowerCase();
                            }),
                            Za = io(function (e, t, n) {
                                return e + (n ? " " : "") + t.toLowerCase();
                            }),
                            es = oo("toLowerCase"),
                            ts = io(function (e, t, n) {
                                return e + (n ? "_" : "") + t.toLowerCase();
                            }),
                            ns = io(function (e, t, n) {
                                return e + (n ? " " : "") + os(t);
                            }),
                            rs = io(function (e, t, n) {
                                return e + (n ? " " : "") + t.toUpperCase();
                            }),
                            os = oo("toUpperCase");
                        function is(e, t, n) {
                            return (e = Sa(e)), (t = n ? i : t) === i && (t = ze.test(e) ? Ue : ue), e.match(t) || [];
                        }
                        var as = Ji(function (e, t) {
                                try {
                                    return dt(e, i, t);
                                } catch (e) {
                                    return sa(e) ? e : new r(e);
                                }
                            }),
                            ss = Ji(function (e, t) {
                                return (
                                    pt(Qn(t, 1), function (t) {
                                        (t = Jo(t)), (e[t] = Ui(e[t], e));
                                    }),
                                    e
                                );
                            });
                        function us(e) {
                            return function () {
                                return e;
                            };
                        }
                        var cs = so(),
                            ls = so(!0);
                        function ds(e) {
                            return e;
                        }
                        function fs(e) {
                            return pr("function" == typeof e ? e : zn(e, !0));
                        }
                        var ps = Ji(function (e, t) {
                                return function (n) {
                                    return lr(n, e, t);
                                };
                            }),
                            ms = Ji(function (e, t) {
                                return function (n) {
                                    return lr(e, n, t);
                                };
                            });
                        function hs(e, t, n) {
                            var r = Fa(t),
                                o = rr(t, r);
                            null != n || (da(t) && (o.length || !r.length)) || ((n = t), (t = e), (e = this), (o = rr(t, Fa(t))));
                            var i = !(da(n) && "chain" in n && !n.chain),
                                a = ua(e);
                            return (
                                pt(o, function (n) {
                                    var r = t[n];
                                    (e[n] = r),
                                        a &&
                                            (e.prototype[n] = function () {
                                                var t = this.__chain__;
                                                if (i || t) {
                                                    var n = e(this.__wrapped__);
                                                    return (n.__actions__ = Qr(this.__actions__)).push({ func: r, args: arguments, thisArg: e }), (n.__chain__ = t), n;
                                                }
                                                return r.apply(e, yt([this.value()], arguments));
                                            });
                                }),
                                e
                            );
                        }
                        function gs() {}
                        var vs = fo(bt),
                            bs = fo(mt),
                            ys = fo(xt);
                        function ws(e) {
                            return jo(e)
                                ? kr(Jo(e))
                                : (function (e) {
                                      return function (t) {
                                          return or(t, e);
                                      };
                                  })(e);
                        }
                        var Cs,
                            xs = mo(),
                            _s = mo(!0),
                            ks = lo(function (e, t) {
                                return e + t;
                            }),
                            Ts = vo("ceil"),
                            Es = lo(function (e, t) {
                                return e / t;
                            }),
                            Ss = vo("floor"),
                            $s = lo(function (e, t) {
                                return e * t;
                            }),
                            Ns = vo("round"),
                            As = lo(function (e, t) {
                                return e - t;
                            });
                        return (
                            (Cn.after = function (e, t) {
                                if ("function" != typeof t) throw new xe(s);
                                return (
                                    (e = _a(e)),
                                    function () {
                                        if (--e < 1) return t.apply(this, arguments);
                                    }
                                );
                            }),
                            (Cn.ary = ji),
                            (Cn.assign = $a),
                            (Cn.assignIn = Na),
                            (Cn.assignInWith = Aa),
                            (Cn.assignWith = Oa),
                            (Cn.at = Da),
                            (Cn.before = Fi),
                            (Cn.bind = Ui),
                            (Cn.bindAll = ss),
                            (Cn.bindKey = Hi),
                            (Cn.castArray = Qi),
                            (Cn.chain = Ti),
                            (Cn.chunk = function (e, t, n) {
                                t = (n ? Mo(e, t, n) : t === i) ? 1 : Xt(_a(t), 0);
                                var r = e ? e.length : 0;
                                if (!r || t < 1) return [];
                                for (var o = 0, a = 0, s = Array(nt(r / t)); o < r; ) s[a++] = Or(e, o, (o += t));
                                return s;
                            }),
                            (Cn.compact = function (e) {
                                for (var t = -1, n = e ? e.length : 0, r = 0, o = []; ++t < n; ) {
                                    var i = e[t];
                                    i && (o[r++] = i);
                                }
                                return o;
                            }),
                            (Cn.concat = function () {
                                var e = arguments.length,
                                    t = Qi(arguments[0]);
                                if (e < 2) return e ? Qr(t) : [];
                                for (var n = Array(e - 1); e--; ) n[e - 1] = arguments[e];
                                return (function (e, t) {
                                    for (var n = -1, r = e.length, o = -1, i = t.length, a = Array(r + i); ++n < r; ) a[n] = e[n];
                                    for (; ++o < i; ) a[n++] = t[o];
                                    return a;
                                })(t, Qn(n, 1));
                            }),
                            (Cn.cond = function (e) {
                                var t = e ? e.length : 0,
                                    n = ko();
                                return (
                                    (e = t
                                        ? bt(e, function (e) {
                                              if ("function" != typeof e[1]) throw new xe(s);
                                              return [n(e[0]), e[1]];
                                          })
                                        : []),
                                    Ji(function (n) {
                                        for (var r = -1; ++r < t; ) {
                                            var o = e[r];
                                            if (dt(o[0], this, n)) return dt(o[1], this, n);
                                        }
                                    })
                                );
                            }),
                            (Cn.conforms = function (e) {
                                return (function (e) {
                                    var t = Fa(e),
                                        n = t.length;
                                    return function (r) {
                                        if (null == r) return !n;
                                        for (var o = n; o--; ) {
                                            var a = t[o],
                                                s = e[a],
                                                u = r[a];
                                            if ((u === i && !(a in Object(r))) || !s(u)) return !1;
                                        }
                                        return !0;
                                    };
                                })(zn(e, !0));
                            }),
                            (Cn.constant = us),
                            (Cn.countBy = $i),
                            (Cn.create = function (e, t) {
                                var n = qn(e);
                                return t ? Fn(n, t) : n;
                            }),
                            (Cn.curry = function e(t, n, r) {
                                var o = yo(t, 8, i, i, i, i, i, (n = r ? i : n));
                                return (o.placeholder = e.placeholder), o;
                            }),
                            (Cn.curryRight = function e(t, n, r) {
                                var o = yo(t, 16, i, i, i, i, i, (n = r ? i : n));
                                return (o.placeholder = e.placeholder), o;
                            }),
                            (Cn.debounce = zi),
                            (Cn.defaults = Ra),
                            (Cn.defaultsDeep = Ba),
                            (Cn.defer = qi),
                            (Cn.delay = Vi),
                            (Cn.difference = ei),
                            (Cn.differenceBy = ti),
                            (Cn.differenceWith = ni),
                            (Cn.drop = ri),
                            (Cn.dropRight = oi),
                            (Cn.dropRightWhile = function (e, t) {
                                return e && e.length ? Fr(e, ko(t, 3), !0, !0) : [];
                            }),
                            (Cn.dropWhile = function (e, t) {
                                return e && e.length ? Fr(e, ko(t, 3), !0) : [];
                            }),
                            (Cn.fill = function (e, t, n, r) {
                                var o = e ? e.length : 0;
                                return o
                                    ? (n && "number" != typeof n && Mo(e, t, n) && ((n = 0), (r = o)),
                                      (function (e, t, n, r) {
                                          var o = e.length;
                                          for ((n = _a(n)) < 0 && (n = -n > o ? 0 : o + n), (r = r === i || r > o ? o : _a(r)) < 0 && (r += o), r = n > r ? 0 : ka(r); n < r; ) e[n++] = t;
                                          return e;
                                      })(e, t, n, r))
                                    : [];
                            }),
                            (Cn.filter = function (e, t) {
                                return (ra(e) ? ht : Jn)(e, ko(t, 3));
                            }),
                            (Cn.flatMap = function (e, t) {
                                return Qn(Bi(e, t), 1);
                            }),
                            (Cn.flatMapDeep = function (e, t) {
                                return Qn(Bi(e, t), p);
                            }),
                            (Cn.flatMapDepth = function (e, t, n) {
                                return (n = n === i ? 1 : _a(n)), Qn(Bi(e, t), n);
                            }),
                            (Cn.flatten = function (e) {
                                return e && e.length ? Qn(e, 1) : [];
                            }),
                            (Cn.flattenDeep = function (e) {
                                return e && e.length ? Qn(e, p) : [];
                            }),
                            (Cn.flattenDepth = function (e, t) {
                                return e && e.length ? Qn(e, (t = t === i ? 1 : _a(t))) : [];
                            }),
                            (Cn.flip = function (e) {
                                return yo(e, 512);
                            }),
                            (Cn.flow = cs),
                            (Cn.flowRight = ls),
                            (Cn.fromPairs = function (e) {
                                for (var t = -1, n = e ? e.length : 0, r = {}; ++t < n; ) {
                                    var o = e[t];
                                    r[o[0]] = o[1];
                                }
                                return r;
                            }),
                            (Cn.functions = function (e) {
                                return null == e ? [] : rr(e, Fa(e));
                            }),
                            (Cn.functionsIn = function (e) {
                                return null == e ? [] : rr(e, Ua(e));
                            }),
                            (Cn.groupBy = Oi),
                            (Cn.initial = function (e) {
                                return oi(e, 1);
                            }),
                            (Cn.intersection = ai),
                            (Cn.intersectionBy = si),
                            (Cn.intersectionWith = ui),
                            (Cn.invert = La),
                            (Cn.invertBy = Ma),
                            (Cn.invokeMap = Di),
                            (Cn.iteratee = fs),
                            (Cn.keyBy = Ri),
                            (Cn.keys = Fa),
                            (Cn.keysIn = Ua),
                            (Cn.map = Bi),
                            (Cn.mapKeys = function (e, t) {
                                var n = {};
                                return (
                                    (t = ko(t, 3)),
                                    tr(e, function (e, r, o) {
                                        n[t(e, r, o)] = e;
                                    }),
                                    n
                                );
                            }),
                            (Cn.mapValues = function (e, t) {
                                var n = {};
                                return (
                                    (t = ko(t, 3)),
                                    tr(e, function (e, r, o) {
                                        n[r] = t(e, r, o);
                                    }),
                                    n
                                );
                            }),
                            (Cn.matches = function (e) {
                                return vr(zn(e, !0));
                            }),
                            (Cn.matchesProperty = function (e, t) {
                                return br(e, zn(t, !0));
                            }),
                            (Cn.memoize = Wi),
                            (Cn.merge = Ha),
                            (Cn.mergeWith = za),
                            (Cn.method = ps),
                            (Cn.methodOf = ms),
                            (Cn.mixin = hs),
                            (Cn.negate = function (e) {
                                if ("function" != typeof e) throw new xe(s);
                                return function () {
                                    return !e.apply(this, arguments);
                                };
                            }),
                            (Cn.nthArg = function (e) {
                                return (
                                    (e = _a(e)),
                                    Ji(function (t) {
                                        return wr(t, e);
                                    })
                                );
                            }),
                            (Cn.omit = qa),
                            (Cn.omitBy = function (e, t) {
                                return (
                                    (t = ko(t)),
                                    _r(e, function (e, n) {
                                        return !t(e, n);
                                    })
                                );
                            }),
                            (Cn.once = function (e) {
                                return Fi(2, e);
                            }),
                            (Cn.orderBy = function (e, t, n, r) {
                                return null == e ? [] : (ra(t) || (t = null == t ? [] : [t]), ra((n = r ? i : n)) || (n = null == n ? [] : [n]), Cr(e, t, n));
                            }),
                            (Cn.over = vs),
                            (Cn.overArgs = Ki),
                            (Cn.overEvery = bs),
                            (Cn.overSome = ys),
                            (Cn.partial = Gi),
                            (Cn.partialRight = Yi),
                            (Cn.partition = Pi),
                            (Cn.pick = Va),
                            (Cn.pickBy = function (e, t) {
                                return null == e ? {} : _r(e, ko(t));
                            }),
                            (Cn.property = ws),
                            (Cn.propertyOf = function (e) {
                                return function (t) {
                                    return null == e ? i : or(e, t);
                                };
                            }),
                            (Cn.pull = li),
                            (Cn.pullAll = di),
                            (Cn.pullAllBy = function (e, t, n) {
                                return e && e.length && t && t.length ? Tr(e, t, ko(n)) : e;
                            }),
                            (Cn.pullAllWith = function (e, t, n) {
                                return e && e.length && t && t.length ? Tr(e, t, i, n) : e;
                            }),
                            (Cn.pullAt = fi),
                            (Cn.range = xs),
                            (Cn.rangeRight = _s),
                            (Cn.rearg = Xi),
                            (Cn.reject = function (e, t) {
                                var n = ra(e) ? ht : Jn;
                                return (
                                    (t = ko(t, 3)),
                                    n(e, function (e, n, r) {
                                        return !t(e, n, r);
                                    })
                                );
                            }),
                            (Cn.remove = function (e, t) {
                                var n = [];
                                if (!e || !e.length) return n;
                                var r = -1,
                                    o = [],
                                    i = e.length;
                                for (t = ko(t, 3); ++r < i; ) {
                                    var a = e[r];
                                    t(a, r, e) && (n.push(a), o.push(r));
                                }
                                return Er(e, o), n;
                            }),
                            (Cn.rest = Ji),
                            (Cn.reverse = pi),
                            (Cn.sampleSize = Ii),
                            (Cn.set = function (e, t, n) {
                                return null == e ? e : Nr(e, t, n);
                            }),
                            (Cn.setWith = function (e, t, n, r) {
                                return (r = "function" == typeof r ? r : i), null == e ? e : Nr(e, t, n, r);
                            }),
                            (Cn.shuffle = function (e) {
                                return Ii(e, g);
                            }),
                            (Cn.slice = function (e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? (n && "number" != typeof n && Mo(e, t, n) ? ((t = 0), (n = r)) : ((t = null == t ? 0 : _a(t)), (n = n === i ? r : _a(n))), Or(e, t, n)) : [];
                            }),
                            (Cn.sortBy = Li),
                            (Cn.sortedUniq = function (e) {
                                return e && e.length ? Pr(e) : [];
                            }),
                            (Cn.sortedUniqBy = function (e, t) {
                                return e && e.length ? Pr(e, ko(t)) : [];
                            }),
                            (Cn.split = function (e, t, n) {
                                return (
                                    n && "number" != typeof n && Mo(e, t, n) && (t = n = i),
                                    (n = n === i ? g : n >>> 0) ? ((e = Sa(e)) && ("string" == typeof t || (null != t && !ga(t))) && "" == (t = Lr(t)) && He.test(e) ? Kr(Kt(e), 0, n) : nn.call(e, t, n)) : []
                                );
                            }),
                            (Cn.spread = function (e, t) {
                                if ("function" != typeof e) throw new xe(s);
                                return (
                                    (t = t === i ? 0 : Xt(_a(t), 0)),
                                    Ji(function (n) {
                                        var r = n[t],
                                            o = Kr(n, 0, t);
                                        return r && yt(o, r), dt(e, this, o);
                                    })
                                );
                            }),
                            (Cn.tail = function (e) {
                                return ri(e, 1);
                            }),
                            (Cn.take = function (e, t, n) {
                                return e && e.length ? Or(e, 0, (t = n || t === i ? 1 : _a(t)) < 0 ? 0 : t) : [];
                            }),
                            (Cn.takeRight = function (e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? Or(e, (t = r - (t = n || t === i ? 1 : _a(t))) < 0 ? 0 : t, r) : [];
                            }),
                            (Cn.takeRightWhile = function (e, t) {
                                return e && e.length ? Fr(e, ko(t, 3), !1, !0) : [];
                            }),
                            (Cn.takeWhile = function (e, t) {
                                return e && e.length ? Fr(e, ko(t, 3)) : [];
                            }),
                            (Cn.tap = function (e, t) {
                                return t(e), e;
                            }),
                            (Cn.throttle = function (e, t, n) {
                                var r = !0,
                                    o = !0;
                                if ("function" != typeof e) throw new xe(s);
                                return da(n) && ((r = "leading" in n ? !!n.leading : r), (o = "trailing" in n ? !!n.trailing : o)), zi(e, t, { leading: r, maxWait: t, trailing: o });
                            }),
                            (Cn.thru = Ei),
                            (Cn.toArray = xa),
                            (Cn.toPairs = Wa),
                            (Cn.toPairsIn = Ka),
                            (Cn.toPath = function (e) {
                                return ra(e) ? bt(e, Jo) : ba(e) ? [e] : Qr(Xo(e));
                            }),
                            (Cn.toPlainObject = Ea),
                            (Cn.transform = function (e, t, n) {
                                var r = ra(e) || ya(e);
                                if (((t = ko(t, 4)), null == n))
                                    if (r || da(e)) {
                                        var o = e.constructor;
                                        n = r ? (ra(e) ? new o() : []) : ua(o) ? qn(No(e)) : {};
                                    } else n = {};
                                return (
                                    (r ? pt : tr)(e, function (e, r, o) {
                                        return t(n, e, r, o);
                                    }),
                                    n
                                );
                            }),
                            (Cn.unary = function (e) {
                                return ji(e, 1);
                            }),
                            (Cn.union = mi),
                            (Cn.unionBy = hi),
                            (Cn.unionWith = gi),
                            (Cn.uniq = function (e) {
                                return e && e.length ? Mr(e) : [];
                            }),
                            (Cn.uniqBy = function (e, t) {
                                return e && e.length ? Mr(e, ko(t)) : [];
                            }),
                            (Cn.uniqWith = function (e, t) {
                                return e && e.length ? Mr(e, i, t) : [];
                            }),
                            (Cn.unset = function (e, t) {
                                return (
                                    null == e ||
                                    (function (e, t) {
                                        e = Wo(e, (t = jo(t, e) ? [t] : Wr(t)));
                                        var n = Jo(ci(t));
                                        return !(null != e && sr(e, n)) || delete e[n];
                                    })(e, t)
                                );
                            }),
                            (Cn.unzip = vi),
                            (Cn.unzipWith = bi),
                            (Cn.update = function (e, t, n) {
                                return null == e ? e : jr(e, t, Vr(n));
                            }),
                            (Cn.updateWith = function (e, t, n, r) {
                                return (r = "function" == typeof r ? r : i), null == e ? e : jr(e, t, Vr(n), r);
                            }),
                            (Cn.values = Ga),
                            (Cn.valuesIn = function (e) {
                                return null == e ? [] : Rt(e, Ua(e));
                            }),
                            (Cn.without = yi),
                            (Cn.words = is),
                            (Cn.wrap = function (e, t) {
                                return Gi((t = null == t ? ds : t), e);
                            }),
                            (Cn.xor = wi),
                            (Cn.xorBy = Ci),
                            (Cn.xorWith = xi),
                            (Cn.zip = _i),
                            (Cn.zipObject = function (e, t) {
                                return zr(e || [], t || [], Mn);
                            }),
                            (Cn.zipObjectDeep = function (e, t) {
                                return zr(e || [], t || [], Nr);
                            }),
                            (Cn.zipWith = ki),
                            (Cn.entries = Wa),
                            (Cn.entriesIn = Ka),
                            (Cn.extend = Na),
                            (Cn.extendWith = Aa),
                            hs(Cn, Cn),
                            (Cn.add = ks),
                            (Cn.attempt = as),
                            (Cn.camelCase = Ya),
                            (Cn.capitalize = Xa),
                            (Cn.ceil = Ts),
                            (Cn.clamp = function (e, t, n) {
                                return n === i && ((n = t), (t = i)), n !== i && (n = (n = Ta(n)) == n ? n : 0), t !== i && (t = (t = Ta(t)) == t ? t : 0), Hn(Ta(e), t, n);
                            }),
                            (Cn.clone = function (e) {
                                return zn(e, !1, !0);
                            }),
                            (Cn.cloneDeep = function (e) {
                                return zn(e, !0, !0);
                            }),
                            (Cn.cloneDeepWith = function (e, t) {
                                return zn(e, !0, !0, t);
                            }),
                            (Cn.cloneWith = function (e, t) {
                                return zn(e, !1, !0, t);
                            }),
                            (Cn.deburr = Ja),
                            (Cn.divide = Es),
                            (Cn.endsWith = function (e, t, n) {
                                (e = Sa(e)), (t = Lr(t));
                                var r = e.length;
                                return (n = n === i ? r : Hn(_a(n), 0, r)), (n -= t.length) >= 0 && e.indexOf(t, n) == n;
                            }),
                            (Cn.eq = Zi),
                            (Cn.escape = function (e) {
                                return (e = Sa(e)) && X.test(e) ? e.replace(G, Mt) : e;
                            }),
                            (Cn.escapeRegExp = function (e) {
                                return (e = Sa(e)) && oe.test(e) ? e.replace(re, "\\$&") : e;
                            }),
                            (Cn.every = function (e, t, n) {
                                var r = ra(e) ? mt : Yn;
                                return n && Mo(e, t, n) && (t = i), r(e, ko(t, 3));
                            }),
                            (Cn.find = function (e, t) {
                                if (((t = ko(t, 3)), ra(e))) {
                                    var n = kt(e, t);
                                    return n > -1 ? e[n] : i;
                                }
                                return _t(e, t, Kn);
                            }),
                            (Cn.findIndex = function (e, t) {
                                return e && e.length ? kt(e, ko(t, 3)) : -1;
                            }),
                            (Cn.findKey = function (e, t) {
                                return _t(e, ko(t, 3), tr, !0);
                            }),
                            (Cn.findLast = function (e, t) {
                                if (((t = ko(t, 3)), ra(e))) {
                                    var n = kt(e, t, !0);
                                    return n > -1 ? e[n] : i;
                                }
                                return _t(e, t, Gn);
                            }),
                            (Cn.findLastIndex = function (e, t) {
                                return e && e.length ? kt(e, ko(t, 3), !0) : -1;
                            }),
                            (Cn.findLastKey = function (e, t) {
                                return _t(e, ko(t, 3), nr, !0);
                            }),
                            (Cn.floor = Ss),
                            (Cn.forEach = Ni),
                            (Cn.forEachRight = Ai),
                            (Cn.forIn = function (e, t) {
                                return null == e ? e : Zn(e, ko(t), Ua);
                            }),
                            (Cn.forInRight = function (e, t) {
                                return null == e ? e : er(e, ko(t), Ua);
                            }),
                            (Cn.forOwn = function (e, t) {
                                return e && tr(e, ko(t));
                            }),
                            (Cn.forOwnRight = function (e, t) {
                                return e && nr(e, ko(t));
                            }),
                            (Cn.get = Pa),
                            (Cn.gt = ea),
                            (Cn.gte = ta),
                            (Cn.has = function (e, t) {
                                return null != e && Ro(e, t, sr);
                            }),
                            (Cn.hasIn = Ia),
                            (Cn.head = ii),
                            (Cn.identity = ds),
                            (Cn.includes = function (e, t, n, r) {
                                (e = oa(e) ? e : Ga(e)), (n = n && !r ? _a(n) : 0);
                                var o = e.length;
                                return n < 0 && (n = Xt(o + n, 0)), va(e) ? n <= o && e.indexOf(t, n) > -1 : !!o && Tt(e, t, n) > -1;
                            }),
                            (Cn.indexOf = function (e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? ((n = _a(n)) < 0 && (n = Xt(r + n, 0)), Tt(e, t, n)) : -1;
                            }),
                            (Cn.inRange = function (e, t, n) {
                                return (
                                    (t = Ta(t) || 0),
                                    n === i ? ((n = t), (t = 0)) : (n = Ta(n) || 0),
                                    (function (e, t, n) {
                                        return e >= Jt(t, n) && e < Xt(t, n);
                                    })((e = Ta(e)), t, n)
                                );
                            }),
                            (Cn.invoke = ja),
                            (Cn.isArguments = na),
                            (Cn.isArray = ra),
                            (Cn.isArrayBuffer = function (e) {
                                return fa(e) && Ae.call(e) == R;
                            }),
                            (Cn.isArrayLike = oa),
                            (Cn.isArrayLikeObject = ia),
                            (Cn.isBoolean = function (e) {
                                return !0 === e || !1 === e || (fa(e) && Ae.call(e) == y);
                            }),
                            (Cn.isBuffer = aa),
                            (Cn.isDate = function (e) {
                                return fa(e) && Ae.call(e) == w;
                            }),
                            (Cn.isElement = function (e) {
                                return !!e && 1 === e.nodeType && fa(e) && !ha(e);
                            }),
                            (Cn.isEmpty = function (e) {
                                if (oa(e) && (ra(e) || va(e) || ua(e.splice) || na(e) || aa(e))) return !e.length;
                                if (fa(e)) {
                                    var t = Do(e);
                                    if (t == k || t == N) return !e.size;
                                }
                                for (var n in e) if (Se.call(e, n)) return !1;
                                return !(dn && Fa(e).length);
                            }),
                            (Cn.isEqual = function (e, t) {
                                return dr(e, t);
                            }),
                            (Cn.isEqualWith = function (e, t, n) {
                                var r = (n = "function" == typeof n ? n : i) ? n(e, t) : i;
                                return r === i ? dr(e, t, n) : !!r;
                            }),
                            (Cn.isError = sa),
                            (Cn.isFinite = function (e) {
                                return "number" == typeof e && at(e);
                            }),
                            (Cn.isFunction = ua),
                            (Cn.isInteger = ca),
                            (Cn.isLength = la),
                            (Cn.isMap = function (e) {
                                return fa(e) && Do(e) == k;
                            }),
                            (Cn.isMatch = function (e, t) {
                                return e === t || fr(e, t, Eo(t));
                            }),
                            (Cn.isMatchWith = function (e, t, n) {
                                return (n = "function" == typeof n ? n : i), fr(e, t, Eo(t), n);
                            }),
                            (Cn.isNaN = function (e) {
                                return ma(e) && e != +e;
                            }),
                            (Cn.isNative = pa),
                            (Cn.isNil = function (e) {
                                return null == e;
                            }),
                            (Cn.isNull = function (e) {
                                return null === e;
                            }),
                            (Cn.isNumber = ma),
                            (Cn.isObject = da),
                            (Cn.isObjectLike = fa),
                            (Cn.isPlainObject = ha),
                            (Cn.isRegExp = ga),
                            (Cn.isSafeInteger = function (e) {
                                return ca(e) && e >= -m && e <= m;
                            }),
                            (Cn.isSet = function (e) {
                                return fa(e) && Do(e) == N;
                            }),
                            (Cn.isString = va),
                            (Cn.isSymbol = ba),
                            (Cn.isTypedArray = ya),
                            (Cn.isUndefined = function (e) {
                                return e === i;
                            }),
                            (Cn.isWeakMap = function (e) {
                                return fa(e) && Do(e) == D;
                            }),
                            (Cn.isWeakSet = function (e) {
                                return fa(e) && "[object WeakSet]" == Ae.call(e);
                            }),
                            (Cn.join = function (e, t) {
                                return e ? st.call(e, t) : "";
                            }),
                            (Cn.kebabCase = Qa),
                            (Cn.last = ci),
                            (Cn.lastIndexOf = function (e, t, n) {
                                var r = e ? e.length : 0;
                                if (!r) return -1;
                                var o = r;
                                if ((n !== i && (o = ((o = _a(n)) < 0 ? Xt(r + o, 0) : Jt(o, r - 1)) + 1), t != t)) return Ft(e, o, !0);
                                for (; o--; ) if (e[o] === t) return o;
                                return -1;
                            }),
                            (Cn.lowerCase = Za),
                            (Cn.lowerFirst = es),
                            (Cn.lt = wa),
                            (Cn.lte = Ca),
                            (Cn.max = function (e) {
                                return e && e.length ? Xn(e, ds, ar) : i;
                            }),
                            (Cn.maxBy = function (e, t) {
                                return e && e.length ? Xn(e, ko(t), ar) : i;
                            }),
                            (Cn.mean = function (e) {
                                return St(e, ds);
                            }),
                            (Cn.meanBy = function (e, t) {
                                return St(e, ko(t));
                            }),
                            (Cn.min = function (e) {
                                return e && e.length ? Xn(e, ds, hr) : i;
                            }),
                            (Cn.minBy = function (e, t) {
                                return e && e.length ? Xn(e, ko(t), hr) : i;
                            }),
                            (Cn.multiply = $s),
                            (Cn.nth = function (e, t) {
                                return e && e.length ? wr(e, _a(t)) : i;
                            }),
                            (Cn.noConflict = function () {
                                return ut._ === this && (ut._ = Oe), this;
                            }),
                            (Cn.noop = gs),
                            (Cn.now = Mi),
                            (Cn.pad = function (e, t, n) {
                                e = Sa(e);
                                var r = (t = _a(t)) ? Wt(e) : 0;
                                if (!t || r >= t) return e;
                                var o = (t - r) / 2;
                                return po(ot(o), n) + e + po(nt(o), n);
                            }),
                            (Cn.padEnd = function (e, t, n) {
                                e = Sa(e);
                                var r = (t = _a(t)) ? Wt(e) : 0;
                                return t && r < t ? e + po(t - r, n) : e;
                            }),
                            (Cn.padStart = function (e, t, n) {
                                e = Sa(e);
                                var r = (t = _a(t)) ? Wt(e) : 0;
                                return t && r < t ? po(t - r, n) + e : e;
                            }),
                            (Cn.parseInt = function (e, t, n) {
                                return n || null == t ? (t = 0) : t && (t = +t), (e = Sa(e).replace(ie, "")), Qt(e, t || (fe.test(e) ? 16 : 10));
                            }),
                            (Cn.random = function (e, t, n) {
                                if (
                                    (n && "boolean" != typeof n && Mo(e, t, n) && (t = n = i),
                                    n === i && ("boolean" == typeof t ? ((n = t), (t = i)) : "boolean" == typeof e && ((n = e), (e = i))),
                                    e === i && t === i ? ((e = 0), (t = 1)) : ((e = Ta(e) || 0), t === i ? ((t = e), (e = 0)) : (t = Ta(t) || 0)),
                                    e > t)
                                ) {
                                    var r = e;
                                    (e = t), (t = r);
                                }
                                if (n || e % 1 || t % 1) {
                                    var o = Zt();
                                    return Jt(e + o * (t - e + Ze("1e-" + ((o + "").length - 1))), t);
                                }
                                return Sr(e, t);
                            }),
                            (Cn.reduce = function (e, t, n) {
                                var r = ra(e) ? wt : $t,
                                    o = arguments.length < 3;
                                return r(e, ko(t, 4), n, o, Kn);
                            }),
                            (Cn.reduceRight = function (e, t, n) {
                                var r = ra(e) ? Ct : $t,
                                    o = arguments.length < 3;
                                return r(e, ko(t, 4), n, o, Gn);
                            }),
                            (Cn.repeat = function (e, t, n) {
                                return (t = (n ? Mo(e, t, n) : t === i) ? 1 : _a(t)), $r(Sa(e), t);
                            }),
                            (Cn.replace = function () {
                                var e = arguments,
                                    t = Sa(e[0]);
                                return e.length < 3 ? t : en.call(t, e[1], e[2]);
                            }),
                            (Cn.result = function (e, t, n) {
                                var r = -1,
                                    o = (t = jo(t, e) ? [t] : Wr(t)).length;
                                for (o || ((e = i), (o = 1)); ++r < o; ) {
                                    var a = null == e ? i : e[Jo(t[r])];
                                    a === i && ((r = o), (a = n)), (e = ua(a) ? a.call(e) : a);
                                }
                                return e;
                            }),
                            (Cn.round = Ns),
                            (Cn.runInContext = e),
                            (Cn.sample = function (e) {
                                var t = oa(e) ? e : Ga(e),
                                    n = t.length;
                                return n > 0 ? t[Sr(0, n - 1)] : i;
                            }),
                            (Cn.size = function (e) {
                                if (null == e) return 0;
                                if (oa(e)) {
                                    var t = e.length;
                                    return t && va(e) ? Wt(e) : t;
                                }
                                if (fa(e)) {
                                    var n = Do(e);
                                    if (n == k || n == N) return e.size;
                                }
                                return Fa(e).length;
                            }),
                            (Cn.snakeCase = ts),
                            (Cn.some = function (e, t, n) {
                                var r = ra(e) ? xt : Dr;
                                return n && Mo(e, t, n) && (t = i), r(e, ko(t, 3));
                            }),
                            (Cn.sortedIndex = function (e, t) {
                                return Rr(e, t);
                            }),
                            (Cn.sortedIndexBy = function (e, t, n) {
                                return Br(e, t, ko(n));
                            }),
                            (Cn.sortedIndexOf = function (e, t) {
                                var n = e ? e.length : 0;
                                if (n) {
                                    var r = Rr(e, t);
                                    if (r < n && Zi(e[r], t)) return r;
                                }
                                return -1;
                            }),
                            (Cn.sortedLastIndex = function (e, t) {
                                return Rr(e, t, !0);
                            }),
                            (Cn.sortedLastIndexBy = function (e, t, n) {
                                return Br(e, t, ko(n), !0);
                            }),
                            (Cn.sortedLastIndexOf = function (e, t) {
                                if (e && e.length) {
                                    var n = Rr(e, t, !0) - 1;
                                    if (Zi(e[n], t)) return n;
                                }
                                return -1;
                            }),
                            (Cn.startCase = ns),
                            (Cn.startsWith = function (e, t, n) {
                                return (e = Sa(e)), (n = Hn(_a(n), 0, e.length)), e.lastIndexOf(Lr(t), n) == n;
                            }),
                            (Cn.subtract = As),
                            (Cn.sum = function (e) {
                                return e && e.length ? Nt(e, ds) : 0;
                            }),
                            (Cn.sumBy = function (e, t) {
                                return e && e.length ? Nt(e, ko(t)) : 0;
                            }),
                            (Cn.template = function (e, t, n) {
                                var r = Cn.templateSettings;
                                n && Mo(e, t, n) && (t = i), (e = Sa(e)), (t = Aa({}, t, r, In));
                                var o,
                                    a,
                                    s = Aa({}, t.imports, r.imports, In),
                                    u = Fa(s),
                                    c = Rt(s, u),
                                    l = 0,
                                    d = t.interpolate || ye,
                                    f = "__p += '",
                                    p = Ce((t.escape || ye).source + "|" + d.source + "|" + (d === Z ? le : ye).source + "|" + (t.evaluate || ye).source + "|$", "g"),
                                    m = "//# sourceURL=" + ("sourceURL" in t ? t.sourceURL : "lodash.templateSources[" + ++Ve + "]") + "\n";
                                e.replace(p, function (t, n, r, i, s, u) {
                                    return (
                                        r || (r = i),
                                        (f += e.slice(l, u).replace(we, jt)),
                                        n && ((o = !0), (f += "' +\n__e(" + n + ") +\n'")),
                                        s && ((a = !0), (f += "';\n" + s + ";\n__p += '")),
                                        r && (f += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                                        (l = u + t.length),
                                        t
                                    );
                                }),
                                    (f += "';\n");
                                var h = t.variable;
                                h || (f = "with (obj) {\n" + f + "\n}\n"),
                                    (f = (a ? f.replace(q, "") : f).replace(V, "$1").replace(W, "$1;")),
                                    (f =
                                        "function(" +
                                        (h || "obj") +
                                        ") {\n" +
                                        (h ? "" : "obj || (obj = {});\n") +
                                        "var __t, __p = ''" +
                                        (o ? ", __e = _.escape" : "") +
                                        (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") +
                                        f +
                                        "return __p\n}");
                                var g = as(function () {
                                    return Function(u, m + "return " + f).apply(i, c);
                                });
                                if (((g.source = f), sa(g))) throw g;
                                return g;
                            }),
                            (Cn.times = function (e, t) {
                                if ((e = _a(e)) < 1 || e > m) return [];
                                var n = g,
                                    r = Jt(e, g);
                                (t = ko(t)), (e -= g);
                                for (var o = At(r, t); ++n < e; ) t(n);
                                return o;
                            }),
                            (Cn.toInteger = _a),
                            (Cn.toLength = ka),
                            (Cn.toLower = function (e) {
                                return Sa(e).toLowerCase();
                            }),
                            (Cn.toNumber = Ta),
                            (Cn.toSafeInteger = function (e) {
                                return Hn(_a(e), -m, m);
                            }),
                            (Cn.toString = Sa),
                            (Cn.toUpper = function (e) {
                                return Sa(e).toUpperCase();
                            }),
                            (Cn.trim = function (e, t, n) {
                                if ((e = Sa(e)) && (n || t === i)) return e.replace(ie, "");
                                if (!e || !(t = Lr(t))) return e;
                                var r = Kt(e),
                                    o = Kt(t);
                                return Kr(r, Bt(r, o), Pt(r, o) + 1).join("");
                            }),
                            (Cn.trimEnd = function (e, t, n) {
                                if ((e = Sa(e)) && (n || t === i)) return e.replace(se, "");
                                if (!e || !(t = Lr(t))) return e;
                                var r = Kt(e);
                                return Kr(r, 0, Pt(r, Kt(t)) + 1).join("");
                            }),
                            (Cn.trimStart = function (e, t, n) {
                                if ((e = Sa(e)) && (n || t === i)) return e.replace(ae, "");
                                if (!e || !(t = Lr(t))) return e;
                                var r = Kt(e);
                                return Kr(r, Bt(r, Kt(t))).join("");
                            }),
                            (Cn.truncate = function (e, t) {
                                var n = 30,
                                    r = "...";
                                if (da(t)) {
                                    var o = "separator" in t ? t.separator : o;
                                    (n = "length" in t ? _a(t.length) : n), (r = "omission" in t ? Lr(t.omission) : r);
                                }
                                var a = (e = Sa(e)).length;
                                if (He.test(e)) {
                                    var s = Kt(e);
                                    a = s.length;
                                }
                                if (n >= a) return e;
                                var u = n - Wt(r);
                                if (u < 1) return r;
                                var c = s ? Kr(s, 0, u).join("") : e.slice(0, u);
                                if (o === i) return c + r;
                                if ((s && (u += c.length - u), ga(o))) {
                                    if (e.slice(u).search(o)) {
                                        var l,
                                            d = c;
                                        for (o.global || (o = Ce(o.source, Sa(de.exec(o)) + "g")), o.lastIndex = 0; (l = o.exec(d)); ) var f = l.index;
                                        c = c.slice(0, f === i ? u : f);
                                    }
                                } else if (e.indexOf(Lr(o), u) != u) {
                                    var p = c.lastIndexOf(o);
                                    p > -1 && (c = c.slice(0, p));
                                }
                                return c + r;
                            }),
                            (Cn.unescape = function (e) {
                                return (e = Sa(e)) && Y.test(e) ? e.replace(K, Gt) : e;
                            }),
                            (Cn.uniqueId = function (e) {
                                var t = ++$e;
                                return Sa(e) + t;
                            }),
                            (Cn.upperCase = rs),
                            (Cn.upperFirst = os),
                            (Cn.each = Ni),
                            (Cn.eachRight = Ai),
                            (Cn.first = ii),
                            hs(
                                Cn,
                                ((Cs = {}),
                                tr(Cn, function (e, t) {
                                    Se.call(Cn.prototype, t) || (Cs[t] = e);
                                }),
                                Cs),
                                { chain: !1 }
                            ),
                            (Cn.VERSION = "4.11.2"),
                            pt(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function (e) {
                                Cn[e].placeholder = Cn;
                            }),
                            pt(["drop", "take"], function (e, t) {
                                (kn.prototype[e] = function (n) {
                                    var r = this.__filtered__;
                                    if (r && !t) return new kn(this);
                                    n = n === i ? 1 : Xt(_a(n), 0);
                                    var o = this.clone();
                                    return r ? (o.__takeCount__ = Jt(n, o.__takeCount__)) : o.__views__.push({ size: Jt(n, g), type: e + (o.__dir__ < 0 ? "Right" : "") }), o;
                                }),
                                    (kn.prototype[e + "Right"] = function (t) {
                                        return this.reverse()[e](t).reverse();
                                    });
                            }),
                            pt(["filter", "map", "takeWhile"], function (e, t) {
                                var n = t + 1,
                                    r = 1 == n || 3 == n;
                                kn.prototype[e] = function (e) {
                                    var t = this.clone();
                                    return t.__iteratees__.push({ iteratee: ko(e, 3), type: n }), (t.__filtered__ = t.__filtered__ || r), t;
                                };
                            }),
                            pt(["head", "last"], function (e, t) {
                                var n = "take" + (t ? "Right" : "");
                                kn.prototype[e] = function () {
                                    return this[n](1).value()[0];
                                };
                            }),
                            pt(["initial", "tail"], function (e, t) {
                                var n = "drop" + (t ? "" : "Right");
                                kn.prototype[e] = function () {
                                    return this.__filtered__ ? new kn(this) : this[n](1);
                                };
                            }),
                            (kn.prototype.compact = function () {
                                return this.filter(ds);
                            }),
                            (kn.prototype.find = function (e) {
                                return this.filter(e).head();
                            }),
                            (kn.prototype.findLast = function (e) {
                                return this.reverse().find(e);
                            }),
                            (kn.prototype.invokeMap = Ji(function (e, t) {
                                return "function" == typeof e
                                    ? new kn(this)
                                    : this.map(function (n) {
                                          return lr(n, e, t);
                                      });
                            })),
                            (kn.prototype.reject = function (e) {
                                return (
                                    (e = ko(e, 3)),
                                    this.filter(function (t) {
                                        return !e(t);
                                    })
                                );
                            }),
                            (kn.prototype.slice = function (e, t) {
                                e = _a(e);
                                var n = this;
                                return n.__filtered__ && (e > 0 || t < 0) ? new kn(n) : (e < 0 ? (n = n.takeRight(-e)) : e && (n = n.drop(e)), t !== i && (n = (t = _a(t)) < 0 ? n.dropRight(-t) : n.take(t - e)), n);
                            }),
                            (kn.prototype.takeRightWhile = function (e) {
                                return this.reverse().takeWhile(e).reverse();
                            }),
                            (kn.prototype.toArray = function () {
                                return this.take(g);
                            }),
                            tr(kn.prototype, function (e, t) {
                                var n = /^(?:filter|find|map|reject)|While$/.test(t),
                                    r = /^(?:head|last)$/.test(t),
                                    o = Cn[r ? "take" + ("last" == t ? "Right" : "") : t],
                                    a = r || /^find/.test(t);
                                o &&
                                    (Cn.prototype[t] = function () {
                                        var t = this.__wrapped__,
                                            s = r ? [1] : arguments,
                                            u = t instanceof kn,
                                            c = s[0],
                                            l = u || ra(t),
                                            d = function (e) {
                                                var t = o.apply(Cn, yt([e], s));
                                                return r && f ? t[0] : t;
                                            };
                                        l && n && "function" == typeof c && 1 != c.length && (u = l = !1);
                                        var f = this.__chain__,
                                            p = !!this.__actions__.length,
                                            m = a && !f,
                                            h = u && !p;
                                        if (!a && l) {
                                            t = h ? t : new kn(this);
                                            var g = e.apply(t, s);
                                            return g.__actions__.push({ func: Ei, args: [d], thisArg: i }), new _n(g, f);
                                        }
                                        return m && h ? e.apply(this, s) : ((g = this.thru(d)), m ? (r ? g.value()[0] : g.value()) : g);
                                    });
                            }),
                            pt(["pop", "push", "shift", "sort", "splice", "unshift"], function (e) {
                                var t = _e[e],
                                    n = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru",
                                    r = /^(?:pop|shift)$/.test(e);
                                Cn.prototype[e] = function () {
                                    var e = arguments;
                                    if (r && !this.__chain__) {
                                        var o = this.value();
                                        return t.apply(ra(o) ? o : [], e);
                                    }
                                    return this[n](function (n) {
                                        return t.apply(ra(n) ? n : [], e);
                                    });
                                };
                            }),
                            tr(kn.prototype, function (e, t) {
                                var n = Cn[t];
                                if (n) {
                                    var r = n.name + "";
                                    (fn[r] || (fn[r] = [])).push({ name: t, func: n });
                                }
                            }),
                            (fn[uo(i, 2).name] = [{ name: "wrapper", func: i }]),
                            (kn.prototype.clone = function () {
                                var e = new kn(this.__wrapped__);
                                return (
                                    (e.__actions__ = Qr(this.__actions__)),
                                    (e.__dir__ = this.__dir__),
                                    (e.__filtered__ = this.__filtered__),
                                    (e.__iteratees__ = Qr(this.__iteratees__)),
                                    (e.__takeCount__ = this.__takeCount__),
                                    (e.__views__ = Qr(this.__views__)),
                                    e
                                );
                            }),
                            (kn.prototype.reverse = function () {
                                if (this.__filtered__) {
                                    var e = new kn(this);
                                    (e.__dir__ = -1), (e.__filtered__ = !0);
                                } else (e = this.clone()).__dir__ *= -1;
                                return e;
                            }),
                            (kn.prototype.value = function () {
                                var e = this.__wrapped__.value(),
                                    t = this.__dir__,
                                    n = ra(e),
                                    r = t < 0,
                                    o = n ? e.length : 0,
                                    i = (function (e, t, n) {
                                        for (var r = -1, o = n.length; ++r < o; ) {
                                            var i = n[r],
                                                a = i.size;
                                            switch (i.type) {
                                                case "drop":
                                                    e += a;
                                                    break;
                                                case "dropRight":
                                                    t -= a;
                                                    break;
                                                case "take":
                                                    t = Jt(t, e + a);
                                                    break;
                                                case "takeRight":
                                                    e = Xt(e, t - a);
                                            }
                                        }
                                        return { start: e, end: t };
                                    })(0, o, this.__views__),
                                    s = i.start,
                                    u = i.end,
                                    c = u - s,
                                    l = r ? u : s - 1,
                                    d = this.__iteratees__,
                                    f = d.length,
                                    p = 0,
                                    m = Jt(c, this.__takeCount__);
                                if (!n || o < a || (o == c && m == c)) return Ur(e, this.__actions__);
                                var h = [];
                                e: for (; c-- && p < m; ) {
                                    for (var g = -1, v = e[(l += t)]; ++g < f; ) {
                                        var b = d[g],
                                            y = b.iteratee,
                                            w = b.type,
                                            C = y(v);
                                        if (2 == w) v = C;
                                        else if (!C) {
                                            if (1 == w) continue e;
                                            break e;
                                        }
                                    }
                                    h[p++] = v;
                                }
                                return h;
                            }),
                            (Cn.prototype.at = Si),
                            (Cn.prototype.chain = function () {
                                return Ti(this);
                            }),
                            (Cn.prototype.commit = function () {
                                return new _n(this.value(), this.__chain__);
                            }),
                            (Cn.prototype.next = function () {
                                this.__values__ === i && (this.__values__ = xa(this.value()));
                                var e = this.__index__ >= this.__values__.length;
                                return { done: e, value: e ? i : this.__values__[this.__index__++] };
                            }),
                            (Cn.prototype.plant = function (e) {
                                for (var t, n = this; n instanceof xn; ) {
                                    var r = Zo(n);
                                    (r.__index__ = 0), (r.__values__ = i), t ? (o.__wrapped__ = r) : (t = r);
                                    var o = r;
                                    n = n.__wrapped__;
                                }
                                return (o.__wrapped__ = e), t;
                            }),
                            (Cn.prototype.reverse = function () {
                                var e = this.__wrapped__;
                                if (e instanceof kn) {
                                    var t = e;
                                    return this.__actions__.length && (t = new kn(this)), (t = t.reverse()).__actions__.push({ func: Ei, args: [pi], thisArg: i }), new _n(t, this.__chain__);
                                }
                                return this.thru(pi);
                            }),
                            (Cn.prototype.toJSON = Cn.prototype.valueOf = Cn.prototype.value = function () {
                                return Ur(this.__wrapped__, this.__actions__);
                            }),
                            Ye &&
                                (Cn.prototype[Ye] = function () {
                                    return this;
                                }),
                            Cn
                        );
                    })();
                    ((at || it || {})._ = Yt),
                        (r = function () {
                            return Yt;
                        }.call(t, n, t, e)) === i || (e.exports = r);
                }.call(this));
            }.call(
                t,
                n(8)(e),
                (function () {
                    return this;
                })()
            ));
        },
        function (e, t) {
            e.exports = function (e) {
                return e.webpackPolyfill || ((e.deprecate = function () {}), (e.paths = []), (e.children = []), (e.webpackPolyfill = 1)), e;
            };
        },
        function (e, t) {
            window.cytubeEnhanced = new window.CytubeEnhanced(
                (window.cytubeEnhancedSettings && window.cytubeEnhancedSettings.language) || "en",
                (window.cytubeEnhancedSettings && window.cytubeEnhancedSettings.modulesSettings) || {},
                (window.cytubeEnhancedSettings && window.cytubeEnhancedSettings.modulesExtends) || {}
            );
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("Overlay", function (e, t) {
                "use strict";
                (t = $.extend({}, { turnedOn: !0 }, t)), $("#videowrap").append("<div id='VideoOverlay' class='fadein'><button class='fal fa-expand-alt OLB' id='fs-vid-button'></button></div>"), $("#VideoOverlay").hide();
                var n = null;
                $("#videowrap")
                    .mousemove(function () {
                        clearTimeout(n), $("#VideoOverlay").show(), (n = setTimeout('$("#VideoOverlay").hide();', 5e3));
                    })
                    .mouseleave(function () {
                        clearTimeout(n), $("#VideoOverlay").hide();
                    }),
                    $("#VideoOverlay").append($("#mediarefresh")),
                    $("#VideoOverlay").append("<button id='skip' title='Voteskip the video' class='fal fa-arrow-alt-to-right OLB'></button>"),
                    $("#VideoOverlay").append("<button id='Ambient' title='Ambient Mode beta' style='float: right;' class='fal fa-popcorn OLB'></button>"),
                    $("#Ambient").click(function () {
                        $.getScript("https://dl.dropbox.com/s/bwocup9ggrr5n7f/ambient.js");
                    });
                var r = document.getElementById("fs-vid-button");
                document.getElementById("videowrap");
                r.addEventListener("click", function (e) {
                    var t, n;
                    e.preventDefault(),
                        (t =
                            (document.fullscreenElement && null !== document.fullscreenElement) ||
                            (document.webkitFullscreenElement && null !== document.webkitFullscreenElement) ||
                            (document.mozFullScreenElement && null !== document.mozFullScreenElement) ||
                            (document.msFullscreenElement && null !== document.msFullscreenElement)),
                        (n = document.getElementById("videowrap")),
                        t
                            ? document.exitFullscreen
                                ? document.exitFullscreen()
                                : document.webkitExitFullscreen
                                ? document.webkitExitFullscreen()
                                : document.mozCancelFullScreen
                                ? document.mozCancelFullScreen()
                                : document.msExitFullscreen && document.msExitFullscreen()
                            : n.requestFullscreen
                            ? n.requestFullscreen()
                            : n.mozRequestFullScreen
                            ? n.mozRequestFullScreen()
                            : n.webkitRequestFullScreen
                            ? n.webkitRequestFullScreen()
                            : n.msRequestFullscreen && n.msRequestFullscreen();
                }),
                    $("#skip").click(function () {
                        socket.emit("voteskip");
                    });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("additionalChatCommands", function (e, t) {
                "use strict";
                var n = this;
                ((t = $.extend({}, { permittedCommands: ["*"] }, t)).permittedCommands = _.isArray(t.permittedCommands) ? t.permittedCommands : []),
                    (t.permittedCommands = _.map(t.permittedCommands, function (e) {
                        return _.toLower(e);
                    })),
                    (this.$chatline = $("#chatline")),
                    (this.isCommandPermitted = function (e) {
                        return !!n.commandsList[e] && (!n.commandsList[e].canBeOmitted || -1 !== t.permittedCommands.indexOf("*") || -1 !== t.permittedCommands.indexOf(e));
                    }),
                    (this.askAnswers = [
                        "100%",
                        e.t("qCommands[.]of course"),
                        e.t("qCommands[.]yes"),
                        e.t("qCommands[.]maybe"),
                        e.t("qCommands[.]impossible"),
                        e.t("qCommands[.]no way"),
                        e.t("qCommands[.]don't think so"),
                        e.t("qCommands[.]no"),
                        "50/50",
                        e.t("qCommands[.]cirno is busy"),
                        e.t("qCommands[.]I regret to inform you"),
                    ]),
                    (this.randomQuotes = []),
                    (this.commandsList = {
                        "!pick": {
                            description: e.t("chatCommands[.]random option from the list of options (!pick option1, option2, option3)"),
                            value: function (t) {
                                var n = _.trim(t.replace("!pick", ""));
                                if ("" === n) return e.t("chatCommands[.]Use !pick variant1, variant2");
                                var r = n.split(",");
                                return _.trim(r[Math.floor(Math.random() * r.length)]);
                            },
                            canBeOmitted: !0,
                        },
                        "!ask": {
                            description: e.t("chatCommands[.]asking a question with yes/no/... type answer (e.g. <i>!ask Will i be rich?</i>)"),
                            value: function () {
                                return n.askAnswers[Math.floor(Math.random() * n.askAnswers.length)];
                            },
                            canBeOmitted: !0,
                        },
                        "!time": {
                            description: e.t("chatCommands[.]show the current time"),
                            value: function () {
                                var t = new Date().getHours();
                                t < 10 && (t = "0" + t);
                                var n = new Date().getMinutes();
                                return n < 10 && (n = "0" + n), e.t("chatCommands[.]current time") + ": " + t + ":" + n;
                            },
                            canBeOmitted: !0,
                        },
                        "!dice": {
                            description: e.t("chatCommands[.]throw a dice"),
                            value: function () {
                                return Math.floor(5 * Math.random()) + 1;
                            },
                            canBeOmitted: !0,
                        },
                        "!roll": {
                            description: e.t("chatCommands[.]random number between 0 and 999"),
                            value: function () {
                                var e = Math.floor(1e3 * Math.random());
                                return e < 100 ? (e = "0" + e) : e < 10 && (e = "00" + e), e;
                            },
                            canBeOmitted: !0,
                        },
                        "!skip": {
                            description: e.t("chatCommands[.]vote for the video skip"),
                            value: function (t) {
                                return window.socket.emit("voteskip"), e.t("chatCommands[.]you have voted to skip the video");
                            },
                            isAvailable: function () {
                                return window.hasPermission("voteskip");
                            },
                            canBeOmitted: !0,
                        },
                        "!next": {
                            description: e.t("chatCommands[.]play the next video"),
                            value: function (t) {
                                return window.socket.emit("playNext"), e.t("chatCommands[.]the next video is playing");
                            },
                            isAvailable: function () {
                                return window.hasPermission("playlistjump");
                            },
                            canBeOmitted: !0,
                        },
                        "!bump": {
                            description: e.t("chatCommands[.]bump the last video"),
                            value: function (t) {
                                var n = $("#queue").find(".queue_entry").last(),
                                    r = n.data("uid"),
                                    o = n.find(".qe_title").html();
                                return window.socket.emit("moveMedia", { from: r, after: window.PL_CURRENT }), e.t("chatCommands[.]the last video was bumped") + o;
                            },
                            isAvailable: function () {
                                return window.hasPermission("playlistmove");
                            },
                            canBeOmitted: !0,
                        },
                        "!add": {
                            description: e.t("chatCommands[.]adds the video to the end of the playlist (e.g. <i>!add https://www.youtube.com/watch?v=hh4gpgAZkc8</i>) ,May not work on all Channels!"),
                            value: function (t) {
                                var n = window.parseMediaLink(t.split("!add ")[1]);
                                return null === n.id ? (t = e.t("chatCommands[.]error: the wrong link")) : (window.socket.emit("queue", { id: n.id, pos: "end", type: n.type }), (t = e.t("chatCommands[.]the video was added"))), t;
                            },
                            isAvailable: function () {
                                return window.hasPermission("playlistadd");
                            },
                            canBeOmitted: !0,
                        },
                        "!now": {
                            description: e.t("chatCommands[.]show what is currently playing"),
                            value: function () {
                                return e.t("chatCommands[.]now: ") + $(".queue_active a").html();
                            },
                            canBeOmitted: !0,
                        },
                        "!sm": {
                            description: e.t("chatCommands[.]show a random emote in chat"),
                            value: function () {
                                var e = window.CHANNEL.emotes.map(function (e) {
                                    return e.name;
                                });
                                return e[Math.floor(Math.random() * e.length)] + " ";
                            },
                            canBeOmitted: !0,
                        },
                    }),
                    (this.IS_COMMAND = !1),
                    (this.prepareMessage = function (e) {
                        for (var t in ((n.IS_COMMAND = !1), n.commandsList))
                            if (this.commandsList.hasOwnProperty(t) && 0 === _.toLower(_.trim(e)).indexOf(t)) {
                                !n.isCommandPermitted(t) || (n.commandsList[t].isAvailable && !n.commandsList[t].isAvailable()) || ((n.IS_COMMAND = !0), (e = n.commandsList[t].value(e)));
                                break;
                            }
                        return e;
                    }),
                    (this.sendUserChatMessage = function (e) {
                        if (13 !== e.keyCode)
                            return 9 === e.keyCode
                                ? (window.chatTabComplete(), e.preventDefault(), !1)
                                : 38 === e.keyCode
                                ? (window.CHATHISTIDX === window.CHATHIST.length && window.CHATHIST.push(n.$chatline.val()),
                                  window.CHATHISTIDX > 0 && (window.CHATHISTIDX--, n.$chatline.val(window.CHATHIST[window.CHATHISTIDX])),
                                  e.preventDefault(),
                                  !1)
                                : 40 === e.keyCode
                                ? (window.CHATHISTIDX < window.CHATHIST.length - 1 && (window.CHATHISTIDX++, n.$chatline.val(window.CHATHIST[window.CHATHISTIDX])), e.preventDefault(), !1)
                                : void 0;
                        if (!window.CHATTHROTTLE) {
                            var t = n.$chatline.val().trim();
                            if ("" !== t) {
                                var r = {};
                                window.USEROPTS.adminhat && window.CLIENT.rank >= 255 ? (t = "/a " + t) : window.USEROPTS.modhat && window.CLIENT.rank >= window.Rank.Moderator && (r.modflair = window.CLIENT.rank),
                                    window.CLIENT.rank >= 2 && 0 === t.indexOf("/m ") && ((r.modflair = window.CLIENT.rank), (t = t.substring(3)));
                                var o = this.prepareMessage(t);
                                n.IS_COMMAND ? (window.socket.emit("chatMsg", { msg: t, meta: r }), window.socket.emit("chatMsg", { msg: " " + o }), (n.IS_COMMAND = !1)) : window.socket.emit("chatMsg", { msg: t, meta: r }),
                                    window.CHATHIST.push(n.$chatline.val()),
                                    (window.CHATHISTIDX = window.CHATHIST.length),
                                    n.$chatline.val("");
                            }
                        }
                    }),
                    n.$chatline.off().on("keydown", function (e) {
                        n.sendUserChatMessage(e);
                    }),
                    $("#chatbtn")
                        .off()
                        .on("click", function (e) {
                            n.sendUserChatMessage(e);
                        });
            }),
                (bumplastbtn = $('<button title="Bump last added video" id="bumplast-btn" class="btn btn-default fal fa-redo"></button>')
                    .appendTo(ploptions)
                    .on("click", function () {
                        (len = $("#queue").children().length), (uid = $("#queue .queue_entry:nth-child(" + len + ")").data("uid")), socket.emit("moveMedia", { from: uid, after: PL_CURRENT });
                    })),
                (deletelastbtn = $('<button title="Delete last added video" id="deletelast-btn" class="btn btn-default fal fa-trash-undo-alt"></button>')
                    .appendTo(ploptions)
                    .on("click", function () {
                        confirm("Are you sure to delete last item?") && ((len = $("#queue").children().length), (uid = $("#queue .queue_entry:nth-child(" + len + ")").data("uid")), socket.emit("delete", uid));
                    }));
        },
        function (e, t, n) {
            n(13),
                window.cytubeEnhanced.addModule("bbCodesHelper", function (e, t) {
                    "use strict";
                    var n,
                        r = this;
                    (t = $.extend({}, { templateButtons: ["b", "i", "sp", "code", "s"], templateButtonsAnimationSpeed: 150 }, t)),
                        0 === $("#chat-controls").length && $('<div id="chat-controls" class="">').appendTo(".chat-area-buttons"),
                        CLIENT.rank < 1 && $("#chat-controls").addClass("hidden"),
                        window.socket.on("login", function () {
                            $("#chat-controls").removeClass("hidden");
                        }),
                        0 === $("#chat-menu").length && $('<div id="chat-menu" class="">').appendTo(".chat-area-buttons"),
                        0 === $("#chat-controls-embed").length && $('<div id="chat-controls-embed" class="">').appendTo("#chatbox"),
                        CLIENT.rank < 1 && $("#chat-menu").addClass("hidden"),
                        window.socket.on("login", function () {
                            $("#chat-menu").removeClass("hidden");
                        }),
                        (this.handleMarkdownHelperBtnClick = function (e, n) {
                            e.hasClass("chatbtn-default")
                                ? (e.removeClass("chatbtn-default"), e.addClass("chatbtn-success"), n.show(), n.children().animate({ left: 0 }, t.templateButtonsAnimationSpeed))
                                : (e.removeClass("chatbtn-success"),
                                  e.addClass("chatbtn-default"),
                                  n.children().animate({ left: -n.width() }, t.templateButtonsAnimationSpeed, function () {
                                      n.hide();
                                  }));
                        }),
                        (this.$markdownHelperBtn = $('<button id="markdown-helper-btn" type="button" class="chatbtn" data-tooltip="Markdown Helper" data-tooltip-pos="up">')
                            .html('<i class="fad fa-font-case"></i>')
                            .on("click", function () {
                                r.handleMarkdownHelperBtnClick($(this), r.$markdownTemplatesWrapper), e.storage.toggle("bb-codes-opened");
                            })),
                        0 !== $("#chat-help-btn").length ? this.$markdownHelperBtn.insertBefore("#chat-help-btn") : this.$markdownHelperBtn.appendTo("#chat-controls-embed"),
                        (this.$markdownTemplatesWrapper = $('<div class="btn-group markdown-helper-templates-wrapper">').insertAfter(this.$markdownHelperBtn).hide()),
                        e.storage.get("bb-codes-opened") && this.handleMarkdownHelperBtnClick(this.$markdownHelperBtn, this.$markdownTemplatesWrapper),
                        (this.markdownTemplates = {
                            b: { text: "<b>B</b>", title: e.t("markdown[.]Bold text") },
                            i: { text: "<i>I</i>", title: e.t("markdown[.]Cursive text") },
                            sp: { text: "SP", title: e.t("markdown[.]Spoiler") },
                            code: { text: "<code>CODE</code>", title: e.t("markdown[.]Monospace") },
                            s: { text: "<s>S</s>", title: e.t("markdown[.]Strike") },
                        });
                    for (var o = 0, i = t.templateButtons.length; o < i; o++)
                        (n = t.templateButtons[o]),
                            $('<button type="button" class="btn btn-sm btn-default" title="' + this.markdownTemplates[n].title + '">')
                                .html(this.markdownTemplates[n].text)
                                .data("template", n)
                                .appendTo(this.$markdownTemplatesWrapper);
                    (this.handleMarkdown = function (e) {
                        this.markdownTemplates.hasOwnProperty(e) &&
                            $("#chatline")
                                .selection("insert", { text: "[" + e + "]", mode: "before" })
                                .selection("insert", { text: "[/" + e + "]", mode: "after" });
                    }),
                        this.$markdownTemplatesWrapper.on("click", "button", function () {
                            return r.handleMarkdown($(this).data("template")), !1;
                        });
                });
        },
        function (e, t) {
            var n, r, o, i, a;
            (n = jQuery),
                (r = window),
                (o = window.document),
                (i = function (e) {
                    var t = { text: "", start: 0, end: 0 };
                    if (!e.value) return t;
                    try {
                        if (r.getSelection) (t.start = e.selectionStart), (t.end = e.selectionEnd), (t.text = e.value.slice(t.start, t.end));
                        else if (o.selection) {
                            e.focus();
                            var n = o.selection.createRange(),
                                i = o.body.createTextRange();
                            t.text = n.text;
                            try {
                                i.moveToElementText(e), i.setEndPoint("StartToStart", n);
                            } catch (t) {
                                (i = e.createTextRange()).setEndPoint("StartToStart", n);
                            }
                            (t.start = e.value.length - i.text.length), (t.end = t.start + n.text.length);
                        }
                    } catch (e) {}
                    return t;
                }),
                (a = {
                    getPos: function (e) {
                        var t = i(e);
                        return { start: t.start, end: t.end };
                    },
                    setPos: function (e, t, n) {
                        "start" === (n = this._caretMode(n)) ? (t.end = t.start) : "end" === n && (t.start = t.end), e.focus();
                        try {
                            if (e.createTextRange) {
                                var o = e.createTextRange();
                                r.navigator.userAgent.toLowerCase().indexOf("msie") >= 0 && ((t.start = e.value.substr(0, t.start).replace(/\r/g, "").length), (t.end = e.value.substr(0, t.end).replace(/\r/g, "").length)),
                                    o.collapse(!0),
                                    o.moveStart("character", t.start),
                                    o.moveEnd("character", t.end - t.start),
                                    o.select();
                            } else e.setSelectionRange && e.setSelectionRange(t.start, t.end);
                        } catch (e) {}
                    },
                    getText: function (e) {
                        return i(e).text;
                    },
                    _caretMode: function (e) {
                        switch ((!1 === (e = e || "keep") && (e = "end"), e)) {
                            case "keep":
                            case "start":
                            case "end":
                                break;
                            default:
                                e = "keep";
                        }
                        return e;
                    },
                    replace: function (e, t, r) {
                        var o = i(e),
                            a = e.value,
                            s = n(e).scrollTop(),
                            u = { start: o.start, end: o.start + t.length };
                        (e.value = a.substr(0, o.start) + t + a.substr(o.end)), n(e).scrollTop(s), this.setPos(e, u, r);
                    },
                    insertBefore: function (e, t, r) {
                        var o = i(e),
                            a = e.value,
                            s = n(e).scrollTop(),
                            u = { start: o.start + t.length, end: o.end + t.length };
                        (e.value = a.substr(0, o.start) + t + a.substr(o.start)), n(e).scrollTop(s), this.setPos(e, u, r);
                    },
                    insertAfter: function (e, t, r) {
                        var o = i(e),
                            a = e.value,
                            s = n(e).scrollTop(),
                            u = { start: o.start, end: o.end };
                        (e.value = a.substr(0, o.end) + t + a.substr(o.end)), n(e).scrollTop(s), this.setPos(e, u, r);
                    },
                }),
                n.extend({
                    selection: function (e) {
                        var t = "text" === (e || "text").toLowerCase();
                        try {
                            if (r.getSelection) {
                                if (t) return r.getSelection().toString();
                                var i,
                                    a = r.getSelection();
                                return a.getRangeAt ? (i = a.getRangeAt(0)) : ((i = o.createRange()).setStart(a.anchorNode, a.anchorOffset), i.setEnd(a.focusNode, a.focusOffset)), n("<div></div>").append(i.cloneContents()).html();
                            }
                            if (o.selection) return t ? o.selection.createRange().text : o.selection.createRange().htmlText;
                        } catch (e) {}
                        return "";
                    },
                }),
                n.fn.extend({
                    selection: function (e, t) {
                        switch (((t = t || {}), e)) {
                            case "getPos":
                                return a.getPos(this[0]);
                            case "setPos":
                                return this.each(function () {
                                    a.setPos(this, t);
                                });
                            case "replace":
                                return this.each(function () {
                                    a.replace(this, t.text, t.caret);
                                });
                            case "insert":
                                return this.each(function () {
                                    "before" === t.mode ? a.insertBefore(this, t.text, t.caret) : a.insertAfter(this, t.text, t.caret);
                                });
                            default:
                                return a.getText(this[0]);
                        }
                        return this;
                    },
                });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("chatAvatars", function (e, t) {
                "use strict";
                var n = this,
                    r = e.Settings.getTab("general", e.t("general[.]General"), 100),
                    o = e.Settings.storage,
                    i = e.storage;
                t = $.extend({}, { avatarClass: "profileImage", smallAvatarClass: "chat-avatar_small", bigAvatarClass: "chat-avatar_big" }, t);
                var a,
                    s,
                    u = "avatars";
                (this.scheme = {
                    "avatars-mode": {
                        title: e.t("chatAvatars[.]Chat avatars"),
                        default: "big",
                        options: [
                            { value: "none", title: e.t("chatAvatars[.]Disabled") },
                            { value: "small", title: e.t("chatAvatars[.]Small") },
                            { value: "big", title: e.t("chatAvatars[.]Big") },
                        ],
                    },
                }),
                    i.setDefault(u + ".cache", []),
                    (this.cacheAvatar = function (e, t) {
                        var n = i.get(u + ".cache");
                        n.length >= 50 && (n = n.slice(0, 49)), n.unshift({ username: e, avatar: t }), i.set(u + ".cache", n);
                    }),
                    (this.getAvatarFromCache = function (e) {
                        var t = _.findLast(i.get(u + ".cache"), function (t) {
                            return t.username == e;
                        });
                        return (t = t ? t.avatar : null);
                    }),
                    (this.getAvatarFromUserlist = function (e) {
                        return window.findUserlistItem(e) && window.findUserlistItem(e).data("profile").image ? window.findUserlistItem(e).data("profile").image : null;
                    }),
                    $(document).ready(function () {
                        $('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "49px");
                    }),
                    "none" == o.get(u + ".avatars-mode") && ($('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "2px"), $(".profileImage").css("visibility", "hidden")),
                    "big" == o.get(u + ".avatars-mode") && $('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "49px"),
                    "small" == o.get(u + ".avatars-mode") && $('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "29px"),
                    window.socket.on("chatMsg", function () {
                        "big" == o.get(u + ".avatars-mode") && $('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "49px");
                    }),
                    window.socket.on("chatMsg", function () {
                        "small" == o.get(u + ".avatars-mode") && $('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "29px");
                    }),
                    window.socket.on("chatMsg", function () {
                        "none" == o.get(u + ".avatars-mode") && ($('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "2px"), $(".profileImage").css("visibility", "hidden"));
                    }),
                    setTimeout(function () {
                        "none" == o.get(u + ".avatars-mode") && ($('[class*="chat-msg"]:not(.drink):not(.consecutive)').css("margin-left", "2px"), $(".profileImage").css("visibility", "hidden"));
                    }, 5e3),
                    window.socket.once("mediaUpdate", function (e) {
                        if (CLIENT.rank >= -1) {
                            $('<li class="centered" />').prependTo(".navbar-nav");
                            var t = findUserlistItem(CLIENT.name).data().profile.image;
                            "" == t && (t = DROPBOX + "xor4ykvsgrzys3d/noavatar.png"),
                                $('<a href="/account/profile" target="_blank"/>')
                                    .html('<img id="useravatar" src="' + t + '" title="' + CLIENT.name + '" />')
                                    .appendTo(".navbar-nav");
                        }
                    }),
                    (this.applyAvatar = function (e, r, i) {
                        (r = r || e.text().replace(/^\s+|[:]?\s+$/g, "")), (i = i || n.getAvatarFromUserlist(r));
                        var a = n.getAvatarFromCache(r),
                            s = e.parent();
                        if (a || i) {
                            if ((a || n.cacheAvatar(r, i), 0 === s.find("." + t.avatarClass).length)) {
                                var c = $("<img>")
                                    .attr("src", i || a)
                                    .addClass(t.avatarClass + " " + ("big" == o.get(u + ".avatars-mode") ? t.bigAvatarClass : t.smallAvatarClass))
                                    .prependTo(s)
                                    .parent()
                                    .addClass("nametitle");
                                "big" == o.get(u + ".avatars-mode") && ($(this).css("display", "none"), c.attr("title", r)), "small" == o.get(u + ".avatars-mode") && ($(this).css("display", "none"), c.attr("title", r));
                            }
                        } else if (0 === s.find("." + t.avatarClass).length) {
                            c = $("<img>")
                                .attr("data-name", r)
                                .addClass("AvL")
                                .addClass(t.avatarClass + " " + ("big" == o.get(u + ".avatars-mode") ? t.bigAvatarClass : t.smallAvatarClass))
                                .prependTo(s)
                                .parent()
                                .addClass("nametitle");
                            "big" == o.get(u + ".avatars-mode") && ($(this).css("display", "none"), c.attr("title", r)), "small" == o.get(u + ".avatars-mode") && ($(this).css("display", "none"), c.attr("title", r));
                        }
                    });
                var c,
                    l = 100;
                for (var d in this.scheme) {
                    if (((a = this.scheme[d]), o.setDefault(u + "." + d, a.default), o.get(u + "." + d))) for (s in a.options) a.options[s].selected = o.get(u + "." + d) == a.options[s].value;
                    r.addControl("select", "horizontal", a.title, d, a.options, null, l), (l += 100);
                }
                e.Settings.onSave(function (t) {
                    for (var r in n.scheme) t.set(u + "." + r, $("#" + e.prefix + r).val());
                    t.isDirty(u + ".avatars-mode") && e.Settings.requestPageReload();
                }),
                    o.get(u + ".avatars-mode") &&
                        ((window.formatChatMessage =
                            ((c = window.formatChatMessage),
                            function (e, t) {
                                var r = c(e, t);
                                return n.applyAvatar(r.find(".username"), e.username), r;
                            })),
                        $(".username").each(function () {
                            n.applyAvatar($(this));
                        }),
                        window.socket.on("addUser", function (e) {
                            e.profile &&
                                e.profile.image &&
                                e.name &&
                                $('.username:contains("' + e.name + ':")').each(function () {
                                    n.applyAvatar($(this), e.name, e.profile.image);
                                });
                        }));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("chatCommandsHelp", function (e, t) {
                "use strict";
                var n = this,
                    r = { commands: { "/me": e.t("chatCommands[.]%username% action (e.g: <i>/me is dancing</i>)"), "/sp": e.t("chatCommands[.]spoiler"), "/afk": e.t("chatCommands[.]sets your status to AFK") } };
                (t = $.extend({}, r, t)),
                    0 === $("#chat-controls").length && $('<div id="chat-controls" class="">').appendTo(".chat-area-buttons"),
                    (this.commands = {}),
                    (this.commands[e.t("Standard commands")] = t.commands),
                    e.isModulePermitted("additionalChatCommands") &&
                        e.getModule("additionalChatCommands").done(function (t) {
                            var r = {};
                            for (var o in t.commandsList) t.commandsList.hasOwnProperty(o) && t.isCommandPermitted(o) && (!t.commandsList[o].isAvailable || t.commandsList[o].isAvailable()) && (r[o] = t.commandsList[o].description || "");
                            n.commands[e.t("Extra commands")] = r;
                        }),
                    (this.handleChatHelpBtn = function (t) {
                        var n = $('<h3 class="modal-title">').text(e.t("The list of chat commands")),
                            r = $("<div>");
                        for (var o in t)
                            if (t.hasOwnProperty(o)) {
                                $("<h3>").html(o).appendTo(r);
                                var i = $("<ul>");
                                for (var a in t[o])
                                    t[o].hasOwnProperty(a) &&
                                        $("<li>")
                                            .html("<code>" + a + "</code> - " + t[o][a] + ".")
                                            .appendTo(i);
                                i.appendTo(r);
                            }
                        e.UI.createModalWindow("chat-commands-help", n, r);
                    }),
                    (this.$chatHelpBtn = $('<button id="chat-help-btn" data-tooltip="Help" data-tooltip-pos="up" class="chatbtn" >')
                        .html('<i class="fad fa-question-circle"></i>')
                        .appendTo("#chat-controls-embed")
                        .on("click", function () {
                            n.handleChatHelpBtn(n.commands);
                        }));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("chatControls", function (e, t) {
                "use strict";
                var n = this;
                (t = $.extend({}, { afkButton: !0, clearChatButton: !1 }, t)),
                    (this.handleAfkBtn = function () {
                        window.socket.emit("chatMsg", { msg: "/afk" });
                    }),
                    (this.$afkBtn = $('<span id="afk-btn" class="label label-default pull-right pointer">')
                        .text(e.t("AFK"))
                        .appendTo("#chat-menu")
                        .on("click", function () {
                            n.handleAfkBtn();
                        })),
                    (this.handleAfk = function (e) {
                        e.name === window.CLIENT.name && (e.afk ? (n.$afkBtn.removeClass("label-default"), n.$afkBtn.addClass("label-success")) : (n.$afkBtn.addClass("label-default"), n.$afkBtn.removeClass("label-success")));
                    }),
                    t.afkButton
                        ? window.socket.on("setAFK", function (e) {
                              n.handleAfk(e);
                          })
                        : this.$afkBtn.hide(),
                    (this.handleClearBtn = function () {
                        window.confirm(e.t("Are you sure, that you want to clear the chat?")) && window.socket.emit("chatMsg", { msg: "/clear" });
                    }),
                    (this.$clearChatBtn = $('<span id="clear-chat-btn" class="label label-default pull-right pointer">')
                        .text(e.t("Clear"))
                        .insertAfter(this.$afkBtn)
                        .on("click", function () {
                            n.handleClearBtn();
                        })),
                    window.hasPermission("chatclear") || this.$clearChatBtn.hide(),
                    (this.handleChatClear = function () {
                        window.hasPermission("chatclear") && t.clearChatButton ? n.$clearChatBtn.show() : n.$clearChatBtn.hide();
                    }),
                    window.socket.on("setUserRank", function () {
                        n.handleChatClear();
                    });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("chatHistory", function (e, t) {
                "use strict";
                var n = this;
                (t = $.extend({}, { itemsInHistory: 50 }, t)),
                    e.storage.setDefault("pmHistory", []),
                    window.socket.on("chatMsg", function (n) {
                        if (window.CLIENT.name && -1 != n.msg.toLowerCase().indexOf(window.CLIENT.name.toLowerCase())) {
                            var r = e.storage.get("pmHistory");
                            $.isArray(r) || (r = []), r.length >= t.itemsInHistory && (r = r.slice(0, t.itemsInHistory - 1)), r.unshift({ username: n.username, msg: n.msg, time: n.time }), e.storage.set("pmHistory", r);
                        }
                    }),
                    (this.formatHistoryMessage = function (e) {
                        var t = $('<div class="pm-history-message">'),
                            n = new Date(e.time),
                            r = n.getDate();
                        r = r < 10 ? "0" + r : r;
                        var o = n.getMonth();
                        o = o < 10 ? "0" + o : o;
                        var i = n.getFullYear(),
                            a = n.getHours();
                        a = a < 10 ? "0" + a : a;
                        var s = n.getMinutes();
                        s = s < 10 ? "0" + s : s;
                        var u = n.getSeconds(),
                            c = r + "." + o + "." + i + " " + a + ":" + s + ":" + (u = u < 10 ? "0" + u : u);
                        return (
                            t.append($('<div class="pm-history-message-time">[' + c + "]</div>")),
                            t.append($('<div class="pm-history-message-username">' + e.username + "</div>")),
                            t.append($('<div class="pm-history-message-content">' + e.msg + "</div>")),
                            t
                        );
                    }),
                    (this.showChatHistory = function () {
                        var t = e.storage.get("pmHistory");
                        $.isArray(t) || (t = []);
                        var r = $('<div class="modal-header__inner">');
                        r.append($('<h3 class="modal-title">').text(e.t("pmHistory[.]Chat history"))), r.append($('<div class="modat-header__description">').text(e.t("pmHistory[.]Your chat messages history.")));
                        for (var o = $('<div class="pm-history-content">'), i = 0, a = t.length; i < a; i++) o.append(n.formatHistoryMessage(t[i]));
                        var s = $('<button type="button" id="pm-history-reset-btn" class="btn btn-danger" data-dismiss="modal">' + e.t("pmHistory[.]Reset history") + "</button>").on("click", function () {
                                window.confirm(e.t("pmHistory[.]Are you sure, that you want to clear messages history?")) && n.resetChatHistory();
                            }),
                            u = $('<button type="button" id="pm-history-exit-btn" class="btn btn-default" data-dismiss="modal">' + e.t("pmHistory[.]Exit") + "</button>"),
                            c = $('<div class="pm-history-footer">');
                        return c.append(s), c.append(u), e.UI.createModalWindow("chat-history", r, o, c);
                    }),
                    (this.$showChatHistoryBtn = $('<span id="pm-history-btn" class="label label-default pull-right pointer">')
                        .text(e.t("pmHistory[.]History"))
                        .appendTo("#chat-menu")
                        .on("click", function () {
                            n.showChatHistory();
                        })),
                    (this.resetChatHistory = function () {
                        e.storage.set("pmHistory", e.storage.getDefault("pmHistory"));
                    });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("common", function (e, t) {
                "use strict";
                var n,
                    r = this;
                (t = $.extend({}, { insertUsernameOnClick: !0 }, t)),
                    (this.$chatline = $("#chatline")),
                    (this.$userlist = $("#userlist")),
                    (window.chatTabComplete = function () {
                        var e,
                            t = r.$chatline.val().split(" "),
                            n = t[t.length - 1].toLowerCase();
                        if (n.match(/^[\w---]{1,20}$/)) {
                            var o = Array.prototype.slice,
                                i = o.call(r.$userlist.find(".userlist_item")).map(function (e) {
                                    return e.children[1].innerHTML;
                                }),
                                a = o
                                    .call(i)
                                    .map(function (e) {
                                        return e.toLowerCase();
                                    })
                                    .filter(function (e) {
                                        return 0 === e.indexOf(n);
                                    });
                            if (0 !== a.length) {
                                var s = Math.min.apply(
                                    Math,
                                    a.map(function (e) {
                                        return e.length;
                                    })
                                );
                                a = a.map(function (e) {
                                    return e.substring(0, s);
                                });
                                for (var u = !0, c = 21; u; ) {
                                    u = !1;
                                    var l = a[0];
                                    for (e = 1; e < a.length; e++)
                                        if (a[e] !== l) {
                                            u = !0;
                                            break;
                                        }
                                    if (
                                        (u &&
                                            (a = a.map(function (e) {
                                                return e.substring(0, e.length - 1);
                                            })),
                                        --c < 0)
                                    )
                                        break;
                                }
                                for (n = a[0].substring(0, s), e = 0; e < i.length; e++)
                                    if (i[e].toLowerCase() === n) {
                                        n = i[e];
                                        break;
                                    }
                                1 === a.length && (1 === t.length && (n += ":"), (n += " ")), (t[t.length - 1] = n), r.$chatline.val(t.join(" "));
                            }
                        }
                    }),
                    t.insertUsernameOnClick &&
                        $("#messagebuffer")
                            .on("click", ".username", function () {
                                e.Helpers.addMessageToChatInput($(this).text().replace(": ", " "), "begin");
                            })
                            .on("click", ".profileImage", function () {
                                e.Helpers.addMessageToChatInput($(this).parent().find(".username").text().replace(": ", " "), "begin");
                            }),
                    $("#wrap").children(".navbar-fixed-top").removeClass("navbar-fixed-top"),
                    $("#footer").children(".container").append('<p class="text-muted credit">CyTube Enhanced Merged(<a href="https://github.com/kaba99/cytube-enhanced" target="_blank">GitHub</a>)</p>'),
                    setTimeout(function () {
                        window.handleWindowResize();
                    }, 3e3),
                    setTimeout(function () {
                        window.handleWindowResize();
                    }, 1e4),
                    (window.addUserDropdown =
                        ((n = window.addUserDropdown),
                        function (e) {
                            var t = n(e);
                            return (
                                e.find(".user-dropdown>strong").click(function () {
                                    r.$chatline.val($(this).text() + ": " + r.$chatline.val());
                                }),
                                t
                            );
                        })),
                    $(".user-dropdown>strong").click(function () {
                        r.$chatline.val($(this).text() + ": " + r.$chatline.val()).focus();
                    }),
                    $("#queue").sortable("option", "axis", "y");
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("customCss", function (e, t) {
                "use strict";
                var n = this;
                t = $.extend({}, { aceUrl: "https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ace.js" }, t);
                var r = e.Settings.getTab("custom-css", "CSS", 200),
                    o = e.parseJSON(window.getOrDefault(window.CHANNEL.name + "_config-layout", void 0), {});
                e.Settings.storage.setDefault("user-code.css", _.isPlainObject(o) && _.isString(o["user-css"]) ? o["user-css"] : "");
                var i,
                    a = $('<textarea class="' + e.prefix + 'custom-editor-textarea"></textarea>')
                        .val(e.Settings.storage.get("user-code.css"))
                        .appendTo(r.$content),
                    s = $('<div class="' + e.prefix + 'custom-editor-ace" id="' + e.prefix + 'css-editor"></div>').text(e.Settings.storage.get("user-code.css"));
                r.onShow(function () {
                    void 0 === i &&
                        (void 0 === window.ace
                            ? (e.Settings.aceIsLoading ||
                                  e.Settings.aceLoadingFailed ||
                                  ((e.Settings.aceIsLoading = !0),
                                  $.ajax({ url: t.aceUrl, dataType: "script", timeout: 2e4 })
                                      .done(function () {
                                          n.initializeAceEditor();
                                      })
                                      .always(function () {
                                          (e.Settings.aceIsLoading = !1), (e.Settings.aceLoadingFailed = !0), r.$content.toggleLoader("off");
                                      })),
                              e.Settings.aceIsLoading && !e.Settings.aceLoadingFailed && r.$content.toggleLoader("on"))
                            : n.initializeAceEditor());
                }),
                    (this.applyUserCss = function (t) {
                        $("#" + e.prefix + "user-css").remove(), $("head").append('<style id="' + e.prefix + 'user-css" type="text/css">' + t + "</style>");
                    }),
                    (this.initializeAceEditor = function () {
                        s.text(a.val()),
                            a.replaceWith(s),
                            (i = window.ace.edit(e.prefix + "css-editor")).setTheme("ace/theme/tomorrow_night"),
                            i.getSession().setMode("ace/mode/css"),
                            i.getSession().setTabSize(4),
                            i.getSession().setUseSoftTabs(!0),
                            i.getSession().setUseWrapMode(!0),
                            i.getSession().setWrapLimitRange(),
                            i.setOptions({ minLines: 30, maxLines: 30, autoScrollEditorIntoView: !0, highlightActiveLine: !0 });
                    }),
                    e.Settings.onSave(function (e) {
                        i ? e.set("user-code.css", i.getValue()) : e.set("user-code.css", a.val()), n.applyUserCss(e.get("user-code.css"));
                    }),
                    this.applyUserCss(e.Settings.storage.get("user-code.css"));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("customJs", function (e, t) {
                "use strict";
                var n = this;
                t = $.extend({}, { aceUrl: "https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ace.js" }, t);
                var r = e.Settings.getTab("custom-js", "JS", 300);
                e.Settings.storage.setDefault("user-code.js", "");
                var o,
                    i = $('<textarea class="' + e.prefix + 'custom-editor-textarea"></textarea>')
                        .val(e.Settings.storage.get("user-code.js"))
                        .appendTo(r.$content),
                    a = $('<div class="' + e.prefix + 'custom-editor-ace" id="' + e.prefix + 'js-editor"></div>').text(e.Settings.storage.get("user-code.js"));
                r.onShow(function () {
                    void 0 === o &&
                        (void 0 === window.ace
                            ? (e.Settings.aceIsLoading ||
                                  e.Settings.aceLoadingFailed ||
                                  ((e.Settings.aceIsLoading = !0),
                                  $.ajax({ url: t.aceUrl, dataType: "script", timeout: 2e4 })
                                      .done(function () {
                                          n.initializeAceEditor();
                                      })
                                      .always(function () {
                                          (e.Settings.aceIsLoading = !1), (e.Settings.aceLoadingFailed = !0), r.$content.toggleLoader("off");
                                      })),
                              e.Settings.aceIsLoading && !e.Settings.aceLoadingFailed && r.$content.toggleLoader("on"))
                            : n.initializeAceEditor());
                }),
                    (this.applyUserJs = function (t) {
                        $("#" + e.prefix + "user-js").remove(), $("body").append('<script id="' + e.prefix + 'user-js" type="text/javascript">' + t + "</script>");
                    }),
                    (this.initializeAceEditor = function () {
                        a.text(i.val()),
                            i.replaceWith(a),
                            (o = window.ace.edit(e.prefix + "js-editor")).setTheme("ace/theme/tomorrow_night"),
                            o.getSession().setMode("ace/mode/javascript"),
                            o.getSession().setTabSize(4),
                            o.getSession().setUseSoftTabs(!0),
                            o.getSession().setUseWrapMode(!0),
                            o.getSession().setWrapLimitRange(),
                            o.setOptions({ minLines: 30, maxLines: 30, autoScrollEditorIntoView: !0, highlightActiveLine: !0 });
                    }),
                    e.Settings.onSave(function (e) {
                        o ? e.set("user-code.js", o.getValue()) : e.set("user-code.js", i.val()), n.applyUserJs(e.get("user-code.js"));
                    }),
                    this.applyUserJs(e.Settings.storage.get("user-code.js"));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("extras", function (e, t) {
                "use strict";
                var n = this;
                t = $.extend({}, { enabledModules: ["anime-quotes", "pirate-quotes"] }, t);
                var r = e.Settings.getTab("extras", e.t("extras[.]Extras"), 400),
                    o = $('<div class="row">')
                        .appendTo(r.$content)
                        .wrap('<div class="' + e.prefix + 'extras">'),
                    i = e.Settings.storage,
                    a = $('<div class="' + e.prefix + 'extras__info-message">')
                        .text("No third party modules.")
                        .prependTo(r.$content),
                    s = "extras";
                i.setDefault(s + ".enabled", t.enabledModules),
                    (this.enabledModules = i.get(s + ".enabled") || []),
                    (this.extraModules = {}),
                    (this.add = function (t) {
                        a.text(e.t("extras[.]Extras for additional functionality")),
                            (n.extraModules[t.name] = t),
                            (n.extraModules[t.name].$el = n.addMarkup(t).appendTo(o)),
                            n.sort(),
                            -1 != n.enabledModules.indexOf(t.name) && $.getScript(n.extraModules[t.name].url + "?ac=" + Date.now());
                    }),
                    (this.enable = function (e) {
                        return n.enabledModules.push(e);
                    }),
                    (this.disable = function (e) {
                        var t = n.enabledModules.indexOf(e);
                        return -1 !== t && n.enabledModules.splice(t, 1);
                    }),
                    (this.addMarkup = function (t) {
                        var r = $('<div class="' + e.prefix + 'extras__item">');
                        r.data("name", t.name), (t.authorUrl = _.trim(t.authorUrl));
                        t.authorUrl
                            ? $('<a class="' + e.prefix + "extras__item__title " + e.prefix + 'extras__item__title_link" target="_blank">')
                                  .attr("href", t.authorUrl)
                                  .text(t.title)
                                  .appendTo(r)
                            : $('<div class="' + e.prefix + "extras__item__title " + e.prefix + 'extras__item__title_text">')
                                  .text(t.title)
                                  .appendTo(r),
                            $('<div class="' + e.prefix + 'extras__item__description">')
                                .text(t.description || " ")
                                .appendTo(r);
                        var o = $('<div class="' + e.prefix + 'extras__item__button btn btn-xs">')
                            .appendTo(r)
                            .data("enabled", -1 != n.enabledModules.indexOf(t.name))
                            .on("click", function () {
                                $(this).data("enabled")
                                    ? ($(this).data("enabled", !1), n.disable(t.name), $(this).removeClass("btn-danger").addClass("btn-success").text("Enable"))
                                    : ($(this).data("enabled", !0), n.enable(t.name), $(this).removeClass("btn-success").addClass("btn-danger").text("Disable"));
                            });
                        return -1 != n.enabledModules.indexOf(t.name) ? o.addClass("btn-danger").text("Disable") : o.addClass("btn-success").text("Enable"), (r = $('<div class="col-md-6">').append(r));
                    }),
                    (this.sort = function () {
                        var e = [];
                        for (var t in n.extraModules) e.push(n.extraModules[t]);
                        for (
                            var r = 0,
                                i = (e = e.sort(function (e, t) {
                                    var r = +(-1 != n.enabledModules.indexOf(e.name)),
                                        o = +(-1 != n.enabledModules.indexOf(t.name));
                                    return r < o ? 1 : r > o ? -1 : e.title.toLowerCase() > t.title.toLowerCase() ? 1 : e.title.toLowerCase() < t.title.toLowerCase() ? -1 : 0;
                                })).length;
                            r < i;
                            r++
                        )
                            e[r].$el.detach().appendTo(o);
                    }),
                    e.Settings.onSave(function (t) {
                        t.set(s + ".enabled", n.enabledModules), t.isDirty(s + ".enabled") && e.Settings.requestPageReload();
                    });
            });
        },
        function (e, t, n) {},
        function (e, t) {
            var n;
            (n = function (e) {
                var t,
                    n,
                    r = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
                    o = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
                    i = Array.prototype.slice;
                if (e.event.fixHooks) for (var a = r.length; a; ) e.event.fixHooks[r[--a]] = e.event.mouseHooks;
                var s = (e.event.special.mousewheel = {
                    version: "3.1.12",
                    setup: function () {
                        if (this.addEventListener) for (var t = o.length; t; ) this.addEventListener(o[--t], u, !1);
                        else this.onmousewheel = u;
                        e.data(this, "mousewheel-line-height", s.getLineHeight(this)), e.data(this, "mousewheel-page-height", s.getPageHeight(this));
                    },
                    teardown: function () {
                        if (this.removeEventListener) for (var t = o.length; t; ) this.removeEventListener(o[--t], u, !1);
                        else this.onmousewheel = null;
                        e.removeData(this, "mousewheel-line-height"), e.removeData(this, "mousewheel-page-height");
                    },
                    getLineHeight: function (t) {
                        var n = e(t),
                            r = n["offsetParent" in e.fn ? "offsetParent" : "parent"]();
                        return r.length || (r = e("body")), parseInt(r.css("fontSize"), 10) || parseInt(n.css("fontSize"), 10) || 16;
                    },
                    getPageHeight: function (t) {
                        return e(t).height();
                    },
                    settings: { adjustOldDeltas: !0, normalizeOffset: !0 },
                });
                function u(r) {
                    var o,
                        a = r || window.event,
                        u = i.call(arguments, 1),
                        d = 0,
                        f = 0,
                        p = 0,
                        m = 0,
                        h = 0;
                    if (
                        (((r = e.event.fix(a)).type = "mousewheel"),
                        "detail" in a && (p = -1 * a.detail),
                        "wheelDelta" in a && (p = a.wheelDelta),
                        "wheelDeltaY" in a && (p = a.wheelDeltaY),
                        "wheelDeltaX" in a && (f = -1 * a.wheelDeltaX),
                        "axis" in a && a.axis === a.HORIZONTAL_AXIS && ((f = -1 * p), (p = 0)),
                        (d = 0 === p ? f : p),
                        "deltaY" in a && (d = p = -1 * a.deltaY),
                        "deltaX" in a && ((f = a.deltaX), 0 === p && (d = -1 * f)),
                        0 !== p || 0 !== f)
                    ) {
                        if (1 === a.deltaMode) {
                            var g = e.data(this, "mousewheel-line-height");
                            (d *= g), (p *= g), (f *= g);
                        } else if (2 === a.deltaMode) {
                            var v = e.data(this, "mousewheel-page-height");
                            (d *= v), (p *= v), (f *= v);
                        }
                        if (
                            ((o = Math.max(Math.abs(p), Math.abs(f))),
                            (!n || o < n) && ((n = o), l(a, o) && (n /= 40)),
                            l(a, o) && ((d /= 40), (f /= 40), (p /= 40)),
                            (d = Math[d >= 1 ? "floor" : "ceil"](d / n)),
                            (f = Math[f >= 1 ? "floor" : "ceil"](f / n)),
                            (p = Math[p >= 1 ? "floor" : "ceil"](p / n)),
                            s.settings.normalizeOffset && this.getBoundingClientRect)
                        ) {
                            var b = this.getBoundingClientRect();
                            (m = r.clientX - b.left), (h = r.clientY - b.top);
                        }
                        return (
                            (r.deltaX = f),
                            (r.deltaY = p),
                            (r.deltaFactor = n),
                            (r.offsetX = m),
                            (r.offsetY = h),
                            (r.deltaMode = 0),
                            u.unshift(r, d, f, p),
                            t && clearTimeout(t),
                            (t = setTimeout(c, 200)),
                            (e.event.dispatch || e.event.handle).apply(this, u)
                        );
                    }
                }
                function c() {
                    n = null;
                }
                function l(e, t) {
                    return s.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0;
                }
                e.fn.extend({
                    mousewheel: function (e) {
                        return e ? this.bind("mousewheel", e) : this.trigger("mousewheel");
                    },
                    unmousewheel: function (e) {
                        return this.unbind("mousewheel", e);
                    },
                });
            }),
                "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof t ? (e.exports = n) : n(jQuery);
        },
        function (e, t) {
            !(function (e) {
                if (((e.support.touch = "ontouchend" in document), e.support.touch)) {
                    var t,
                        n = e.ui.mouse.prototype,
                        r = n._mouseInit,
                        o = n._mouseDestroy;
                    (n._touchStart = function (e) {
                        !t && this._mouseCapture(e.originalEvent.changedTouches[0]) && ((t = !0), (this._touchMoved = !1), i(e, "mouseover"), i(e, "mousemove"), i(e, "mousedown"));
                    }),
                        (n._touchMove = function (e) {
                            t && ((this._touchMoved = !0), i(e, "mousemove"));
                        }),
                        (n._touchEnd = function (e) {
                            t && (i(e, "mouseup"), i(e, "mouseout"), this._touchMoved || i(e, "click"), (t = !1));
                        }),
                        (n._mouseInit = function () {
                            this.element.bind({ touchstart: e.proxy(this, "_touchStart"), touchmove: e.proxy(this, "_touchMove"), touchend: e.proxy(this, "_touchEnd") }), r.call(this);
                        }),
                        (n._mouseDestroy = function () {
                            this.element.unbind({ touchstart: e.proxy(this, "_touchStart"), touchmove: e.proxy(this, "_touchMove"), touchend: e.proxy(this, "_touchEnd") }), o.call(this);
                        });
                }
                function i(e, t) {
                    if (!(e.originalEvent.touches.length > 1)) {
                        e.preventDefault();
                        var n = e.originalEvent.changedTouches[0],
                            r = document.createEvent("MouseEvents");
                        r.initMouseEvent(t, !0, !0, window, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), e.target.dispatchEvent(r);
                    }
                }
            })(jQuery);
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("languageSwitcher", function (e) {
                "use strict";
                var t = e.Settings.getTab("general", e.t("general[.]General"), 100),
                    n = ["en"];
                for (var r in e.translations) n.push(r);
                var o = [];
                for (var i in n) o.push({ value: n[i], title: e.t(n[i]), selected: n[i] == e.storage.get("language") });
                t.addControl("select", "horizontal", e.t("general[.]Interface language"), "language", o, null, 2e4),
                    e.Settings.onSave(function (t) {
                        e.storage.set("language", $("#" + e.prefix + "language").val()), e.storage.isDirty("language") && e.Settings.requestPageReload();
                    });
            });
        },
        function (e, t, n) {
            n(1),
                window.cytubeEnhanced.addModule("navMenuTabs", function (e) {
                    "use strict";
                    var t = this;
                    (this.addTabInput = function (t, n, r) {
                        (n = n || ""), (r = r || "");
                        var o = $('<div class="row tab-option-wrapper">').appendTo(t),
                            i = $('<div class="col-sm-4 col-md-3">').appendTo(o),
                            a = $('<div class="form-group">').appendTo(i);
                        $('<input name="title" type="text" class="form-control" placeholder="' + e.t("tabs[.]Title") + '">')
                            .val(n)
                            .appendTo(a);
                        var s = $('<div class="col-sm-8 col-md-9">').appendTo(o),
                            u = $('<div class="form-group">').appendTo(s);
                        $('<input name="content" type="text" class="form-control" placeholder="' + e.t("tabs[.]Content") + '">')
                            .val(r)
                            .appendTo(u);
                    }),
                        (this.tabsConfigToHtml = function (e, t) {
                            var n = $("<div>");
                            if ((void 0 !== e && "" !== e && $('<div id="motd-channel-description">').html(e).appendTo(n), 0 !== t.length))
                                for (var r = $('<div id="motd-tabs-wrapper">').appendTo(n), o = $('<div id="motd-tabs">').appendTo(r), i = $('<div id="motd-tabs-content">').appendTo(r), a = 0, s = t.length; a < s; a++)
                                    if (0 === t[a][0].indexOf("!dropdown!")) {
                                        var u = $('<div class="btn-group">');
                                        $('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">')
                                            .html(t[a][0].replace("!dropdown!", "") + ' <span class="caret"></span>')
                                            .appendTo(u);
                                        for (var c = $('<ul class="dropdown-menu">').appendTo(u), l = t[a][1], d = 0, f = t[a][1].length; d < f; d++) {
                                            var p = $("<a>").attr({ href: l[d][1], target: "_blank" }).text(l[d][0]);
                                            $("<li>").html(p).appendTo(c);
                                        }
                                        u.appendTo(o);
                                    } else
                                        0 === t[a][0].indexOf("!link!")
                                            ? $('<a href="' + t[a][1] + '" target="_blank" class="btn btn-default btn-link">')
                                                  .html(t[a][0].replace("!link!", ""))
                                                  .appendTo(o)
                                            : ($('<button class=" motd-tab-btn" data-tab-index="' + a + '">')
                                                  .html(t[a][0])
                                                  .appendTo(o),
                                              $('<div class="motd-tab-content" data-tab-index="' + a + '">')
                                                  .hide()
                                                  .html(t[a][1])
                                                  .appendTo(i));
                            return n.html();
                        }),
                        (this.tabsHtmlToCondig = function (e) {
                            this.$tabsArea.empty();
                            var n = $("<div>").html(e),
                                r = n.find("#motd-tabs").children(),
                                o = n.find("#motd-tabs-content");
                            $("#channel-description-input").val(n.find("#motd-channel-description").html()),
                                r.each(function () {
                                    if ($(this).hasClass("btn-group")) {
                                        var e = "";
                                        $(this)
                                            .children("ul")
                                            .children()
                                            .each(function () {
                                                var t = $(this).children("a");
                                                e += "[n]" + t.text() + "[/n][a]" + t.attr("href") + "[/a], ";
                                            }),
                                            (e = e.slice(0, -2)),
                                            t.addTabInput(t.$tabsArea, "!dropdown!" + $(this).children("button").html().replace(' <span class="caret"></span>', ""), e);
                                    } else $(this).hasClass("btn-link") ? t.addTabInput(t.$tabsArea, "!link!" + $(this).html(), $(this).attr("href")) : t.addTabInput(t.$tabsArea, $(this).html(), o.find('[data-tab-index="' + $(this).data("tabIndex") + '"]').html());
                                });
                        }),
                        (this.motdCutMap = { "<iframe $1>$2</iframe>": /\[iframe(.*?)\](.*?)[/iframe]]/g }),
                        (this.fixMotdCut = function () {
                            $("#motd-tabs-content")
                                .find(".motd-tab-content")
                                .each(function () {
                                    for (var e in t.motdCutMap) t.motdCutMap.hasOwnProperty(e) && $(this).html($(this).html().replace(t.motdCutMap[e], e));
                                });
                        }),
                        (this.$tabsSettings = $('<div id="tabs-settings">')
                            .html(
                                "<hr><h3>" +
                                    e.t("tabs[.]Tabs settings") +
                                    "</h3><ul><li>" +
                                    e.t("tabs[.]By default tab behaves like simple tab.") +
                                    "</li><li>" +
                                    e.t(
                                        'tabs[.]Use !dropdown! prefix to create dropdown list. Example: !dropdown!My dropdown. Value must look like "[n]Link title 1[/n][a]URL 1[/a], [n]Link title 2[/n][a]URL 2[/a], [n]Link title 3[/n][a]URL 3[/a]"'
                                    ) +
                                    "</li><li>" +
                                    e.t("tabs[.]Use !link! prefix to create link. Example: !link!My link. Value must contain URL.") +
                                    "</li></ul>"
                            )
                            .insertBefore("#cs-motdtext")
                            .hide()),
                        (this.$channelDescriptionInputWrapper = $('<div class="form-group">').appendTo(this.$tabsSettings)),
                        (this.$channelDescriptionLabel = $('<label for="channel-description-input">' + e.t("tabs[.]Channel description") + "</label>").appendTo(this.$channelDescriptionInputWrapper)),
                        (this.$channelDescriptionInput = $('<input id="channel-description-input" placeholder="' + e.t("tabs[.]Channel description") + '" class="form-control">').appendTo(this.$channelDescriptionInputWrapper)),
                        (this.$tabsArea = $('<div id="tabs-settings-area">').appendTo(this.$tabsSettings)),
                        $("<p>Tabs</p>").insertBefore(this.$tabsArea),
                        (this.$addTabToTabsSettingsBtn = $('<button type="button" class="btn btn-sm btn-primary" id="tabs-settings-add">')
                            .text(e.t("tabs[.]Add tab"))
                            .appendTo(this.$tabsSettings)
                            .on("click", function () {
                                t.addTabInput(t.$tabsArea);
                            })),
                        (this.$removeLastTabFromTabsSettingsBtn = $('<button type="button" class="btn btn-sm btn-primary" id="tabs-settings-remove">')
                            .text(e.t("tabs[.]Remove the last tab"))
                            .appendTo(this.$tabsSettings)
                            .on("click", function () {
                                t.$tabsArea.children(".tab-option-wrapper").last().remove();
                            })),
                        (this.$tabsToHtml = $('<button type="button" class="btn btn-sm btn-primary" id="tabs-settings-to-html">')
                            .text(e.t("tabs[.]Convert to the editor's code"))
                            .appendTo(this.$tabsSettings)
                            .on("click", function () {
                                if (window.confirm(e.t("tabs[.]The code in the editor will be replaced with the new code, continue?"))) {
                                    $(this).removeClass("btn-success");
                                    var n = [];
                                    t.$tabsArea.find(".tab-option-wrapper").each(function () {
                                        var t = $(this).find('input[name="title"]').val().trim(),
                                            r = $(this).find('input[name="content"]').val().trim();
                                        if (0 === t.indexOf("!dropdown!")) {
                                            if (!/^(?:\[n\](.+?)\[\/n\]\[a\](.+?)\[\/a\][ ]*,[ ]*)*\[n\](.+?)\[\/n\]\[a\](.+?)\[\/a\]$/.test(r))
                                                return void window.alert(e.t("tabs[.]Wrong content for the dropdown") + t.replace("!dropdown!", "") + ".");
                                            r = r.split(",").map(function (e) {
                                                return [(e = e.trim().match(/^\[n\](.+?)\[\/n\]\[a\](.+?)\[\/a\]$/))[1].trim(), e[2].trim()];
                                            });
                                        } else t.indexOf("!link!");
                                        n.push([t, r]);
                                    }),
                                        $("#cs-motdtext").val(t.tabsConfigToHtml(t.$channelDescriptionInput.val(), n));
                                }
                            })),
                        (this.$htmlToTabs = $('<button type="button" class="btn btn-sm btn-primary" id="tabs-settings-from-html">')
                            .text(e.t("tabs[.]Convert from the editor's code"))
                            .appendTo(this.$tabsSettings)
                            .on("click", function () {
                                window.confirm(e.t("tabs[.]Tabs settings will be replaced with the code from the editor, continue?")) && ($(this).removeClass("motdselected"), t.tabsHtmlToCondig($("#cs-motdtext").val()));
                            })),
                        (this.showMotdTab = function (e) {
                            var t = $("#motd-tabs-content").find('[data-tab-index="' + e.data("tabIndex") + '"]');
                            e.hasClass("motdbutton")
                                ? ($(".motd-tab-content").hide(), t.show(), $(".motd-tab-btn").removeClass("motdselected").addClass("motdbutton"), e.removeClass("motdbutton"), e.addClass("motdselected"))
                                : (t.hide(), e.removeClass("motdselected"), e.addClass("motdbutton"));
                        }),
                        $(document.body).on("click", "#motd-tabs .motd-tab-btn", function () {
                            t.showMotdTab($(this));
                        }),
                        (this.motdHandleDropdown = function () {
                            $(".motd-tab-btn").removeClass("btn-success").addClass("motdbutton"), $(".motd-tab-content").hide();
                        }),
                        $(document.body).on("click", "#motd-tabs .dropdown-toggle", function () {
                            t.motdHandleDropdown();
                        }),
                        this.tabsHtmlToCondig($("#cs-motdtext").val()),
                        this.fixMotdCut(),
                        window.socket.on("setMotd", function () {
                            t.fixMotdCut();
                        }),
                        $(document).on("change keypress", "#tabs-settings-area input, #tabs-settings-area textarea", function () {
                            t.$tabsToHtml.addClass("btn-success");
                        }),
                        $(document).on("change keypress", "#cs-motdtext", function () {
                            t.$htmlToTabs.addClass("btn-success");
                        }),
                        (function (e, t) {
                            function n(e, t, n) {
                                var r = e + ":",
                                    o = document.createElement("test").style;
                                return (o.cssText = n ? r + t : r + ["-webkit-", "-moz-", "-ms-", "-o-", ""].join(t + ";" + r) + t + ";"), -1 !== o[e].indexOf(t);
                            }
                            function r(e) {
                                return parseInt(e, 10) || 0;
                            }
                            var o = 0,
                                i = {
                                    classes: { plugin: "fixedsticky", active: "fixedsticky-on", inactive: "fixedsticky-off", clone: "fixedsticky-dummy", withoutFixedFixed: "fixedsticky-withoutfixedfixed" },
                                    keys: { offset: "fixedStickyOffset", position: "fixedStickyPosition", id: "fixedStickyId" },
                                    tests: { sticky: n("position", "sticky"), fixed: n("position", "fixed", !0) },
                                    getScrollTop: function () {
                                        var t = "pageYOffset",
                                            n = "scrollTop";
                                        return e ? (t in e ? e[t] : e.document.documentElement[n]) : e.document.body[n];
                                    },
                                    bypass: function () {
                                        return (i.tests.sticky && !i.optOut) || !i.tests.fixed || (e.FixedFixed && !t(e.document.documentElement).hasClass("fixed-supported"));
                                    },
                                    update: function (e) {
                                        if (e.offsetWidth) {
                                            var n,
                                                o,
                                                a,
                                                s,
                                                u = t(e),
                                                c = u.outerHeight(),
                                                l = u.data(i.keys.offset),
                                                d = i.getScrollTop(),
                                                f = u.is("." + i.classes.active),
                                                p = function (e) {
                                                    u[e ? "addClass" : "removeClass"](i.classes.active)[e ? "removeClass" : "addClass"](i.classes.inactive);
                                                },
                                                m = t(window).height(),
                                                h = u.data(i.keys.position),
                                                g = u.parent(),
                                                v = g.offset().top,
                                                b = g.outerHeight();
                                            void 0 === l ? ((l = u.offset().top), u.data(i.keys.offset, l), u.after(t("<div>").addClass(i.classes.clone).height(c))) : u.next("." + i.classes.clone).height(c),
                                                h ||
                                                    ((n = "auto" !== u.css("top") || "auto" !== u.css("bottom")) || u.css("position", "fixed"),
                                                    (h = { top: "auto" !== u.css("top"), bottom: "auto" !== u.css("bottom") }),
                                                    n || u.css("position", ""),
                                                    u.data(i.keys.position, h)),
                                                (o = r(u.css("top"))),
                                                (a = r(u.css("bottom"))),
                                                (h.top && l < (s = d + o) && s + c <= v + b) || (h.bottom && l + (c || 0) > d + m - a && d + m - a >= v + (c || 0)) ? f || p(!0) : f && p(!1);
                                        }
                                    },
                                    destroy: function (n) {
                                        var r = t(n);
                                        return i.bypass()
                                            ? r
                                            : r.each(function () {
                                                  var n = t(this),
                                                      r = n.data(i.keys.id);
                                                  t(e).unbind(".fixedsticky" + r),
                                                      n
                                                          .removeData([i.keys.offset, i.keys.position, i.keys.id])
                                                          .removeClass(i.classes.active)
                                                          .removeClass(i.classes.inactive)
                                                          .next("." + i.classes.clone)
                                                          .remove();
                                              });
                                    },
                                    init: function (n) {
                                        var r = t(n);
                                        return i.bypass()
                                            ? r
                                            : r.each(function () {
                                                  var n = this,
                                                      a = o++;
                                                  t(this).data(i.keys.id, a),
                                                      t(e)
                                                          .bind("scroll.fixedsticky" + a, function () {
                                                              i.update(n);
                                                          })
                                                          .trigger("scroll.fixedsticky" + a),
                                                      t(e).bind("resize.fixedsticky" + a, function () {
                                                          r.is("." + i.classes.active) && i.update(n);
                                                      });
                                              });
                                    },
                                };
                            (e.FixedSticky = i),
                                (t.fn.fixedsticky = function (e) {
                                    if ("function" == typeof i[e]) return i[e].call(i, this);
                                    if ("object" != typeof e && e) throw new Error("Method `" + e + "` does not exist on jQuery.fixedsticky");
                                    return i.init.call(i, this);
                                }),
                                e.FixedFixed || t(e.document.documentElement).addClass(i.classes.withoutFixedFixed);
                        })(window, jQuery),
                        (this.$titleRow = $('<div id="navtabs" class="row">').insertAfter("#main")),
                        $("#navtabs").prepend(
                            '<section id="tabs" class="et-hero-tabs"><div class="et-hero-tabs-container"><a class="et-hero-tab" id="motdtab" href="#motdwrap">MOTD</a><a class="et-hero-tab" id="playlisttoggle" href="#queuecontainer">PLAYLIST</a><a class="et-hero-tab hidden" id="polltab" href="#pollwrap"></a><a class="et-hero-tab" id="addmediatoggle" href="#rightpane"></a><span class="et-hero-tab-slider"></span></div></section>'
                        ),
                        $('#nav-collapsible a:contains("Delete Account")').remove(),
                        $('#nav-collapsible a:contains("Account")').parent().detach().appendTo(".et-hero-tabs-container").addClass("et-hero-tab accountbutton").insertBefore("#motdtab"),
                        $(window).load(function () {
                            new (class {
                                constructor() {
                                    (this.currentId = null), (this.currentTab = null), (this.tabContainerHeight = 40);
                                    let e = this;
                                    $(".et-hero-tab").click(function () {
                                        e.onTabClick(event, $(this));
                                    }),
                                        $(window).scroll(() => {
                                            this.onScroll();
                                        }),
                                        $(window).resize(() => {
                                            this.onResize();
                                        });
                                }
                                onTabClick(e, t) {
                                    e.preventDefault();
                                    let n = $(t.attr("href")).offset().top - this.tabContainerHeight + 1;
                                    $("html, body").animate({ scrollTop: n }, 100);
                                }
                                onScroll() {
                                    this.checkTabContainerPosition(), this.findCurrentTabSelector();
                                }
                                onResize() {
                                    this.currentId && this.setSliderCss();
                                }
                                checkTabContainerPosition() {
                                    let e = $(".et-hero-tabs").offset().top + $(".et-hero-tabs").height() - this.tabContainerHeight;
                                    $(window).scrollTop() > e ? $(".et-hero-tabs-container").addClass("et-hero-tabs-container--top") : $(".et-hero-tabs-container").removeClass("et-hero-tabs-container--top");
                                }
                                findCurrentTabSelector(e) {
                                    let t,
                                        n,
                                        r = this;
                                    $(".et-hero-tab").each(function () {
                                        let e = $(this).attr("href"),
                                            o = $(e).offset().top - r.tabContainerHeight,
                                            i = $(e).offset().top + $(e).height() - r.tabContainerHeight;
                                        $(window).scrollTop() > o && $(window).scrollTop() < i && ((t = e), (n = $(this)));
                                    }),
                                        (this.currentId == t && null !== this.currentId) || ((this.currentId = t), (this.currentTab = n), this.setSliderCss());
                                }
                                setSliderCss() {
                                    let e = 0,
                                        t = 0;
                                    this.currentTab && ((e = this.currentTab.css("width")), (t = this.currentTab.offset().left)), $(".et-hero-tab-slider").css("width", e), $(".et-hero-tab-slider").css("left", t);
                                }
                            })();
                        }),
                        $("#tabs").fixedsticky(),
                        window.CLIENT.rank >= 3 && $("#polltab").removeClass("hidden"),
                        $("#polltab").append($("#newpollbtn")),
                        $("#addmediatoggle").append("<button id='addmedia' title='Add Media' class='headerbtn'></button>"),
                        $("#addmediatoggle").click(function () {
                            "none" == $("#rightpane").css("display")
                                ? ($("#mediabuttons button").each(function () {
                                      if ("none" != $(this).css("display")) return $(this).hasClass("collapsed") && $(this).trigger("click"), !1;
                                  }),
                                  $("#rightpane").slideDown(e))
                                : $("#rightpane").slideUp(e);
                            var e = 400;
                        }),
                        $("#playlisttoggle").click(function () {
                            "none" == $("#queuecontainer").css("display")
                                ? ($("#mediabuttons button").each(function () {
                                      if ("none" != $(this).css("display")) return $(this).hasClass("collapsed") && $(this).trigger("click"), !1;
                                  }),
                                  $("#queuecontainer").slideDown(e))
                                : $("#queuecontainer").slideUp(e);
                            var e = 400;
                        });
                });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("CopyEmotes", function (e) {
                "use strict";
                var t = document.querySelector("#messagebuffer"),
                    n = new MutationObserver(function (e) {
                        $("#messagebuffer")
                            .children()
                            .last()
                            .find(".channel-emote")
                            .click(function () {
                                $("#chatline").val($("#chatline").val() + " " + $(this).attr("title"));
                            })
                            .each(function () {
                                console.log($(this).attr("title"), $(this).attr("src")),
                                    (function (e, t) {
                                        if (void 0 === e || void 0 === t) return;
                                        var n = e.replace("/", "");
                                        !$("#" + n).remove().length > 0 && r++;
                                        r >= 4 && ($("#chatEmotes").children().last().remove(), r--);
                                        var o = $('<div class="emoteicon" id="' + n + '"title=/' + n + ' style="float:left;"><img src="' + t + '" id="' + n + '_img\'" width="28" height="28" /></img></div>');
                                        o.click(function () {
                                            $("#chatline").val($("#chatline").val() + " " + e);
                                        }),
                                            o.prependTo("#LastEmote");
                                    })($(this).attr("title"), $(this).attr("src"));
                            });
                    });
                $("#chatwrap").append('<div id="LastEmote" class="LastEmoteBox"></div></div>');
                n.observe(t, { childList: !0 });
                var r = 0;
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("smilesAndFavouritePicturesTogether", function (e) {
                "use strict";
                var t = this,
                    n = e.Settings.getTab("general", e.t("general[.]General"), 100),
                    r = e.Settings.storage;
                if (e.isModulePermitted("smiles") && e.isModulePermitted("favouritePictures")) {
                    var o,
                        i,
                        a = "general";
                    this.scheme = { "smiles-and-favourite-pictures-together": { title: e.t("general[.]Smiles and pictures together"), default: "no", options: [{ value: "no", title: e.t("settings[.]no") }] } };
                    var s = 1e4;
                    for (var u in this.scheme) {
                        if (((o = this.scheme[u]), r.setDefault(a + "." + u, o.default), r.get(a + "." + u))) for (i in o.options) o.options[i].selected = r.get(a + "." + u) == o.options[i].value;
                        n.addControl("select", "horizontal", o.title, u, o.options, null, s), (s += 100);
                    }
                    e.Settings.onSave(function (n) {
                        for (var r in t.scheme) n.set(a + "." + r, $("#" + e.prefix + r).val());
                        n.isDirty(a + ".smiles-and-favourite-pictures-together") && e.Settings.requestPageReload();
                    }),
                        "yes" == r.get(a + ".smiles-and-favourite-pictures-together") &&
                            (e.getModule("smiles").done(function (e) {
                                e.makeSmilesAndPicturesTogether();
                            }),
                            e.getModule("favouritePictures").done(function (e) {
                                e.makeSmilesAndPicturesTogether();
                            }),
                            $('<button id="smiles-and-picture-btn" class="chatbtn fad fa-images" title="' + e.t("general[.]Show emotes and favorite images") + '">')
                                .html('<i class="glyphicon glyphicon-th-large"></i>')
                                .prependTo($("#chat-controls"))
                                .on("click", function () {
                                    $("#smiles-btn").click(),
                                        $("#favourite-pictures-btn").click(),
                                        $(this).hasClass("btn-default") ? ($(this).removeClass("btn-default"), $(this).addClass("btn-success")) : ($(this).removeClass("btn-success"), $(this).addClass("btn-default"));
                                }));
                }
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("smiles", function (e) {
                "use strict";
                var t = this;
                $("#emotelistbtn").hide(),
                    0 === $("#chat-panel").length && $('<div id="chat-panel" class="row">').insertAfter("#messagebuffer"),
                    0 === $("#chat-controls").length && $('<div id="chat-controls" class="btn-group">').appendTo(".chat-area-buttons"),
                    (this.$smilesBtn = $('<button class="chatbtn" id="smiles-btn" data-tooltip="Emotes" data-tooltip-pos="up" >').html('<i class="material-icons">emoji_emotions</i>').prependTo("#chat-controls")),
                    (this.$smilesPanel = $('<div class="animated animatedFadeInUp fadeInUp" id="smiles-panel">').prependTo("#chat-panel").hide()),
                    (this.renderSmiles = function () {
                        for (var e = window.CHANNEL.emotes, t = 0, n = e.length; t < n; t++) $('<img class="smile-on-panel">').attr({ src: e[t].image }).data("name", e[t].name).appendTo(this.$smilesPanel);
                    }),
                    (this.insertSmile = function (t) {
                        e.Helpers.addMessageToChatInput(" " + t + " ", "end");
                    }),
                    $(document.body).on("click", ".smile-on-panel", function () {
                        t.insertSmile($(this).data("name")), t.showSmilesPanel();
                    }),
                    $(window).on("resize", function () {
                        e.Helpers.getViewportSize().width < 992 && t.$smilesPanel.empty();
                    }),
                    (this.showSmilesPanel = function () {
                        if (e.Helpers.getViewportSize().width < 992) t.$smilesPanel.empty(), $("#emotelistbtn").click();
                        else {
                            "" === t.$smilesPanel.html() && t.renderSmiles();
                            var n = this.smilesAndPicturesTogether || !0;
                            0 === $("#favourite-pictures-panel").length || n || $("#favourite-pictures-panel").hide(),
                                t.$smilesPanel.toggle(),
                                n ||
                                    (t.$smilesBtn.hasClass("btn-default")
                                        ? (0 !== $("#favourite-pictures-btn").length && $("#favourite-pictures-btn").hasClass("") && $("#favourite-pictures-btn").removeClass("").addClass(""),
                                          t.$smilesBtn.removeClass(""),
                                          t.$smilesBtn.addClass(""))
                                        : (t.$smilesBtn.removeClass(""), t.$smilesBtn.addClass("")));
                        }
                    }),
                    this.$smilesBtn.on("click", function () {
                        t.showSmilesPanel();
                    }),
                    (this.makeSmilesAndPicturesTogether = function () {
                        (t.smilesAndPicturesTogether = !0), t.$smilesBtn.hide(), t.$smilesPanel.hide();
                    });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("themes", function (e, t) {
                "use strict";
                var n = this;
                (t = $.extend({}, { defaultTheme: "default", themeId: "theme-css" }, t)),
                    $("#us-theme").closest(".form-group").hide().val("/css/themes/slate.css"),
                    window.createCookie && window.createCookie("cytube-theme", "/css/themes/slate.css", 1e3);
                var r = e.Settings.getTab("themes", e.t("themes[.]Themes"), 500),
                    o = $('<div class="' + e.prefix + 'themes">').appendTo(r.$content),
                    i = e.Settings.storage,
                    a = $('<div class="' + e.prefix + 'themes__info-message">')
                        .text("No Topic")
                        .prependTo(r.$content),
                    s = "themes";
                i.setDefault(s + ".selected", t.defaultTheme),
                    (this.themes = {}),
                    (this.applyNewDefaultTheme = function () {
                        var r = i.get(s + ".previousDefaultTheme");
                        if (i.get(s + ".selected") == r) i.set(s + ".previousDefaultTheme", t.defaultTheme), n.setTheme(t.defaultTheme), i.save(), console.log("reloading"), window.location.reload();
                        else if ((!r || (r && r != t.defaultTheme)) && (i.set(s + ".previousDefaultTheme", t.defaultTheme), i.save(), t.defaultTheme != i.get(s + ".selected"))) {
                            var o = n.themes[t.defaultTheme].title;
                            e.UI.createConfirmWindow(
                                e
                                    .t('themes[.]Default theme was changed to "%themeTitle%" by the channel owner. Do you want to try it? (Don\'t forget that you can change the theme in the extended settings at anytime.)')
                                    .replace("%themeTitle%", o),
                                function () {
                                    n.setTheme(t.defaultTheme),
                                        i.save(),
                                        e.UI.createConfirmWindow(e.t("settings[.]The page needs to reload to apply changes. Do it now?"), function () {
                                            window.location.reload();
                                        });
                                }
                            );
                        }
                    }),
                    (this.add = function (e) {
                        a.remove(),
                            (n.themes[e.name] = e),
                            (n.themes[e.name].$el = n.addMarkup(e).appendTo(o)),
                            n.sort(),
                            e.name === i.get(s + ".selected")
                                ? (e.name === t.defaultTheme && (i.set(s + ".previousDefaultTheme", t.defaultTheme), i.save()), n.setTheme(e.name), n.applyTheme(e.name))
                                : e.name === t.defaultTheme && n.applyNewDefaultTheme();
                    }),
                    r.onShow(function () {
                        $("." + e.prefix + "themes__item")
                            .removeClass("active")
                            .filter(function () {
                                return $(this).data("name") === i.get(s + ".selected");
                            })
                            .addClass("active");
                    }),
                    (this.setTheme = function (t) {
                        i.set(s + ".selected", t),
                            $("." + e.prefix + "themes__item")
                                .removeClass("active")
                                .filter(function () {
                                    return $(this).data("name") === t;
                                })
                                .addClass("active");
                    }),
                    (this.applyTheme = function (e) {
                        var r = n.themes[e];
                        $("#" + t.themeId).remove(),
                            r.cssUrl
                                ? $('<link rel="stylesheet" id="' + t.themeId + '">')
                                      .attr("href", r.cssUrl)
                                      .appendTo($("head"))
                                : n.setTheme(i.getDefault(s + ".selected")),
                            r.jsUrl && $.getScript(r.jsUrl);
                    }),
                    (this.addMarkup = function (t) {
                        var r = $('<div class="' + e.prefix + 'themes__item">')
                            .data("name", t.name)
                            .on("click", function () {
                                var t = $(this).data("name");
                                t !== i.get(s + ".selected") &&
                                    e.UI.createConfirmWindow(e.t("themes[.]Apply this theme?"), function () {
                                        n.setTheme(t);
                                    });
                            });
                        $('<div class="' + e.prefix + 'themes__item__title">')
                            .text(t.title)
                            .appendTo(r);
                        return (
                            void 0 !== t.pictureUrl &&
                                "" !== (t.pictureUrl = t.pictureUrl.trim()) &&
                                $('<div class="' + e.prefix + 'themes__item__picture">')
                                    .appendTo(r)
                                    .css("background-image", 'url("' + t.pictureUrl + '")'),
                            r
                        );
                    }),
                    (this.sort = function () {
                        var e = [];
                        for (var t in n.themes) e.push(n.themes[t]);
                        for (
                            var r = 0,
                                i = (e = e.sort(function (e, t) {
                                    return e.title.toLowerCase() > t.title.toLowerCase() ? 1 : e.title.toLowerCase() < t.title.toLowerCase() ? -1 : 0;
                                })).length;
                            r < i;
                            r++
                        )
                            e[r].$el.detach().appendTo(o);
                    }),
                    e.Settings.onSave(function (t) {
                        t.isDirty(s + ".selected") && e.Settings.requestPageReload();
                    });
            });
        },
        function (e, t) {},
        function (e, t) {
            window.cytubeEnhanced.addModule("videoControls", function (e, t) {
                "use strict";
                var n = this;
                (t = $.extend({}, { turnOffVideoOption: !0, selectQualityOption: !0, expandPlaylistOption: !0, showVideoContributorsOption: !0, playlistHeight: 500 }, t)),
                    (this.$topVideoControls = $('<div id="top-video-controls" class="btn-group">').appendTo("#VideoOverlay")),
                    (this.hidePlayer = function (e) {
                        e.hasClass("btn-default")
                            ? ($("#videowrap").find(".embed-responsive").css({ position: "relative" }),
                              videojs("ytapiplayer").ready(function () {
                                  this.volume(0);
                              }),
                              $('<div id="player-overlay">').appendTo(videowrap),
                              e.html('<i class="glyphicon glyphicon-film">').removeClass("btn-default").addClass(""))
                            : ($("#player-overlay").remove(),
                              $("#videowrap").find(".embed-responsive").css({ position: "block" }),
                              videojs("ytapiplayer").ready(function () {
                                  this.volume(0.7);
                              }),
                              e.html('<i class="glyphicon glyphicon-ban-circle">').removeClass("").addClass("btn-default"));
                    }),
                    (this.settingsFix = function () {
                        $("#us-theme").val(window.USEROPTS.theme),
                            $("#us-layout").val(window.USEROPTS.layout),
                            $("#us-no-channelcss").prop("checked", window.USEROPTS.ignore_channelcss),
                            $("#us-no-channeljs").prop("checked", window.USEROPTS.ignore_channeljs),
                            $("#us-synch").prop("checked", window.USEROPTS.synch),
                            $("#us-synch-accuracy").val(window.USEROPTS.sync_accuracy),
                            $("#us-wmode-transparent").prop("checked", window.USEROPTS.wmode_transparent),
                            $("#us-hidevideo").prop("checked", window.USEROPTS.hidevid),
                            $("#us-playlistbuttons").prop("checked", window.USEROPTS.qbtn_hide),
                            $("#us-oldbtns").prop("checked", window.USEROPTS.qbtn_idontlikechange),
                            $("#us-default-quality").val(window.USEROPTS.default_quality || "auto"),
                            $("#us-chat-timestamp").prop("checked", window.USEROPTS.show_timestamps),
                            $("#us-sort-rank").prop("checked", window.USEROPTS.sort_rank),
                            $("#us-sort-afk").prop("checked", window.USEROPTS.sort_afk),
                            $("#us-blink-title").val(window.USEROPTS.blink_title),
                            $("#us-ping-sound").val(window.USEROPTS.boop),
                            $("#us-sendbtn").prop("checked", window.USEROPTS.chatbtn),
                            $("#us-no-emotes").prop("checked", window.USEROPTS.no_emotes),
                            $("#us-modflair").prop("checked", window.USEROPTS.modhat),
                            $("#us-joinmessage").prop("checked", window.USEROPTS.joinmessage),
                            $("#us-shadowchat").prop("checked", window.USEROPTS.show_shadowchat);
                    }),
                    0 !== $("#showmediaurl").length &&
                        $("#showmediaurl")
                            .html(e.t("standardUI[.]Add video"))
                            .attr({ title: e.t("standardUI[.]Add video from url") })
                            .detach()
                            .insertBefore($("#showsearch")),
                    (this.expandPlaylist = function (n) {
                        n.hasClass("btn-success")
                            ? ($("#queue").css("max-height", t.playlistHeight + "px"), n.attr("title", e.t("video[.]Expand playlist")), n.removeClass("btn-success"), n.addClass("btn-default"))
                            : ($("#queue").css("max-height", "100000px"), n.attr("title", e.t("video[.]Unexpand playlist")), n.removeClass("btn-default"), n.addClass("btn-success"), window.scrollQueue());
                    }),
                    (this.$expandPlaylistBtn = $('<button id="expand-playlist-btn" class="btn btn-sm btn-default" data-expanded="0" title="' + e.t("video[.]Expand playlist") + '">')
                        .append('<span class="glyphicon glyphicon-resize-full">')
                        .prependTo("#ploptions")
                        .on("click", function () {
                            n.expandPlaylist($(this));
                        })),
                    t.expandPlaylistOption || this.$expandPlaylistBtn.hide(),
                    (this.$scrollToCurrentBtn = $('<button id="scroll-to-current-btn" class="btn btn-sm btn-default" title="' + e.t("video[.]Scroll the playlist to the current video") + '">')
                        .append('<span class="glyphicon glyphicon-hand-right">')
                        .prependTo("#upnext")
                        .on("click", function () {
                            window.scrollQueue();
                        })),
                    (this.showVideoContributorsList = function () {
                        var t = $('<h3 class="modal-title">').text(e.t("video[.]Contributors' list")),
                            n = $("<div>"),
                            r = {};
                        $("#queue")
                            .find(".queue_entry")
                            .each(function () {
                                var e = $(this).attr("title").replace("Added by: ", "");
                                void 0 === r[e] ? (r[e] = 1) : (r[e] += 1);
                            }),
                            n.append($("<p>" + e.t("video[.]Video's count") + ": " + ($("#queue").find(".queue_entry").length + 1) + "</p>"));
                        var o = $("<ol>");
                        for (var i in r) r.hasOwnProperty(i) && o.append($("<li>" + i + ": " + r[i] + ".</li>"));
                        o.appendTo(n), e.UI.createModalWindow("video-contributors-list", t, n);
                    }),
                    (this.$videoContributorsBtn = $('<button id="video-contributors-btn" class="btn btn-sm btn-default" title="' + e.t("video[.]Contributors' list") + '">')
                        .append('<span class="glyphicon glyphicon-user">')
                        .prependTo("#ploptions")
                        .on("click", function () {
                            n.showVideoContributorsList();
                        })),
                    t.showVideoContributorsOption || this.$videoContributorsBtn.hide(),
                    socket.on("changeMedia", function (e) {
                        setTimeout(function () {
                            $("#ytapiplayer").attr("airplay", "allow"), $("#ytapiplayer").attr("x-webkit-airplay", "allow");
                            var e = videojs("ytapiplayer");
                            e.poster(Poster_URL), console.log(e.poster());
                        }, 1);
                    });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("channelslide", function (e, t) {
                "use strict";
                (t = $.extend({}, { turnedOn: !0 }, t)),
                    "1" == UI_ChannelList &&
                        ($("head").append("<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.css' />"),
                        $("head").append("<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.min.css' />"),
                        $("head").append("<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.transitions.min.css' />"),
                        $("head").append("<link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/BillTube/BillTube2/channelslider.css' />"),
                        $("#motdrow").before(
                            '<div class="slider"><i id="left" class="arrow arrleft"></i><div id="carousel" class="carousel-inner owl-carousel owl-theme owl-hero-theme"></div><i id="right" class="arrow arrright"></i></div>'
                        )),
                    loadScript("https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js").then(function () {
                        var e = $("#carousel");
                        e.owlCarousel({
                            jsonPath: Channel_JSON,
                            jsonSuccess: function (e) {
                                var t = e.list.channels;
                                for (var n in t) {
                                    var r = t[n].image_url,
                                        o = t[n].title,
                                        i = t[n].channel_url,
                                        a = document.createElement("div");
                                    a.setAttribute("class", "item"),
                                        a.setAttribute("onclick", "window.open('" + i + "')"),
                                        (a.innerHTML = "<img src='" + r + "' class='kek' alt='" + o + "'>"),
                                        document.getElementById("carousel").appendChild(a);
                                }
                            },
                            lazyLoad: !0,
                            autoHeight: !0,
                            transitionStyle: "fade",
                            autoPlay: 48e3,
                            stopOnHover: !0,
                            pagination: !1,
                            items: 6,
                            itemsDesktop: [696, 4],
                            itemsDesktopSmall: [696, 3],
                            itemsTablet: [600, 2],
                            itemsMobile: [500, 1],
                        }),
                            $("#right").click(function () {
                                e.trigger("owl.next");
                            }),
                            $("#left").click(function () {
                                e.trigger("owl.prev");
                            });
                    });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("NameColors", function () {});
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("extras").done(function (e) {
                e.add({ title: "NND-STYLE", name: "NND", description: "written by biggles- (github.com/deerfarce).", url: "https://dl.dropbox.com/s/j8gaat6vj1x9xbd/NND.js" });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("extras").done(function (e) {
                e.add({ title: "NND-STYLE", name: "NND", description: "written by biggles- (github.com/deerfarce).", url: "https://dl.dropbox.com/s/j8gaat6vj1x9xbd/NND.js" });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("extras").done(function (e) {
                e.add({ title: "NND-STYLE", name: "NND", description: "written by biggles- (github.com/deerfarce).", url: "https://dl.dropbox.com/s/j8gaat6vj1x9xbd/NND.js" });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("themes").done(function (e) {
                e.add({
                    title: "Default Theme",
                    name: "default",
                    cssUrl: "//dl.dropbox.com/s/o0phwcb3gwqz6bl/default.css",
                    jsUrl: "//dl.dropbox.com/s/yj0jtegjyh9bhfq/default.js",
                    pictureUrl: "https://dl.dropbox.com/s/mmhlxuh72l5ki7j/default.png",
                });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("themes").done(function (e) {
                e.add({
                    title: "Halloween Theme",
                    name: "Halloween",
                    cssUrl: "//dl.dropbox.com/s/sc2fswbaam8ufdx/Halloween.css",
                    jsUrl: "//dl.dropbox.com/s/suz857w35tq4ls4/halloween.js",
                    pictureUrl: "https://dl.dropbox.com/s/znqvrttensso4l2/halloween.png",
                });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("themes").done(function (e) {
                e.add({
                    title: "Lightweight Theme",
                    name: "Lightweight",
                    cssUrl: "//dl.dropbox.com/s/yj4vgjz3prg67rt/Lightweight.css",
                    jsUrl: "//dl.dropbox.com/s/p3zgxkncy4hv42t/Lightweight.js",
                    pictureUrl: "https://dl.dropbox.com/s/3en6bk2odxtk2tn/lightweight.png",
                });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("Colors", function (e, t) {
                "use strict";
                t = $.extend({}, { turnedOn: !0 }, t);
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("Announcements", function (e, t) {
                "use strict";
                (t = $.extend({}, { turnedOn: !0 }, t)),
                    $.getScript("https://dl.dropbox.com/s/h8kazctox05u2o7/cytube.js"),
                    "1" == UI_ChannelAnnouncement &&
                        ("" == ChannelAnnouncement_Title && (ChannelAnnouncement_Title = "Administration Message"),
                        "" == ChannelAnnouncement_HTML && (ChannelAnnouncement_HTML = "<i>no messages</i>"),
                        makeAlert(ChannelAnnouncement_Title, ChannelAnnouncement_HTML).insertAfter(".slider")),
                    "1" == UI_ChannelName && "" != ChannelName_Caption && $(".navbar-brand").html(ChannelName_Caption),
                    "1" == UI_Favicon &&
                        "" != Favicon_URL &&
                        $(document).ready(function () {
                            $('<link id="chanfavicon" href="' + Favicon_URL + '" type="image/x-icon" rel="shortcut icon" />').appendTo("head");
                        });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("Discord", function (e, t) {
                "use strict";
                (t = $.extend({}, { turnedOn: !0 }, t)),
                    "1" == UI_Discord &&
                        "" != Discord_URL &&
                        ($("head").append("<link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/BillTube/BillTube2/discord.css' />"),
                        $("#motd").after(
                            "<div class='discordoverlay'><div class='discordmain'><img class='discord' src='//i.postimg.cc/J73Nn5nb/J6RTf6P.png' /><div class=discordtext><h1>Join the community!</h1><h2><a href='" +
                                Discord_URL +
                                "' target='_blank'>" +
                                Discord_NAME +
                                "</a></h2></div><div class='Darrows Darrows-1'></div><div class='Darrows Darrows-2'></div></div></div>"
                        ));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("TabComplete", function (e, t) {
                "use strict";
                (t = $.extend({}, { turnedOn: !0 }, t)), $("#chatline").unbind("keydown", n || function () {});
                var n = (function () {
                    var e,
                        t = document.getElementById("chatline"),
                        n = document.getElementById("suggestionsDiv") || document.createElement("div"),
                        r = 0;
                    function o(e) {
                        var n = document.createElement("img");
                        return (
                            (n.className = "channel-emote-small"),
                            (n.src = e.image),
                            (n.title = e.name),
                            (n.onclick = function (n) {
                                i(), (t.value = t.value.replace(/\/[a-z0-9?!&]*$/i, e.name)), (this.style.border = "2px solid white"), t.focus();
                                for (var o = 0, a = this; (a = a.previousSibling); ) o++;
                                r = o;
                            }),
                            n
                        );
                    }
                    function i() {
                        for (var e = 0; e < n.children.length; e++) n.children[e].style.border = "none";
                    }
                    function a(e, t) {
                        if (0 === e.length) return t.length;
                        if (0 === t.length) return e.length;
                        let n, r, o, i, a, s;
                        for (e.length > t.length && ((n = e), (e = t), (t = n)), s = Array(e.length + 1), r = 0; r <= e.length; r++) s[r] = r;
                        for (r = 1; r <= t.length; r++) {
                            for (i = r, o = 1; o <= e.length; o++) (a = t[r - 1] === e[o - 1] ? s[o - 1] : Math.min(s[o - 1] + 1, Math.min(i + 1, s[o] + 1))), (s[o - 1] = i), (i = a);
                            s[e.length] = i;
                        }
                        return s[e.length];
                    }
                    return (
                        (n.id = "suggestionsDiv"),
                        (n.style.position = "absolute"),
                        (n.style.zIndex = "999"),
                        t.parentNode.appendChild(n),
                        function (s) {
                            if (9 == s.keyCode || s.shiftKey) {
                                if (9 == s.keyCode)
                                    if (e)
                                        "[object Array]" === Object.prototype.toString.call(e)
                                            ? (t.value = t.value.replace(/[a-z0-9-]+$/i, e[++r % e.length]))
                                            : ((r = s.shiftKey ? (--r + n.children.length) % n.children.length : ++r % n.children.length), i(), n.children[r] && n.children[r].onclick());
                                    else {
                                        var u = t.value.match(/\/[a-z0-9?!&]*$/i);
                                        if (u) {
                                            for (var c = CHANNEL.emotes.slice(), l = [], d = 0, f = (u = u[0].replace(/\?/g, "\\?")).replace("/", ""); d < c.length; d++) (c[d].name.match(f) || a(u, c[d].name) < 3) && l.push(new o(c[d]));
                                            l.sort(function (e, t) {
                                                var n = e.title.indexOf(u),
                                                    r = t.title.indexOf(u);
                                                if (0 === n && 0 !== r) return -1;
                                                if (0 === r && 0 !== n) return 1;
                                                for (var o = 0; e.title.charAt(o) === t.title.charAt(o) && o < e.title.length && o < t.title.length; ) o++;
                                                return e.title.length === t.title.length || (o != e.title.length - 1 && o != t.title.length - 1) || isNaN(parseInt(e.title.charAt(o))) || isNaN(parseInt(t.title.charAt(o)))
                                                    ? e.title.charAt(o) < t.title.charAt(o)
                                                        ? -1
                                                        : 1
                                                    : e.title.charAt(o) < t.title.charAt(o)
                                                    ? 1
                                                    : -1;
                                            }),
                                                (n.innerHTML = "");
                                            for (d = 0; d < l.length; d++) n.appendChild(l[d]);
                                            (r = 0), (e = u), n.children[0] && (n.children[0].style.border = "3px solid white") && n.children[r].onclick();
                                        } else {
                                            var p = t.value.match(/[a-z0-9-]+$/i),
                                                m = $("#userlist .userlist_item");
                                            (e = []), (r = 0);
                                            for (d = 0; d < m.length; d++) m[d].children[1].textContent != CLIENT.name && m[d].children[1].textContent.match(new RegExp("^" + p, "i")) && e.push(m[d].children[1].textContent);
                                            0 != e.length ? (t.value = t.value.replace(/[a-z0-9-]+$/i, e[0])) : (e = null);
                                        }
                                    }
                            } else (n.innerHTML = ""), (e = null);
                        }
                    );
                })();
                (chatTabComplete = function () {
                    return !1;
                }),
                    $("#chatline").keydown(n);
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("BGs", function (e, t) {
                "use strict";
                if (((t = $.extend({}, { turnedOn: !0 }, t)), "1" == BG_Stock)) {
                    var n = [
                        "https://i.ibb.co/tH1T2kM/3z9lp6.jpg",
                        "https://i.ibb.co/zZBdvW1/8oxmr2.jpg",
                        "https://i.ibb.co/wMfkcQx/9m6owx.png",
                        "https://i.ibb.co/PhrtPSW/ox2yd5.jpg",
                        "https://i.ibb.co/5sjxgRV/j5k8vq.jpg",
                        "https://i.ibb.co/VDnK4Pv/1kj9y1.jpg",
                        "https://i.ibb.co/CJ3hjJv/4xg9zv.jpg",
                    ];
                    $("#wrap").css({ background: "url(" + n[Math.floor(Math.random() * BGPics.length)] + ") no-repeat", "background-attachment": "scroll", "background-position": "50% 50%", "background-size": "cover" });
                } else $("#wrap").css({ background: "url(" + BGPics[Math.floor(Math.random() * BGPics.length)] + ") no-repeat", "background-attachment": "scroll", "background-position": "50% 50%", "background-size": "cover" });
            });
        },
        function (e, t) {
            window.cytubeEnhanced.getModule("bbCodesHelper").done(function (e) {
                var t = !1;
                function n(e) {
                    e.preventDefault(),
                        DONTSPAMGIPHY &&
                            ((DONTSPAMGIPHY = !1),
                            setTimeout(function () {
                                DONTSPAMGIPHY = !0;
                            }, 1e3),
                            $(".imagesearch").text("Searching..."),
                            $("#single").attr("src", "").attr("onclick", "").hide(),
                            $(".giphyimage").hide(),
                            $(".gforwardbutton").prop("disabled", !0),
                            $(".gbackbutton").prop("disabled", !0),
                            $(".gbackbutton").off("click"),
                            $(".gforwardbutton").off("click"),
                            $(".giphyimage")
                                .find("img")
                                .each(function () {
                                    $(this).attr("src", ""), $(this).attr("onclick", "");
                                }),
                            (SINGLE = !1),
                            (gifterm = $("#giphy_input").val()),
                            (giff = encodeURIComponent(gifterm)),
                            $("#gifs").prop("checked") ? (giftype = "gifs") : (giftype = "stickers"),
                            (TRANSLATE = !1),
                            (RANDOM = !1),
                            TRENDING
                                ? (searchtype = "trending?limit=50")
                                : $("#search").prop("checked")
                                ? (searchtype = "search?q=" + giff + "&limit=50")
                                : $("#translate").prop("checked")
                                ? ((searchtype = "translate?s=" + giff), (SINGLE = !0), (TRANSLATE = !0))
                                : ((searchtype = "random?tag=" + giff), (SINGLE = !0), (RANDOM = !0)),
                            (theurl = "https://api.giphy.com/v1/" + giftype + "/" + searchtype + "&api_key=0UTRbFtkMxAplrohufYco5IY74U8hOes"),
                            $.ajax({
                                url: theurl,
                                jsonp: "callback",
                                dataType: "json",
                                success: function (e) {
                                    if ((console.log(e), (imagedata = e.data), void 0 !== imagedata))
                                        if (SINGLE)
                                            $(".imagesearch").text('"' + gifterm + '"'),
                                                TRANSLATE
                                                    ? $("#single")
                                                          .attr("src", imagedata.images.original.url)
                                                          .attr("onclick", "insertText('" + imagedata.images.original.url + " ');clickPic()")
                                                          .show()
                                                    : $("#single")
                                                          .attr("src", imagedata.image_url)
                                                          .attr("onclick", "insertText('" + imagedata.image_url + " ');clickPic()")
                                                          .show();
                                        else {
                                            TRENDING ? (gifterm = "") : (gifterm = ' "' + gifterm + '"'), (offset = 0), (imagelength = imagedata.length), $(".giphyimage").show(), $(".imagesearch").text("Showing" + gifterm + " 1-9 of 99");
                                            for (var t = 0; t < 9; t++)
                                                void 0 !== imagedata[t] &&
                                                    ((imageurl = imagedata[t].images.original.url),
                                                    "200" === imagedata[t].images.fixed_width.width && parseInt(imagedata[t].images.fixed_height.height) <= 200
                                                        ? (fixed = imagedata[t].images.fixed_width.url)
                                                        : (fixed = imagedata[t].images.fixed_height.url),
                                                    "" === fixed && (fixed = imagedata[t].images.original.url),
                                                    $(".giphyimage")
                                                        .find("img")
                                                        .eq(t)
                                                        .attr("onclick", "insertText('" + imageurl + " ');clickPic()")
                                                        .attr("src", fixed)),
                                                    8 === t && ((offset += t + 1), imagelength > offset && $(".gforwardbutton").prop("disabled", !1));
                                            $(".gforwardbutton").click(function () {
                                                $(".giphyimage")
                                                    .find("img")
                                                    .each(function () {
                                                        $(this).attr("src", ""), $(this).attr("onclick", "");
                                                    }),
                                                    $(".imagesearch").text("Showing" + gifterm + " " + offset + "-" + (offset + 9) + " of 99");
                                                for (var e = 0; e < 9; e++)
                                                    void 0 !== imagedata[e + offset] &&
                                                        ((imageurl = imagedata[e + offset].images.original.url),
                                                        "200" === imagedata[e + offset].images.fixed_width.width && parseInt(imagedata[e + offset].images.fixed_height.height) <= 200
                                                            ? (fixed = imagedata[e + offset].images.fixed_width.url)
                                                            : (fixed = imagedata[e + offset].images.fixed_height.url),
                                                        "" === fixed && (fixed = imagedata[t].images.original.url),
                                                        $(".giphyimage")
                                                            .find("img")
                                                            .eq(e)
                                                            .attr("onclick", "insertText('" + imageurl + " ');clickPic()")
                                                            .attr("src", fixed)),
                                                        8 === e && ((offset += e + 1), imagelength > offset ? $(".gforwardbutton").prop("disabled", !1) : $(".gforwardbutton").prop("disabled", !0));
                                                $(".gbackbutton").prop("disabled", !1);
                                            }),
                                                $(".gbackbutton").click(function () {
                                                    $(".giphyimage")
                                                        .find("img")
                                                        .each(function () {
                                                            $(this).attr("src", ""), $(this).attr("onclick", "");
                                                        }),
                                                        $(".imagesearch").text("Showing" + gifterm + " " + (offset - 18) + "-" + (offset - 9) + " of 99");
                                                    for (var e = 0; e < 9; e++)
                                                        void 0 !== imagedata[e + offset - 18] &&
                                                            ((imageurl = imagedata[e + offset - 18].images.original.url),
                                                            "200" === imagedata[e + offset - 18].images.fixed_width.width && parseInt(imagedata[e + offset - 18].images.fixed_height.height) <= 200
                                                                ? (fixed = imagedata[e + offset - 18].images.fixed_width.url)
                                                                : (fixed = imagedata[e + offset - 18].images.fixed_height.url),
                                                            "" === fixed && (fixed = imagedata[e + offset - 18].images.original.url),
                                                            $(".giphyimage")
                                                                .find("img")
                                                                .eq(e)
                                                                .attr("onclick", "insertText('" + imageurl + " ');clickPic()")
                                                                .attr("src", fixed)),
                                                            8 === e && ((offset -= e + 1), offset > 9 ? $(".gbackbutton").prop("disabled", !1) : $(".gbackbutton").prop("disabled", !0));
                                                    $(".gforwardbutton").prop("disabled", !1);
                                                });
                                        }
                                    else $(".imagesearch").text("Error: Not found.");
                                },
                                error: function (e) {
                                    console.log(e), $(".imagesearch").text("Connection Error: Try again later.");
                                },
                            }));
                }
                (giphysearchbtn = $('<button id="giphysearch-btn" data-tooltip="Giphy" data-tooltip-pos="up" class="chatbtn"><i class="material-icons">movie_creation</i></button>')
                    .appendTo("#chat-controls")
                    .on("click", function () {
                        t ||
                            (createTemp("Giphy Gifs"),
                            body.append('<div id="giphy_wrap" class="form-group"><span id="giphy_search"></span></div>'),
                            $(
                                '<div id="giphy_window" style="min-height:550px" class="col-lg-12 col-md-12"><center style="height:45px"><span style="float:left"><label class="checkbox-inline"><input type="checkbox" id="gifs" class="gifoption" value="no" checked> Gifs</label><label class="checkbox-inline"><input type="checkbox" id="stickers" class="gifoption" value="no"> Stickers</label></span><span><label class="checkbox-inline"><input type="checkbox" id="search" class="searchoption" value="no" checked> Search</label><label class="checkbox-inline"><input type="checkbox" id="translate" class="searchoption" value="no"> Single</label><label class="checkbox-inline"><input type="checkbox" id="random" class="searchoption" value="no"> Random</label></span><button style="float:right padding: 1px 6px;" class="Trendingbutton" id="trending">Trending</button></center><div style="height:40px"><center><button style="float:left;margin:5px 0 5px 0;" class="btn btn-sm btn-default gbackbutton fal fa-arrow-left" disabled></button><span class="text-info imagesearch"></span><button style="float:right;margin:5px 0 5px 0;" class="btn btn-sm btn-default gforwardbutton fal fa-arrow-right" disabled></button></center></div><center><img id="single" style="cursor:pointer;max-width:500px;max-height:500px;display:none"/></center><center><span style="max-height:100%;display:none" class="giphyimage"><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/><img class="GiphyCell"/></span></center></div>'
                            ).appendTo("#giphy_wrap"),
                            $("#giphy_search").html(
                                '<form id="giphy_query"><label style="display: block;"><input id="giphy_input" type="text" placeholder="Search GIPHY" style="" maxlength="240" class="form-control"></input></label></form>'
                            ),
                            $("#giphy_window")
                                .find(".gifoption")
                                .each(function () {
                                    $(this).click(function () {
                                        $(".gifoption").prop("checked", !1), $(this).prop("checked", !0);
                                    });
                                }),
                            $("#giphy_window")
                                .find(".searchoption")
                                .each(function () {
                                    $(this).click(function () {
                                        $(".searchoption").prop("checked", !1), $(this).prop("checked", !0);
                                    });
                                }),
                            $("body").css("overflow", "hidden"),
                            outer.on("hidden.bs.modal", function () {
                                outer.remove(), $("body").css("overflow", "auto"), scrollChat();
                            }),
                            $("#giphy_query").on("submit", function (e) {
                                "" !== $("#giphy_input").val() && ((TRENDING = !1), n(e));
                            }),
                            $("#trending").click(function (e) {
                                (TRENDING = !0), n(e);
                            }),
                            setTimeout(function () {
                                $("#giphy_input").focus().val("");
                            }, 250),
                            (t = !0),
                            setTimeout(function () {
                                t = !1;
                            }, 1e3));
                    })),
                    (DONTSPAMGIPHY = !0);
            }),
                $("#messagebuffer")
                    .on("mouseenter", ".giphy", function () {
                        jQuery(this).attr("src", jQuery(this).attr("src").replace("200_s.gif", "giphy.gif"));
                    })
                    .on("mouseleave", ".giphy", function () {
                        jQuery(this).attr("src", jQuery(this).attr("src").replace("giphy.gif", "200_s.gif"));
                    });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("RequestList", function (e, t) {
                "use strict";
                var n = this;
                (this.handleAddVideoBtn = function (t) {
                    var n = $('<h3 class="modal-title">').text("iframe"),
                        r = $("<center></center>");
                    e.UI.createModalWindow("request-list", n, r);
                }),
                    (this.$AddVideoBtn = $("")
                        .text(e.t(""))
                        .appendTo("#chat-controls")
                        .on("click", function () {
                            n.handleAddVideoBtn(n.commands);
                        }));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("AdvancedMOTD", function (t, n) {
                "use strict";
                (n = $.extend({}, { turnedOn: !0 }, n)),
                    window.CLIENT.rank >= 3 &&
                        (!(function (t) {
                            var n = function () {},
                                r = function (e, t) {
                                    return function () {
                                        for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                                        return e(t.apply(null, n));
                                    };
                                },
                                o = function (e) {
                                    return function () {
                                        return e;
                                    };
                                },
                                i = function (e) {
                                    return e;
                                };
                            function a(e) {
                                for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                                return function () {
                                    for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                                    var o = t.concat(n);
                                    return e.apply(null, o);
                                };
                            }
                            var s,
                                u,
                                c,
                                l,
                                d,
                                f,
                                p,
                                m,
                                h,
                                g,
                                v,
                                b,
                                y,
                                w,
                                C,
                                x,
                                _ = function (e) {
                                    return function () {
                                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                                        return !e.apply(null, t);
                                    };
                                },
                                k = o(!1),
                                T = o(!0),
                                E = function () {
                                    return S;
                                },
                                S =
                                    ((s = function (e) {
                                        return e.isNone();
                                    }),
                                    (l = {
                                        fold: function (e, t) {
                                            return e();
                                        },
                                        is: k,
                                        isSome: k,
                                        isNone: T,
                                        getOr: (c = function (e) {
                                            return e;
                                        }),
                                        getOrThunk: (u = function (e) {
                                            return e();
                                        }),
                                        getOrDie: function (e) {
                                            throw new Error(e || "error: getOrDie called on none.");
                                        },
                                        getOrNull: o(null),
                                        getOrUndefined: o(void 0),
                                        or: c,
                                        orThunk: u,
                                        map: E,
                                        each: n,
                                        bind: E,
                                        exists: k,
                                        forall: T,
                                        filter: E,
                                        equals: s,
                                        equals_: s,
                                        toArray: function () {
                                            return [];
                                        },
                                        toString: o("none()"),
                                    }),
                                    Object.freeze && Object.freeze(l),
                                    l),
                                $ = function (e) {
                                    var t = o(e),
                                        n = function () {
                                            return i;
                                        },
                                        r = function (t) {
                                            return t(e);
                                        },
                                        i = {
                                            fold: function (t, n) {
                                                return n(e);
                                            },
                                            is: function (t) {
                                                return e === t;
                                            },
                                            isSome: T,
                                            isNone: k,
                                            getOr: t,
                                            getOrThunk: t,
                                            getOrDie: t,
                                            getOrNull: t,
                                            getOrUndefined: t,
                                            or: n,
                                            orThunk: n,
                                            map: function (t) {
                                                return $(t(e));
                                            },
                                            each: function (t) {
                                                t(e);
                                            },
                                            bind: r,
                                            exists: r,
                                            forall: r,
                                            filter: function (t) {
                                                return t(e) ? i : S;
                                            },
                                            toArray: function () {
                                                return [e];
                                            },
                                            toString: function () {
                                                return "some(" + e + ")";
                                            },
                                            equals: function (t) {
                                                return t.is(e);
                                            },
                                            equals_: function (t, n) {
                                                return t.fold(k, function (t) {
                                                    return n(e, t);
                                                });
                                            },
                                        };
                                    return i;
                                },
                                N = {
                                    some: $,
                                    none: E,
                                    from: function (e) {
                                        return null == e ? S : $(e);
                                    },
                                },
                                A = function (e) {
                                    return function (t) {
                                        return (
                                            (function (e) {
                                                if (null === e) return "null";
                                                var t = typeof e;
                                                return "object" === t && (Array.prototype.isPrototypeOf(e) || (e.constructor && "Array" === e.constructor.name))
                                                    ? "array"
                                                    : "object" === t && (String.prototype.isPrototypeOf(e) || (e.constructor && "String" === e.constructor.name))
                                                    ? "string"
                                                    : t;
                                            })(t) === e
                                        );
                                    };
                                },
                                O = A("string"),
                                D = A("object"),
                                R = A("array"),
                                B = A("null"),
                                P = A("boolean"),
                                I = A("function"),
                                L = A("number"),
                                M = Array.prototype.slice,
                                j = Array.prototype.indexOf,
                                F = Array.prototype.push,
                                U = function (e, t) {
                                    return j.call(e, t);
                                },
                                H = function (e, t) {
                                    return -1 < U(e, t);
                                },
                                z = function (e, t) {
                                    for (var n = 0, r = e.length; n < r; n++) if (t(e[n], n)) return !0;
                                    return !1;
                                },
                                q = function (e, t) {
                                    for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
                                        var i = e[o];
                                        r[o] = t(i, o);
                                    }
                                    return r;
                                },
                                V = function (e, t) {
                                    for (var n = 0, r = e.length; n < r; n++) t(e[n], n);
                                },
                                W = function (e, t) {
                                    for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
                                        var a = e[o];
                                        (t(a, o) ? n : r).push(a);
                                    }
                                    return { pass: n, fail: r };
                                },
                                K = function (e, t) {
                                    for (var n = [], r = 0, o = e.length; r < o; r++) {
                                        var i = e[r];
                                        t(i, r) && n.push(i);
                                    }
                                    return n;
                                },
                                G = function (e, t, n) {
                                    return (
                                        V(e, function (e) {
                                            n = t(n, e);
                                        }),
                                        n
                                    );
                                },
                                Y = function (e, t) {
                                    for (var n = 0, r = e.length; n < r; n++) {
                                        var o = e[n];
                                        if (t(o, n)) return N.some(o);
                                    }
                                    return N.none();
                                },
                                X = function (e, t) {
                                    for (var n = 0, r = e.length; n < r; n++) if (t(e[n], n)) return N.some(n);
                                    return N.none();
                                },
                                J = function (e, t) {
                                    return (function (e) {
                                        for (var t = [], n = 0, r = e.length; n < r; ++n) {
                                            if (!R(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                                            F.apply(t, e[n]);
                                        }
                                        return t;
                                    })(q(e, t));
                                },
                                Q = function (e, t) {
                                    for (var n = 0, r = e.length; n < r; ++n) if (!0 !== t(e[n], n)) return !1;
                                    return !0;
                                },
                                Z = function (e, t) {
                                    return K(e, function (e) {
                                        return !H(t, e);
                                    });
                                },
                                ee = function (e) {
                                    return 0 === e.length ? N.none() : N.some(e[0]);
                                },
                                te = function (e) {
                                    return 0 === e.length ? N.none() : N.some(e[e.length - 1]);
                                },
                                ne = I(Array.from)
                                    ? Array.from
                                    : function (e) {
                                          return M.call(e);
                                      },
                                re = void 0 !== t.window ? t.window : Function("return this;")(),
                                oe = {
                                    getOrDie: function (e, t) {
                                        var n = (function (e, t) {
                                            return (function (e, t) {
                                                for (var n = null != t ? t : re, r = 0; r < e.length && null != n; ++r) n = n[e[r]];
                                                return n;
                                            })(e.split("."), t);
                                        })(e, t);
                                        if (null == n) throw new Error(e + " not available on this browser");
                                        return n;
                                    },
                                },
                                ie = function () {
                                    return oe.getOrDie("URL");
                                },
                                ae = function (e) {
                                    return ie().createObjectURL(e);
                                },
                                se = function (e) {
                                    ie().revokeObjectURL(e);
                                },
                                ue = t.navigator,
                                ce = ue.userAgent,
                                le = function (e) {
                                    return "matchMedia" in t.window && t.matchMedia(e).matches;
                                };
                            (b = /Android/.test(ce)),
                                (f = (f = !(d = /WebKit/.test(ce)) && /MSIE/gi.test(ce) && /Explorer/gi.test(ue.appName)) && /MSIE (\w+)\./.exec(ce)[1]),
                                (p = -1 !== ce.indexOf("Trident/") && (-1 !== ce.indexOf("rv:") || -1 !== ue.appName.indexOf("Netscape")) && 11),
                                (m = -1 !== ce.indexOf("Edge/") && !f && !p && 12),
                                (f = f || p || m),
                                (h = !d && !p && /Gecko/.test(ce)),
                                (g = -1 !== ce.indexOf("Mac")),
                                (v = /(iPad|iPhone)/.test(ce)),
                                (y = "FormData" in t.window && "FileReader" in t.window && "URL" in t.window && !!ae),
                                (w = le("only screen and (max-device-width: 480px)") && (b || v)),
                                (C = le("only screen and (min-width: 800px)") && (b || v)),
                                (x = -1 !== ce.indexOf("Windows Phone")),
                                m && (d = !1);
                            var de,
                                fe = {
                                    opera: !1,
                                    webkit: d,
                                    ie: f,
                                    gecko: h,
                                    mac: g,
                                    iOS: v,
                                    android: b,
                                    contentEditable: !v || y || 534 <= parseInt(ce.match(/AppleWebKit\/(\d*)/)[1], 10),
                                    transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
                                    caretAfter: 8 !== f,
                                    range: t.window.getSelection && "Range" in t.window,
                                    documentMode: f && !m ? t.document.documentMode || 7 : 10,
                                    fileApi: y,
                                    ceFalse: !1 === f || 8 < f,
                                    cacheSuffix: null,
                                    container: null,
                                    overrideViewPort: null,
                                    experimentalShadowDom: !1,
                                    canHaveCSP: !1 === f || 11 < f,
                                    desktop: !w && !C,
                                    windowsPhone: x,
                                },
                                pe = window.Promise
                                    ? window.Promise
                                    : (function () {
                                          function e(e, t) {
                                              return function () {
                                                  e.apply(t, arguments);
                                              };
                                          }
                                          var t =
                                                  Array.isArray ||
                                                  function (e) {
                                                      return "[object Array]" === Object.prototype.toString.call(e);
                                                  },
                                              n = function (t) {
                                                  if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                                                  if ("function" != typeof t) throw new TypeError("not a function");
                                                  (this._state = null), (this._value = null), (this._deferreds = []), c(t, e(i, this), e(a, this));
                                              },
                                              r =
                                                  n.immediateFn ||
                                                  ("function" == typeof setImmediate && setImmediate) ||
                                                  function (e) {
                                                      setTimeout(e, 1);
                                                  };
                                          function o(e) {
                                              var t = this;
                                              null !== this._state
                                                  ? r(function () {
                                                        var n = t._state ? e.onFulfilled : e.onRejected;
                                                        if (null !== n) {
                                                            var r;
                                                            try {
                                                                r = n(t._value);
                                                            } catch (t) {
                                                                return void e.reject(t);
                                                            }
                                                            e.resolve(r);
                                                        } else (t._state ? e.resolve : e.reject)(t._value);
                                                    })
                                                  : this._deferreds.push(e);
                                          }
                                          function i(t) {
                                              try {
                                                  if (t === this) throw new TypeError("A promise cannot be resolved with itself.");
                                                  if (t && ("object" == typeof t || "function" == typeof t)) {
                                                      var n = t.then;
                                                      if ("function" == typeof n) return void c(e(n, t), e(i, this), e(a, this));
                                                  }
                                                  (this._state = !0), (this._value = t), s.call(this);
                                              } catch (e) {
                                                  a.call(this, e);
                                              }
                                          }
                                          function a(e) {
                                              (this._state = !1), (this._value = e), s.call(this);
                                          }
                                          function s() {
                                              for (var e = 0, t = this._deferreds.length; e < t; e++) o.call(this, this._deferreds[e]);
                                              this._deferreds = null;
                                          }
                                          function u(e, t, n, r) {
                                              (this.onFulfilled = "function" == typeof e ? e : null), (this.onRejected = "function" == typeof t ? t : null), (this.resolve = n), (this.reject = r);
                                          }
                                          function c(e, t, n) {
                                              var r = !1;
                                              try {
                                                  e(
                                                      function (e) {
                                                          r || ((r = !0), t(e));
                                                      },
                                                      function (e) {
                                                          r || ((r = !0), n(e));
                                                      }
                                                  );
                                              } catch (e) {
                                                  if (r) return;
                                                  (r = !0), n(e);
                                              }
                                          }
                                          return (
                                              (n.prototype.catch = function (e) {
                                                  return this.then(null, e);
                                              }),
                                              (n.prototype.then = function (e, t) {
                                                  var r = this;
                                                  return new n(function (n, i) {
                                                      o.call(r, new u(e, t, n, i));
                                                  });
                                              }),
                                              (n.all = function () {
                                                  var e = Array.prototype.slice.call(1 === arguments.length && t(arguments[0]) ? arguments[0] : arguments);
                                                  return new n(function (t, n) {
                                                      if (0 === e.length) return t([]);
                                                      var r = e.length;
                                                      function o(i, a) {
                                                          try {
                                                              if (a && ("object" == typeof a || "function" == typeof a)) {
                                                                  var s = a.then;
                                                                  if ("function" == typeof s)
                                                                      return void s.call(
                                                                          a,
                                                                          function (e) {
                                                                              o(i, e);
                                                                          },
                                                                          n
                                                                      );
                                                              }
                                                              (e[i] = a), 0 == --r && t(e);
                                                          } catch (e) {
                                                              n(e);
                                                          }
                                                      }
                                                      for (var i = 0; i < e.length; i++) o(i, e[i]);
                                                  });
                                              }),
                                              (n.resolve = function (e) {
                                                  return e && "object" == typeof e && e.constructor === n
                                                      ? e
                                                      : new n(function (t) {
                                                            t(e);
                                                        });
                                              }),
                                              (n.reject = function (e) {
                                                  return new n(function (t, n) {
                                                      n(e);
                                                  });
                                              }),
                                              (n.race = function (e) {
                                                  return new n(function (t, n) {
                                                      for (var r = 0, o = e.length; r < o; r++) e[r].then(t, n);
                                                  });
                                              }),
                                              n
                                          );
                                      })(),
                                me = function (e, t) {
                                    return "number" != typeof t && (t = 0), setTimeout(e, t);
                                },
                                he = function (e, t) {
                                    return "number" != typeof t && (t = 1), setInterval(e, t);
                                },
                                ge = function (e, t) {
                                    var n, r;
                                    return (
                                        ((r = function () {
                                            var r = arguments;
                                            clearTimeout(n),
                                                (n = me(function () {
                                                    e.apply(this, r);
                                                }, t));
                                        }).stop = function () {
                                            clearTimeout(n);
                                        }),
                                        r
                                    );
                                },
                                ve = {
                                    requestAnimationFrame: function (e, n) {
                                        de
                                            ? de.then(e)
                                            : (de = new pe(function (e) {
                                                  n || (n = t.document.body),
                                                      (function (e, n) {
                                                          var r,
                                                              o = t.window.requestAnimationFrame,
                                                              i = ["ms", "moz", "webkit"];
                                                          for (r = 0; r < i.length && !o; r++) o = t.window[i[r] + "RequestAnimationFrame"];
                                                          o ||
                                                              (o = function (e) {
                                                                  t.window.setTimeout(e, 0);
                                                              }),
                                                              o(e, n);
                                                      })(e, n);
                                              }).then(e));
                                    },
                                    setTimeout: me,
                                    setInterval: he,
                                    setEditorTimeout: function (e, t, n) {
                                        return me(function () {
                                            e.removed || t();
                                        }, n);
                                    },
                                    setEditorInterval: function (e, t, n) {
                                        var r;
                                        return (r = he(function () {
                                            e.removed ? clearInterval(r) : t();
                                        }, n));
                                    },
                                    debounce: ge,
                                    throttle: ge,
                                    clearInterval: function (e) {
                                        return clearInterval(e);
                                    },
                                    clearTimeout: function (e) {
                                        return clearTimeout(e);
                                    },
                                },
                                be = /^(?:mouse|contextmenu)|click/,
                                ye = { keyLocation: 1, layerX: 1, layerY: 1, returnValue: 1, webkitMovementX: 1, webkitMovementY: 1, keyIdentifier: 1 },
                                we = function () {
                                    return !1;
                                },
                                Ce = function () {
                                    return !0;
                                },
                                xe = function (e, t, n, r) {
                                    e.addEventListener ? e.addEventListener(t, n, r || !1) : e.attachEvent && e.attachEvent("on" + t, n);
                                },
                                _e = function (e, t, n, r) {
                                    e.removeEventListener ? e.removeEventListener(t, n, r || !1) : e.detachEvent && e.detachEvent("on" + t, n);
                                },
                                ke = function (e, n) {
                                    var r,
                                        o,
                                        i = n || {};
                                    for (r in e) ye[r] || (i[r] = e[r]);
                                    if (
                                        (i.target || (i.target = i.srcElement || t.document),
                                        fe.experimentalShadowDom &&
                                            (i.target = (function (e, t) {
                                                if (e.composedPath) {
                                                    var n = e.composedPath();
                                                    if (n && 0 < n.length) return n[0];
                                                }
                                                return t;
                                            })(e, i.target)),
                                        e && be.test(e.type) && void 0 === e.pageX && void 0 !== e.clientX)
                                    ) {
                                        var a = i.target.ownerDocument || t.document,
                                            s = a.documentElement,
                                            u = a.body;
                                        (i.pageX = e.clientX + ((s && s.scrollLeft) || (u && u.scrollLeft) || 0) - ((s && s.clientLeft) || (u && u.clientLeft) || 0)),
                                            (i.pageY = e.clientY + ((s && s.scrollTop) || (u && u.scrollTop) || 0) - ((s && s.clientTop) || (u && u.clientTop) || 0));
                                    }
                                    return (
                                        (i.preventDefault = function () {
                                            (i.isDefaultPrevented = Ce), e && (e.preventDefault ? e.preventDefault() : (e.returnValue = !1));
                                        }),
                                        (i.stopPropagation = function () {
                                            (i.isPropagationStopped = Ce), e && (e.stopPropagation ? e.stopPropagation() : (e.cancelBubble = !0));
                                        }),
                                        !(i.stopImmediatePropagation = function () {
                                            (i.isImmediatePropagationStopped = Ce), i.stopPropagation();
                                        }) == ((o = i).isDefaultPrevented === Ce || o.isDefaultPrevented === we) && ((i.isDefaultPrevented = we), (i.isPropagationStopped = we), (i.isImmediatePropagationStopped = we)),
                                        void 0 === i.metaKey && (i.metaKey = !1),
                                        i
                                    );
                                },
                                Te = function (e, t, n) {
                                    var r = e.document,
                                        o = { type: "ready" };
                                    if (n.domLoaded) t(o);
                                    else {
                                        var i = function () {
                                                return "complete" === r.readyState || ("interactive" === r.readyState && r.body);
                                            },
                                            a = function () {
                                                n.domLoaded || ((n.domLoaded = !0), t(o));
                                            },
                                            s = function () {
                                                i() && (_e(r, "readystatechange", s), a());
                                            },
                                            u = function () {
                                                try {
                                                    r.documentElement.doScroll("left");
                                                } catch (e) {
                                                    return void ve.setTimeout(u);
                                                }
                                                a();
                                            };
                                        !r.addEventListener || (fe.ie && fe.ie < 11) ? (xe(r, "readystatechange", s), r.documentElement.doScroll && e.self === e.top && u()) : i() ? a() : xe(e, "DOMContentLoaded", a), xe(e, "load", a);
                                    }
                                },
                                Ee = function () {
                                    var e,
                                        n,
                                        r,
                                        o,
                                        i,
                                        a = this,
                                        s = {};
                                    (n = "mce-data-" + (+new Date()).toString(32)),
                                        (o = "onmouseenter" in t.document.documentElement),
                                        (r = "onfocusin" in t.document.documentElement),
                                        (i = { mouseenter: "mouseover", mouseleave: "mouseout" }),
                                        (e = 1),
                                        (a.domLoaded = !1),
                                        (a.events = s);
                                    var u = function (e, t) {
                                        var n,
                                            r,
                                            o,
                                            i,
                                            a = s[t];
                                        if ((n = a && a[e.type])) for (r = 0, o = n.length; r < o; r++) if (((i = n[r]) && !1 === i.func.call(i.scope, e) && e.preventDefault(), e.isImmediatePropagationStopped())) return;
                                    };
                                    (a.bind = function (c, l, d, f) {
                                        var p,
                                            m,
                                            h,
                                            g,
                                            v,
                                            b,
                                            y,
                                            w = t.window,
                                            C = function (e) {
                                                u(ke(e || w.event), p);
                                            };
                                        if (c && 3 !== c.nodeType && 8 !== c.nodeType) {
                                            for (c[n] ? (p = c[n]) : ((p = e++), (c[n] = p), (s[p] = {})), f = f || c, h = (l = l.split(" ")).length; h--; )
                                                (b = C),
                                                    (v = y = !1),
                                                    "DOMContentLoaded" === (g = l[h]) && (g = "ready"),
                                                    a.domLoaded && "ready" === g && "complete" === c.readyState
                                                        ? d.call(f, ke({ type: g }))
                                                        : (o ||
                                                              ((v = i[g]) &&
                                                                  (b = function (e) {
                                                                      var t, n;
                                                                      if (((t = e.currentTarget), (n = e.relatedTarget) && t.contains)) n = t.contains(n);
                                                                      else for (; n && n !== t; ) n = n.parentNode;
                                                                      n || (((e = ke(e || w.event)).type = "mouseout" === e.type ? "mouseleave" : "mouseenter"), (e.target = t), u(e, p));
                                                                  })),
                                                          r ||
                                                              ("focusin" !== g && "focusout" !== g) ||
                                                              ((y = !0),
                                                              (v = "focusin" === g ? "focus" : "blur"),
                                                              (b = function (e) {
                                                                  ((e = ke(e || w.event)).type = "focus" === e.type ? "focusin" : "focusout"), u(e, p);
                                                              })),
                                                          (m = s[p][g])
                                                              ? "ready" === g && a.domLoaded
                                                                  ? d({ type: g })
                                                                  : m.push({ func: d, scope: f })
                                                              : ((s[p][g] = m = [{ func: d, scope: f }]), (m.fakeName = v), (m.capture = y), (m.nativeHandler = b), "ready" === g ? Te(c, b, a) : xe(c, v || g, b, y)));
                                            return (c = m = 0), d;
                                        }
                                    }),
                                        (a.unbind = function (e, t, r) {
                                            var o, i, u, c, l, d;
                                            if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;
                                            if ((o = e[n])) {
                                                if (((d = s[o]), t)) {
                                                    for (u = (t = t.split(" ")).length; u--; )
                                                        if ((i = d[(l = t[u])])) {
                                                            if (r)
                                                                for (c = i.length; c--; )
                                                                    if (i[c].func === r) {
                                                                        var f = i.nativeHandler,
                                                                            p = i.fakeName,
                                                                            m = i.capture;
                                                                        ((i = i.slice(0, c).concat(i.slice(c + 1))).nativeHandler = f), (i.fakeName = p), (i.capture = m), (d[l] = i);
                                                                    }
                                                            (r && 0 !== i.length) || (delete d[l], _e(e, i.fakeName || l, i.nativeHandler, i.capture));
                                                        }
                                                } else {
                                                    for (l in d) (i = d[l]), _e(e, i.fakeName || l, i.nativeHandler, i.capture);
                                                    d = {};
                                                }
                                                for (l in d) return a;
                                                delete s[o];
                                                try {
                                                    delete e[n];
                                                } catch (t) {
                                                    e[n] = null;
                                                }
                                            }
                                            return a;
                                        }),
                                        (a.fire = function (e, t, r) {
                                            var o;
                                            if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;
                                            for ((r = ke(null, r)).type = t, r.target = e; (o = e[n]) && u(r, o), (e = e.parentNode || e.ownerDocument || e.defaultView || e.parentWindow) && !r.isPropagationStopped(); );
                                            return a;
                                        }),
                                        (a.clean = function (e) {
                                            var t,
                                                r,
                                                o = a.unbind;
                                            if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;
                                            if ((e[n] && o(e), e.getElementsByTagName || (e = e.document), e && e.getElementsByTagName)) for (o(e), t = (r = e.getElementsByTagName("*")).length; t--; ) (e = r[t])[n] && o(e);
                                            return a;
                                        }),
                                        (a.destroy = function () {
                                            s = {};
                                        }),
                                        (a.cancel = function (e) {
                                            return e && (e.preventDefault(), e.stopImmediatePropagation()), !1;
                                        });
                                };
                            (Ee.Event = new Ee()), Ee.Event.bind(t.window, "ready", function () {});
                            var Se,
                                $e,
                                Ne,
                                Ae,
                                Oe,
                                De,
                                Re,
                                Be,
                                Pe,
                                Ie,
                                Le,
                                Me,
                                je,
                                Fe,
                                Ue,
                                He,
                                ze,
                                qe,
                                Ve = "sizzle" + -new Date(),
                                We = t.window.document,
                                Ke = 0,
                                Ge = 0,
                                Ye = St(),
                                Xe = St(),
                                Je = St(),
                                Qe = function (e, t) {
                                    return e === t && (Le = !0), 0;
                                },
                                Ze = "undefined",
                                et = {}.hasOwnProperty,
                                tt = [],
                                nt = tt.pop,
                                rt = tt.push,
                                ot = tt.push,
                                it = tt.slice,
                                at =
                                    tt.indexOf ||
                                    function (e) {
                                        for (var t = 0, n = this.length; t < n; t++) if (this[t] === e) return t;
                                        return -1;
                                    },
                                st = "[\\x20\\t\\r\\n\\f]",
                                ut = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                                ct = "\\[" + st + "*(" + ut + ")(?:" + st + "*([*^$|!~]?=)" + st + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ut + "))|)" + st + "*\\]",
                                lt = ":(" + ut + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ct + ")*)|.*)\\)|)",
                                dt = new RegExp("^" + st + "+|((?:^|[^\\\\])(?:\\\\.)*)" + st + "+$", "g"),
                                ft = new RegExp("^" + st + "*," + st + "*"),
                                pt = new RegExp("^" + st + "*([>+~]|" + st + ")" + st + "*"),
                                mt = new RegExp("=" + st + "*([^\\]'\"]*?)" + st + "*\\]", "g"),
                                ht = new RegExp(lt),
                                gt = new RegExp("^" + ut + "$"),
                                vt = {
                                    ID: new RegExp("^#(" + ut + ")"),
                                    CLASS: new RegExp("^\\.(" + ut + ")"),
                                    TAG: new RegExp("^(" + ut + "|[*])"),
                                    ATTR: new RegExp("^" + ct),
                                    PSEUDO: new RegExp("^" + lt),
                                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + st + "*(even|odd|(([+-]|)(\\d*)n|)" + st + "*(?:([+-]|)" + st + "*(\\d+)|))" + st + "*\\)|)", "i"),
                                    bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
                                    needsContext: new RegExp("^" + st + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + st + "*((?:-\\d)?\\d*)" + st + "*\\)|)(?=[^-]|$)", "i"),
                                },
                                bt = /^(?:input|select|textarea|button)$/i,
                                yt = /^h\d$/i,
                                wt = /^[^{]+\{\s*\[native \w/,
                                Ct = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                                xt = /[+~]/,
                                _t = /'|\\/g,
                                kt = new RegExp("\\\\([\\da-f]{1,6}" + st + "?|(" + st + ")|.)", "ig"),
                                Tt = function (e, t, n) {
                                    var r = "0x" + t - 65536;
                                    return r != r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode((r >> 10) | 55296, (1023 & r) | 56320);
                                };
                            try {
                                ot.apply((tt = it.call(We.childNodes)), We.childNodes), tt[We.childNodes.length].nodeType;
                            } catch (e) {
                                ot = {
                                    apply: tt.length
                                        ? function (e, t) {
                                              rt.apply(e, it.call(t));
                                          }
                                        : function (e, t) {
                                              for (var n = e.length, r = 0; (e[n++] = t[r++]); );
                                              e.length = n - 1;
                                          },
                                };
                            }
                            var Et = function (e, t, n, r) {
                                var o, i, a, s, u, c, l, d, f, p;
                                if (((t ? t.ownerDocument || t : We) !== je && Me(t), (n = n || []), !e || "string" != typeof e)) return n;
                                if (1 !== (s = (t = t || je).nodeType) && 9 !== s) return [];
                                if (Ue && !r) {
                                    if ((o = Ct.exec(e)))
                                        if ((a = o[1])) {
                                            if (9 === s) {
                                                if (!(i = t.getElementById(a)) || !i.parentNode) return n;
                                                if (i.id === a) return n.push(i), n;
                                            } else if (t.ownerDocument && (i = t.ownerDocument.getElementById(a)) && qe(t, i) && i.id === a) return n.push(i), n;
                                        } else {
                                            if (o[2]) return ot.apply(n, t.getElementsByTagName(e)), n;
                                            if ((a = o[3]) && $e.getElementsByClassName) return ot.apply(n, t.getElementsByClassName(a)), n;
                                        }
                                    if ($e.qsa && (!He || !He.test(e))) {
                                        if (((d = l = Ve), (f = t), (p = 9 === s && e), 1 === s && "object" !== t.nodeName.toLowerCase())) {
                                            for (c = De(e), (l = t.getAttribute("id")) ? (d = l.replace(_t, "\\$&")) : t.setAttribute("id", d), d = "[id='" + d + "'] ", u = c.length; u--; ) c[u] = d + Pt(c[u]);
                                            (f = (xt.test(e) && Rt(t.parentNode)) || t), (p = c.join(","));
                                        }
                                        if (p)
                                            try {
                                                return ot.apply(n, f.querySelectorAll(p)), n;
                                            } catch (e) {
                                            } finally {
                                                l || t.removeAttribute("id");
                                            }
                                    }
                                }
                                return Be(e.replace(dt, "$1"), t, n, r);
                            };
                            function St() {
                                var e = [];
                                return function t(n, r) {
                                    return e.push(n + " ") > Ne.cacheLength && delete t[e.shift()], (t[n + " "] = r);
                                };
                            }
                            function $t(e) {
                                return (e[Ve] = !0), e;
                            }
                            function Nt(e, t) {
                                var n = t && e,
                                    r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
                                if (r) return r;
                                if (n) for (; (n = n.nextSibling); ) if (n === t) return -1;
                                return e ? 1 : -1;
                            }
                            function At(e) {
                                return function (t) {
                                    return "input" === t.nodeName.toLowerCase() && t.type === e;
                                };
                            }
                            function Ot(e) {
                                return function (t) {
                                    var n = t.nodeName.toLowerCase();
                                    return ("input" === n || "button" === n) && t.type === e;
                                };
                            }
                            function Dt(e) {
                                return $t(function (t) {
                                    return (
                                        (t = +t),
                                        $t(function (n, r) {
                                            for (var o, i = e([], n.length, t), a = i.length; a--; ) n[(o = i[a])] && (n[o] = !(r[o] = n[o]));
                                        })
                                    );
                                });
                            }
                            function Rt(e) {
                                return e && typeof e.getElementsByTagName !== Ze && e;
                            }
                            for (Se in (($e = Et.support = {}),
                            (Oe = Et.isXML = function (e) {
                                var t = e && (e.ownerDocument || e).documentElement;
                                return !!t && "HTML" !== t.nodeName;
                            }),
                            (Me = Et.setDocument = function (e) {
                                var t,
                                    n = e ? e.ownerDocument || e : We,
                                    r = n.defaultView;
                                return n !== je && 9 === n.nodeType && n.documentElement
                                    ? ((Fe = (je = n).documentElement),
                                      (Ue = !Oe(n)),
                                      r &&
                                          r !==
                                              (function (e) {
                                                  try {
                                                      return e.top;
                                                  } catch (e) {}
                                                  return null;
                                              })(r) &&
                                          (r.addEventListener
                                              ? r.addEventListener(
                                                    "unload",
                                                    function () {
                                                        Me();
                                                    },
                                                    !1
                                                )
                                              : r.attachEvent &&
                                                r.attachEvent("onunload", function () {
                                                    Me();
                                                })),
                                      ($e.attributes = !0),
                                      ($e.getElementsByTagName = !0),
                                      ($e.getElementsByClassName = wt.test(n.getElementsByClassName)),
                                      ($e.getById = !0),
                                      (Ne.find.ID = function (e, t) {
                                          if (typeof t.getElementById !== Ze && Ue) {
                                              var n = t.getElementById(e);
                                              return n && n.parentNode ? [n] : [];
                                          }
                                      }),
                                      (Ne.filter.ID = function (e) {
                                          var t = e.replace(kt, Tt);
                                          return function (e) {
                                              return e.getAttribute("id") === t;
                                          };
                                      }),
                                      (Ne.find.TAG = $e.getElementsByTagName
                                          ? function (e, t) {
                                                if (typeof t.getElementsByTagName !== Ze) return t.getElementsByTagName(e);
                                            }
                                          : function (e, t) {
                                                var n,
                                                    r = [],
                                                    o = 0,
                                                    i = t.getElementsByTagName(e);
                                                if ("*" === e) {
                                                    for (; (n = i[o++]); ) 1 === n.nodeType && r.push(n);
                                                    return r;
                                                }
                                                return i;
                                            }),
                                      (Ne.find.CLASS =
                                          $e.getElementsByClassName &&
                                          function (e, t) {
                                              if (Ue) return t.getElementsByClassName(e);
                                          }),
                                      (ze = []),
                                      (He = []),
                                      ($e.disconnectedMatch = !0),
                                      (He = He.length && new RegExp(He.join("|"))),
                                      (ze = ze.length && new RegExp(ze.join("|"))),
                                      (t = wt.test(Fe.compareDocumentPosition)),
                                      (qe =
                                          t || wt.test(Fe.contains)
                                              ? function (e, t) {
                                                    var n = 9 === e.nodeType ? e.documentElement : e,
                                                        r = t && t.parentNode;
                                                    return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)));
                                                }
                                              : function (e, t) {
                                                    if (t) for (; (t = t.parentNode); ) if (t === e) return !0;
                                                    return !1;
                                                }),
                                      (Qe = t
                                          ? function (e, t) {
                                                if (e === t) return (Le = !0), 0;
                                                var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                                                return (
                                                    r ||
                                                    (1 & (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || (!$e.sortDetached && t.compareDocumentPosition(e) === r)
                                                        ? e === n || (e.ownerDocument === We && qe(We, e))
                                                            ? -1
                                                            : t === n || (t.ownerDocument === We && qe(We, t))
                                                            ? 1
                                                            : Ie
                                                            ? at.call(Ie, e) - at.call(Ie, t)
                                                            : 0
                                                        : 4 & r
                                                        ? -1
                                                        : 1)
                                                );
                                            }
                                          : function (e, t) {
                                                if (e === t) return (Le = !0), 0;
                                                var r,
                                                    o = 0,
                                                    i = e.parentNode,
                                                    a = t.parentNode,
                                                    s = [e],
                                                    u = [t];
                                                if (!i || !a) return e === n ? -1 : t === n ? 1 : i ? -1 : a ? 1 : Ie ? at.call(Ie, e) - at.call(Ie, t) : 0;
                                                if (i === a) return Nt(e, t);
                                                for (r = e; (r = r.parentNode); ) s.unshift(r);
                                                for (r = t; (r = r.parentNode); ) u.unshift(r);
                                                for (; s[o] === u[o]; ) o++;
                                                return o ? Nt(s[o], u[o]) : s[o] === We ? -1 : u[o] === We ? 1 : 0;
                                            }),
                                      n)
                                    : je;
                            }),
                            (Et.matches = function (e, t) {
                                return Et(e, null, null, t);
                            }),
                            (Et.matchesSelector = function (e, t) {
                                if (((e.ownerDocument || e) !== je && Me(e), (t = t.replace(mt, "='$1']")), $e.matchesSelector && Ue && (!ze || !ze.test(t)) && (!He || !He.test(t))))
                                    try {
                                        var n = (void 0).call(e, t);
                                        if (n || $e.disconnectedMatch || (e.document && 11 !== e.document.nodeType)) return n;
                                    } catch (e) {}
                                return 0 < Et(t, je, null, [e]).length;
                            }),
                            (Et.contains = function (e, t) {
                                return (e.ownerDocument || e) !== je && Me(e), qe(e, t);
                            }),
                            (Et.attr = function (e, t) {
                                (e.ownerDocument || e) !== je && Me(e);
                                var n = Ne.attrHandle[t.toLowerCase()],
                                    r = n && et.call(Ne.attrHandle, t.toLowerCase()) ? n(e, t, !Ue) : void 0;
                                return void 0 !== r ? r : $e.attributes || !Ue ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null;
                            }),
                            (Et.error = function (e) {
                                throw new Error("Syntax error, unrecognized expression: " + e);
                            }),
                            (Et.uniqueSort = function (e) {
                                var t,
                                    n = [],
                                    r = 0,
                                    o = 0;
                                if (((Le = !$e.detectDuplicates), (Ie = !$e.sortStable && e.slice(0)), e.sort(Qe), Le)) {
                                    for (; (t = e[o++]); ) t === e[o] && (r = n.push(o));
                                    for (; r--; ) e.splice(n[r], 1);
                                }
                                return (Ie = null), e;
                            }),
                            (Ae = Et.getText = function (e) {
                                var t,
                                    n = "",
                                    r = 0,
                                    o = e.nodeType;
                                if (o) {
                                    if (1 === o || 9 === o || 11 === o) {
                                        if ("string" == typeof e.textContent) return e.textContent;
                                        for (e = e.firstChild; e; e = e.nextSibling) n += Ae(e);
                                    } else if (3 === o || 4 === o) return e.nodeValue;
                                } else for (; (t = e[r++]); ) n += Ae(t);
                                return n;
                            }),
                            ((Ne = Et.selectors = {
                                cacheLength: 50,
                                createPseudo: $t,
                                match: vt,
                                attrHandle: {},
                                find: {},
                                relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } },
                                preFilter: {
                                    ATTR: function (e) {
                                        return (e[1] = e[1].replace(kt, Tt)), (e[3] = (e[3] || e[4] || e[5] || "").replace(kt, Tt)), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4);
                                    },
                                    CHILD: function (e) {
                                        return (
                                            (e[1] = e[1].toLowerCase()),
                                            "nth" === e[1].slice(0, 3)
                                                ? (e[3] || Et.error(e[0]), (e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3]))), (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                                                : e[3] && Et.error(e[0]),
                                            e
                                        );
                                    },
                                    PSEUDO: function (e) {
                                        var t,
                                            n = !e[6] && e[2];
                                        return vt.CHILD.test(e[0])
                                            ? null
                                            : (e[3] ? (e[2] = e[4] || e[5] || "") : n && ht.test(n) && (t = De(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && ((e[0] = e[0].slice(0, t)), (e[2] = n.slice(0, t))), e.slice(0, 3));
                                    },
                                },
                                filter: {
                                    TAG: function (e) {
                                        var t = e.replace(kt, Tt).toLowerCase();
                                        return "*" === e
                                            ? function () {
                                                  return !0;
                                              }
                                            : function (e) {
                                                  return e.nodeName && e.nodeName.toLowerCase() === t;
                                              };
                                    },
                                    CLASS: function (e) {
                                        var t = Ye[e + " "];
                                        return (
                                            t ||
                                            ((t = new RegExp("(^|" + st + ")" + e + "(" + st + "|$)")) &&
                                                Ye(e, function (e) {
                                                    return t.test(("string" == typeof e.className && e.className) || (typeof e.getAttribute !== Ze && e.getAttribute("class")) || "");
                                                }))
                                        );
                                    },
                                    ATTR: function (e, t, n) {
                                        return function (r) {
                                            var o = Et.attr(r, e);
                                            return null == o
                                                ? "!=" === t
                                                : !t ||
                                                      ((o += ""),
                                                      "=" === t
                                                          ? o === n
                                                          : "!=" === t
                                                          ? o !== n
                                                          : "^=" === t
                                                          ? n && 0 === o.indexOf(n)
                                                          : "*=" === t
                                                          ? n && -1 < o.indexOf(n)
                                                          : "$=" === t
                                                          ? n && o.slice(-n.length) === n
                                                          : "~=" === t
                                                          ? -1 < (" " + o + " ").indexOf(n)
                                                          : "|=" === t && (o === n || o.slice(0, n.length + 1) === n + "-"));
                                        };
                                    },
                                    CHILD: function (e, t, n, r, o) {
                                        var i = "nth" !== e.slice(0, 3),
                                            a = "last" !== e.slice(-4),
                                            s = "of-type" === t;
                                        return 1 === r && 0 === o
                                            ? function (e) {
                                                  return !!e.parentNode;
                                              }
                                            : function (t, n, u) {
                                                  var c,
                                                      l,
                                                      d,
                                                      f,
                                                      p,
                                                      m,
                                                      h = i !== a ? "nextSibling" : "previousSibling",
                                                      g = t.parentNode,
                                                      v = s && t.nodeName.toLowerCase(),
                                                      b = !u && !s;
                                                  if (g) {
                                                      if (i) {
                                                          for (; h; ) {
                                                              for (d = t; (d = d[h]); ) if (s ? d.nodeName.toLowerCase() === v : 1 === d.nodeType) return !1;
                                                              m = h = "only" === e && !m && "nextSibling";
                                                          }
                                                          return !0;
                                                      }
                                                      if (((m = [a ? g.firstChild : g.lastChild]), a && b)) {
                                                          for (p = (c = (l = g[Ve] || (g[Ve] = {}))[e] || [])[0] === Ke && c[1], f = c[0] === Ke && c[2], d = p && g.childNodes[p]; (d = (++p && d && d[h]) || (f = p = 0) || m.pop()); )
                                                              if (1 === d.nodeType && ++f && d === t) {
                                                                  l[e] = [Ke, p, f];
                                                                  break;
                                                              }
                                                      } else if (b && (c = (t[Ve] || (t[Ve] = {}))[e]) && c[0] === Ke) f = c[1];
                                                      else
                                                          for (
                                                              ;
                                                              (d = (++p && d && d[h]) || (f = p = 0) || m.pop()) && ((s ? d.nodeName.toLowerCase() !== v : 1 !== d.nodeType) || !++f || (b && ((d[Ve] || (d[Ve] = {}))[e] = [Ke, f]), d !== t));

                                                          );
                                                      return (f -= o) === r || (f % r == 0 && 0 <= f / r);
                                                  }
                                              };
                                    },
                                    PSEUDO: function (e, t) {
                                        var n,
                                            r = Ne.pseudos[e] || Ne.setFilters[e.toLowerCase()] || Et.error("unsupported pseudo: " + e);
                                        return r[Ve]
                                            ? r(t)
                                            : 1 < r.length
                                            ? ((n = [e, e, "", t]),
                                              Ne.setFilters.hasOwnProperty(e.toLowerCase())
                                                  ? $t(function (e, n) {
                                                        for (var o, i = r(e, t), a = i.length; a--; ) e[(o = at.call(e, i[a]))] = !(n[o] = i[a]);
                                                    })
                                                  : function (e) {
                                                        return r(e, 0, n);
                                                    })
                                            : r;
                                    },
                                },
                                pseudos: {
                                    not: $t(function (e) {
                                        var t = [],
                                            n = [],
                                            r = Re(e.replace(dt, "$1"));
                                        return r[Ve]
                                            ? $t(function (e, t, n, o) {
                                                  for (var i, a = r(e, null, o, []), s = e.length; s--; ) (i = a[s]) && (e[s] = !(t[s] = i));
                                              })
                                            : function (e, o, i) {
                                                  return (t[0] = e), r(t, null, i, n), !n.pop();
                                              };
                                    }),
                                    has: $t(function (e) {
                                        return function (t) {
                                            return 0 < Et(e, t).length;
                                        };
                                    }),
                                    contains: $t(function (e) {
                                        return (
                                            (e = e.replace(kt, Tt)),
                                            function (t) {
                                                return -1 < (t.textContent || t.innerText || Ae(t)).indexOf(e);
                                            }
                                        );
                                    }),
                                    lang: $t(function (e) {
                                        return (
                                            gt.test(e || "") || Et.error("unsupported lang: " + e),
                                            (e = e.replace(kt, Tt).toLowerCase()),
                                            function (t) {
                                                var n;
                                                do {
                                                    if ((n = Ue ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-");
                                                } while ((t = t.parentNode) && 1 === t.nodeType);
                                                return !1;
                                            }
                                        );
                                    }),
                                    target: function (e) {
                                        var n = t.window.location && t.window.location.hash;
                                        return n && n.slice(1) === e.id;
                                    },
                                    root: function (e) {
                                        return e === Fe;
                                    },
                                    focus: function (e) {
                                        return e === je.activeElement && (!je.hasFocus || je.hasFocus()) && !!(e.type || e.href || ~e.tabIndex);
                                    },
                                    enabled: function (e) {
                                        return !1 === e.disabled;
                                    },
                                    disabled: function (e) {
                                        return !0 === e.disabled;
                                    },
                                    checked: function (e) {
                                        var t = e.nodeName.toLowerCase();
                                        return ("input" === t && !!e.checked) || ("option" === t && !!e.selected);
                                    },
                                    selected: function (e) {
                                        return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected;
                                    },
                                    empty: function (e) {
                                        for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return !1;
                                        return !0;
                                    },
                                    parent: function (e) {
                                        return !Ne.pseudos.empty(e);
                                    },
                                    header: function (e) {
                                        return yt.test(e.nodeName);
                                    },
                                    input: function (e) {
                                        return bt.test(e.nodeName);
                                    },
                                    button: function (e) {
                                        var t = e.nodeName.toLowerCase();
                                        return ("input" === t && "button" === e.type) || "button" === t;
                                    },
                                    text: function (e) {
                                        var t;
                                        return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase());
                                    },
                                    first: Dt(function () {
                                        return [0];
                                    }),
                                    last: Dt(function (e, t) {
                                        return [t - 1];
                                    }),
                                    eq: Dt(function (e, t, n) {
                                        return [n < 0 ? n + t : n];
                                    }),
                                    even: Dt(function (e, t) {
                                        for (var n = 0; n < t; n += 2) e.push(n);
                                        return e;
                                    }),
                                    odd: Dt(function (e, t) {
                                        for (var n = 1; n < t; n += 2) e.push(n);
                                        return e;
                                    }),
                                    lt: Dt(function (e, t, n) {
                                        for (var r = n < 0 ? n + t : n; 0 <= --r; ) e.push(r);
                                        return e;
                                    }),
                                    gt: Dt(function (e, t, n) {
                                        for (var r = n < 0 ? n + t : n; ++r < t; ) e.push(r);
                                        return e;
                                    }),
                                },
                            }).pseudos.nth = Ne.pseudos.eq),
                            { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
                                Ne.pseudos[Se] = At(Se);
                            for (Se in { submit: !0, reset: !0 }) Ne.pseudos[Se] = Ot(Se);
                            function Bt() {}
                            function Pt(e) {
                                for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
                                return r;
                            }
                            function It(e, t, n) {
                                var r = t.dir,
                                    o = n && "parentNode" === r,
                                    i = Ge++;
                                return t.first
                                    ? function (t, n, i) {
                                          for (; (t = t[r]); ) if (1 === t.nodeType || o) return e(t, n, i);
                                      }
                                    : function (t, n, a) {
                                          var s,
                                              u,
                                              c = [Ke, i];
                                          if (a) {
                                              for (; (t = t[r]); ) if ((1 === t.nodeType || o) && e(t, n, a)) return !0;
                                          } else
                                              for (; (t = t[r]); )
                                                  if (1 === t.nodeType || o) {
                                                      if ((s = (u = t[Ve] || (t[Ve] = {}))[r]) && s[0] === Ke && s[1] === i) return (c[2] = s[2]);
                                                      if (((u[r] = c)[2] = e(t, n, a))) return !0;
                                                  }
                                      };
                            }
                            function Lt(e) {
                                return 1 < e.length
                                    ? function (t, n, r) {
                                          for (var o = e.length; o--; ) if (!e[o](t, n, r)) return !1;
                                          return !0;
                                      }
                                    : e[0];
                            }
                            function Mt(e, t, n, r, o) {
                                for (var i, a = [], s = 0, u = e.length, c = null != t; s < u; s++) (i = e[s]) && ((n && !n(i, r, o)) || (a.push(i), c && t.push(s)));
                                return a;
                            }
                            function jt(e, t, n, r, o, i) {
                                return (
                                    r && !r[Ve] && (r = jt(r)),
                                    o && !o[Ve] && (o = jt(o, i)),
                                    $t(function (i, a, s, u) {
                                        var c,
                                            l,
                                            d,
                                            f = [],
                                            p = [],
                                            m = a.length,
                                            h =
                                                i ||
                                                (function (e, t, n) {
                                                    for (var r = 0, o = t.length; r < o; r++) Et(e, t[r], n);
                                                    return n;
                                                })(t || "*", s.nodeType ? [s] : s, []),
                                            g = !e || (!i && t) ? h : Mt(h, f, e, s, u),
                                            v = n ? (o || (i ? e : m || r) ? [] : a) : g;
                                        if ((n && n(g, v, s, u), r)) for (c = Mt(v, p), r(c, [], s, u), l = c.length; l--; ) (d = c[l]) && (v[p[l]] = !(g[p[l]] = d));
                                        if (i) {
                                            if (o || e) {
                                                if (o) {
                                                    for (c = [], l = v.length; l--; ) (d = v[l]) && c.push((g[l] = d));
                                                    o(null, (v = []), c, u);
                                                }
                                                for (l = v.length; l--; ) (d = v[l]) && -1 < (c = o ? at.call(i, d) : f[l]) && (i[c] = !(a[c] = d));
                                            }
                                        } else (v = Mt(v === a ? v.splice(m, v.length) : v)), o ? o(null, a, v, u) : ot.apply(a, v);
                                    })
                                );
                            }
                            function Ft(e) {
                                for (
                                    var t,
                                        n,
                                        r,
                                        o = e.length,
                                        i = Ne.relative[e[0].type],
                                        a = i || Ne.relative[" "],
                                        s = i ? 1 : 0,
                                        u = It(
                                            function (e) {
                                                return e === t;
                                            },
                                            a,
                                            !0
                                        ),
                                        c = It(
                                            function (e) {
                                                return -1 < at.call(t, e);
                                            },
                                            a,
                                            !0
                                        ),
                                        l = [
                                            function (e, n, r) {
                                                return (!i && (r || n !== Pe)) || ((t = n).nodeType ? u(e, n, r) : c(e, n, r));
                                            },
                                        ];
                                    s < o;
                                    s++
                                )
                                    if ((n = Ne.relative[e[s].type])) l = [It(Lt(l), n)];
                                    else {
                                        if ((n = Ne.filter[e[s].type].apply(null, e[s].matches))[Ve]) {
                                            for (r = ++s; r < o && !Ne.relative[e[r].type]; r++);
                                            return jt(
                                                1 < s && Lt(l),
                                                1 < s && Pt(e.slice(0, s - 1).concat({ value: " " === e[s - 2].type ? "*" : "" })).replace(dt, "$1"),
                                                n,
                                                s < r && Ft(e.slice(s, r)),
                                                r < o && Ft((e = e.slice(r))),
                                                r < o && Pt(e)
                                            );
                                        }
                                        l.push(n);
                                    }
                                return Lt(l);
                            }
                            (Bt.prototype = Ne.filters = Ne.pseudos),
                                (Ne.setFilters = new Bt()),
                                (De = Et.tokenize = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c = Xe[e + " "];
                                    if (c) return t ? 0 : c.slice(0);
                                    for (a = e, s = [], u = Ne.preFilter; a; ) {
                                        for (i in ((n && !(r = ft.exec(a))) || (r && (a = a.slice(r[0].length) || a), s.push((o = []))),
                                        (n = !1),
                                        (r = pt.exec(a)) && ((n = r.shift()), o.push({ value: n, type: r[0].replace(dt, " ") }), (a = a.slice(n.length))),
                                        Ne.filter))
                                            !(r = vt[i].exec(a)) || (u[i] && !(r = u[i](r))) || ((n = r.shift()), o.push({ value: n, type: i, matches: r }), (a = a.slice(n.length)));
                                        if (!n) break;
                                    }
                                    return t ? a.length : a ? Et.error(e) : Xe(e, s).slice(0);
                                }),
                                (Re = Et.compile = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u = [],
                                        c = [],
                                        l = Je[e + " "];
                                    if (!l) {
                                        for (t || (t = De(e)), n = t.length; n--; ) (l = Ft(t[n]))[Ve] ? u.push(l) : c.push(l);
                                        (l = Je(
                                            e,
                                            ((r = c),
                                            (i = 0 < (o = u).length),
                                            (a = 0 < r.length),
                                            (s = function (e, t, n, s, u) {
                                                var c,
                                                    l,
                                                    d,
                                                    f = 0,
                                                    p = "0",
                                                    m = e && [],
                                                    h = [],
                                                    g = Pe,
                                                    v = e || (a && Ne.find.TAG("*", u)),
                                                    b = (Ke += null == g ? 1 : Math.random() || 0.1),
                                                    y = v.length;
                                                for (u && (Pe = t !== je && t); p !== y && null != (c = v[p]); p++) {
                                                    if (a && c) {
                                                        for (l = 0; (d = r[l++]); )
                                                            if (d(c, t, n)) {
                                                                s.push(c);
                                                                break;
                                                            }
                                                        u && (Ke = b);
                                                    }
                                                    i && ((c = !d && c) && f--, e && m.push(c));
                                                }
                                                if (((f += p), i && p !== f)) {
                                                    for (l = 0; (d = o[l++]); ) d(m, h, t, n);
                                                    if (e) {
                                                        if (0 < f) for (; p--; ) m[p] || h[p] || (h[p] = nt.call(s));
                                                        h = Mt(h);
                                                    }
                                                    ot.apply(s, h), u && !e && 0 < h.length && 1 < f + o.length && Et.uniqueSort(s);
                                                }
                                                return u && ((Ke = b), (Pe = g)), m;
                                            }),
                                            i ? $t(s) : s)
                                        )).selector = e;
                                    }
                                    return l;
                                }),
                                (Be = Et.select = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c = "function" == typeof e && e,
                                        l = !r && De((e = c.selector || e));
                                    if (((n = n || []), 1 === l.length)) {
                                        if (2 < (i = l[0] = l[0].slice(0)).length && "ID" === (a = i[0]).type && $e.getById && 9 === t.nodeType && Ue && Ne.relative[i[1].type]) {
                                            if (!(t = (Ne.find.ID(a.matches[0].replace(kt, Tt), t) || [])[0])) return n;
                                            c && (t = t.parentNode), (e = e.slice(i.shift().value.length));
                                        }
                                        for (o = vt.needsContext.test(e) ? 0 : i.length; o-- && ((a = i[o]), !Ne.relative[(s = a.type)]); )
                                            if ((u = Ne.find[s]) && (r = u(a.matches[0].replace(kt, Tt), (xt.test(i[0].type) && Rt(t.parentNode)) || t))) {
                                                if ((i.splice(o, 1), !(e = r.length && Pt(i)))) return ot.apply(n, r), n;
                                                break;
                                            }
                                    }
                                    return (c || Re(e, l))(r, t, !Ue, n, (xt.test(e) && Rt(t.parentNode)) || t), n;
                                }),
                                ($e.sortStable = Ve.split("").sort(Qe).join("") === Ve),
                                ($e.detectDuplicates = !!Le),
                                Me(),
                                ($e.sortDetached = !0);
                            var Ut = Array.isArray,
                                Ht = function (e, t, n) {
                                    var r, o;
                                    if (!e) return 0;
                                    if (((n = n || e), void 0 !== e.length)) {
                                        for (r = 0, o = e.length; r < o; r++) if (!1 === t.call(n, e[r], r, e)) return 0;
                                    } else for (r in e) if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e)) return 0;
                                    return 1;
                                },
                                zt = function (e, t, n) {
                                    var r, o;
                                    for (r = 0, o = e.length; r < o; r++) if (t.call(n, e[r], r, e)) return r;
                                    return -1;
                                },
                                qt = {
                                    isArray: Ut,
                                    toArray: function (e) {
                                        var t,
                                            n,
                                            r = e;
                                        if (!Ut(e)) for (r = [], t = 0, n = e.length; t < n; t++) r[t] = e[t];
                                        return r;
                                    },
                                    each: Ht,
                                    map: function (e, t) {
                                        var n = [];
                                        return (
                                            Ht(e, function (r, o) {
                                                n.push(t(r, o, e));
                                            }),
                                            n
                                        );
                                    },
                                    filter: function (e, t) {
                                        var n = [];
                                        return (
                                            Ht(e, function (r, o) {
                                                (t && !t(r, o, e)) || n.push(r);
                                            }),
                                            n
                                        );
                                    },
                                    indexOf: function (e, t) {
                                        var n, r;
                                        if (e) for (n = 0, r = e.length; n < r; n++) if (e[n] === t) return n;
                                        return -1;
                                    },
                                    reduce: function (e, t, n, r) {
                                        var o = 0;
                                        for (arguments.length < 3 && (n = e[0]); o < e.length; o++) n = t.call(r, n, e[o], o);
                                        return n;
                                    },
                                    findIndex: zt,
                                    find: function (e, t, n) {
                                        var r = zt(e, t, n);
                                        return -1 !== r ? e[r] : void 0;
                                    },
                                    last: function (e) {
                                        return e[e.length - 1];
                                    },
                                },
                                Vt = /^\s*|\s*$/g,
                                Wt = function (e) {
                                    return null == e ? "" : ("" + e).replace(Vt, "");
                                },
                                Kt = function (e, t) {
                                    return t ? !("array" !== t || !qt.isArray(e)) || typeof e === t : void 0 !== e;
                                },
                                Gt = function (e, t, n, r) {
                                    (r = r || this),
                                        e &&
                                            (n && (e = e[n]),
                                            qt.each(e, function (e, o) {
                                                if (!1 === t.call(r, e, o, n)) return !1;
                                                Gt(e, t, n, r);
                                            }));
                                },
                                Yt = {
                                    trim: Wt,
                                    isArray: qt.isArray,
                                    is: Kt,
                                    toArray: qt.toArray,
                                    makeMap: function (e, t, n) {
                                        var r;
                                        for (t = t || ",", "string" == typeof (e = e || []) && (e = e.split(t)), n = n || {}, r = e.length; r--; ) n[e[r]] = {};
                                        return n;
                                    },
                                    each: qt.each,
                                    map: qt.map,
                                    grep: qt.filter,
                                    inArray: qt.indexOf,
                                    hasOwn: function (e, t) {
                                        return Object.prototype.hasOwnProperty.call(e, t);
                                    },
                                    extend: function (e, t) {
                                        for (var n, r, o, i = [], a = 2; a < arguments.length; a++) i[a - 2] = arguments[a];
                                        var s,
                                            u = arguments;
                                        for (n = 1, r = u.length; n < r; n++) for (o in (t = u[n])) t.hasOwnProperty(o) && void 0 !== (s = t[o]) && (e[o] = s);
                                        return e;
                                    },
                                    create: function (e, t, n) {
                                        var r,
                                            o,
                                            i,
                                            a,
                                            s,
                                            u = this,
                                            c = 0;
                                        if (((e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e)), (i = e[3].match(/(^|\.)(\w+)$/i)[2]), !(o = u.createNS(e[3].replace(/\.\w+$/, ""), n))[i])) {
                                            if ("static" === e[2]) return (o[i] = t), void (this.onCreate && this.onCreate(e[2], e[3], o[i]));
                                            t[i] || ((t[i] = function () {}), (c = 1)),
                                                (o[i] = t[i]),
                                                u.extend(o[i].prototype, t),
                                                e[5] &&
                                                    ((r = u.resolve(e[5]).prototype),
                                                    (a = e[5].match(/\.(\w+)$/i)[1]),
                                                    (s = o[i]),
                                                    (o[i] = c
                                                        ? function () {
                                                              return r[a].apply(this, arguments);
                                                          }
                                                        : function () {
                                                              return (this.parent = r[a]), s.apply(this, arguments);
                                                          }),
                                                    (o[i].prototype[i] = o[i]),
                                                    u.each(r, function (e, t) {
                                                        o[i].prototype[t] = r[t];
                                                    }),
                                                    u.each(t, function (e, t) {
                                                        r[t]
                                                            ? (o[i].prototype[t] = function () {
                                                                  return (this.parent = r[t]), e.apply(this, arguments);
                                                              })
                                                            : t !== i && (o[i].prototype[t] = e);
                                                    })),
                                                u.each(t.static, function (e, t) {
                                                    o[i][t] = e;
                                                });
                                        }
                                    },
                                    walk: Gt,
                                    createNS: function (e, n) {
                                        var r, o;
                                        for (n = n || t.window, e = e.split("."), r = 0; r < e.length; r++) n[(o = e[r])] || (n[o] = {}), (n = n[o]);
                                        return n;
                                    },
                                    resolve: function (e, n) {
                                        var r, o;
                                        for (n = n || t.window, r = 0, o = (e = e.split(".")).length; r < o && (n = n[e[r]]); r++);
                                        return n;
                                    },
                                    explode: function (e, t) {
                                        return !e || Kt(e, "array") ? e : qt.map(e.split(t || ","), Wt);
                                    },
                                    _addCacheSuffix: function (e) {
                                        var t = fe.cacheSuffix;
                                        return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
                                    },
                                },
                                Xt = t.document,
                                Jt = Array.prototype.push,
                                Qt = Array.prototype.slice,
                                Zt = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
                                en = Ee.Event,
                                tn = Yt.makeMap("children,contents,next,prev"),
                                nn = function (e) {
                                    return void 0 !== e;
                                },
                                rn = function (e) {
                                    return "string" == typeof e;
                                },
                                on = function (e, t) {
                                    var n, r, o;
                                    for (o = (t = t || Xt).createElement("div"), n = t.createDocumentFragment(), o.innerHTML = e; (r = o.firstChild); ) n.appendChild(r);
                                    return n;
                                },
                                an = function (e, t, n, r) {
                                    var o;
                                    if (rn(t)) t = on(t, wn(e[0]));
                                    else if (t.length && !t.nodeType) {
                                        if (((t = hn.makeArray(t)), r)) for (o = t.length - 1; 0 <= o; o--) an(e, t[o], n, r);
                                        else for (o = 0; o < t.length; o++) an(e, t[o], n, r);
                                        return e;
                                    }
                                    if (t.nodeType) for (o = e.length; o--; ) n.call(e[o], t);
                                    return e;
                                },
                                sn = function (e, t) {
                                    return e && t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ");
                                },
                                un = function (e, t, n) {
                                    var r, o;
                                    return (
                                        (t = hn(t)[0]),
                                        e.each(function () {
                                            var e = this;
                                            (n && r === e.parentNode) || ((r = e.parentNode), (o = t.cloneNode(!1)), e.parentNode.insertBefore(o, e)), o.appendChild(e);
                                        }),
                                        e
                                    );
                                },
                                cn = Yt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " "),
                                ln = Yt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " "),
                                dn = { for: "htmlFor", class: "className", readonly: "readOnly" },
                                fn = { float: "cssFloat" },
                                pn = {},
                                mn = {},
                                hn = function (e, t) {
                                    return new hn.fn.init(e, t);
                                },
                                gn = /^\s*|\s*$/g,
                                vn = function (e) {
                                    return null == e ? "" : ("" + e).replace(gn, "");
                                },
                                bn = function (e, t) {
                                    var n, r, o, i;
                                    if (e)
                                        if (void 0 === (n = e.length)) {
                                            for (r in e) if (e.hasOwnProperty(r) && ((i = e[r]), !1 === t.call(i, r, i))) break;
                                        } else for (o = 0; o < n && ((i = e[o]), !1 !== t.call(i, o, i)); o++);
                                    return e;
                                },
                                yn = function (e, t) {
                                    var n = [];
                                    return (
                                        bn(e, function (e, r) {
                                            t(r, e) && n.push(r);
                                        }),
                                        n
                                    );
                                },
                                wn = function (e) {
                                    return e ? (9 === e.nodeType ? e : e.ownerDocument) : Xt;
                                };
                            (hn.fn = hn.prototype = {
                                constructor: hn,
                                selector: "",
                                context: null,
                                length: 0,
                                init: function (e, n) {
                                    var r,
                                        o,
                                        i = this;
                                    if (!e) return i;
                                    if (e.nodeType) return (i.context = i[0] = e), (i.length = 1), i;
                                    if (n && n.nodeType) i.context = n;
                                    else {
                                        if (n) return hn(e).attr(n);
                                        i.context = n = t.document;
                                    }
                                    if (rn(e)) {
                                        if (!(r = "<" === (i.selector = e).charAt(0) && ">" === e.charAt(e.length - 1) && 3 <= e.length ? [null, e, null] : Zt.exec(e))) return hn(n).find(e);
                                        if (r[1]) for (o = on(e, wn(n)).firstChild; o; ) Jt.call(i, o), (o = o.nextSibling);
                                        else {
                                            if (!(o = wn(n).getElementById(r[2]))) return i;
                                            if (o.id !== r[2]) return i.find(e);
                                            (i.length = 1), (i[0] = o);
                                        }
                                    } else this.add(e, !1);
                                    return i;
                                },
                                toArray: function () {
                                    return Yt.toArray(this);
                                },
                                add: function (e, t) {
                                    var n,
                                        r,
                                        o = this;
                                    if (rn(e)) return o.add(hn(e));
                                    if (!1 !== t) for (n = hn.unique(o.toArray().concat(hn.makeArray(e))), o.length = n.length, r = 0; r < n.length; r++) o[r] = n[r];
                                    else Jt.apply(o, hn.makeArray(e));
                                    return o;
                                },
                                attr: function (e, t) {
                                    var n,
                                        r = this;
                                    if ("object" == typeof e)
                                        bn(e, function (e, t) {
                                            r.attr(e, t);
                                        });
                                    else {
                                        if (!nn(t)) {
                                            if (r[0] && 1 === r[0].nodeType) {
                                                if ((n = pn[e]) && n.get) return n.get(r[0], e);
                                                if (ln[e]) return r.prop(e) ? e : void 0;
                                                null === (t = r[0].getAttribute(e, 2)) && (t = void 0);
                                            }
                                            return t;
                                        }
                                        this.each(function () {
                                            var n;
                                            if (1 === this.nodeType) {
                                                if ((n = pn[e]) && n.set) return void n.set(this, t);
                                                null === t ? this.removeAttribute(e, 2) : this.setAttribute(e, t, 2);
                                            }
                                        });
                                    }
                                    return r;
                                },
                                removeAttr: function (e) {
                                    return this.attr(e, null);
                                },
                                prop: function (e, t) {
                                    var n = this;
                                    if ("object" == typeof (e = dn[e] || e))
                                        bn(e, function (e, t) {
                                            n.prop(e, t);
                                        });
                                    else {
                                        if (!nn(t)) return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                                        this.each(function () {
                                            1 === this.nodeType && (this[e] = t);
                                        });
                                    }
                                    return n;
                                },
                                css: function (e, t) {
                                    var n,
                                        r,
                                        o = this,
                                        i = function (e) {
                                            return e.replace(/-(\D)/g, function (e, t) {
                                                return t.toUpperCase();
                                            });
                                        },
                                        a = function (e) {
                                            return e.replace(/[A-Z]/g, function (e) {
                                                return "-" + e;
                                            });
                                        };
                                    if ("object" == typeof e)
                                        bn(e, function (e, t) {
                                            o.css(e, t);
                                        });
                                    else if (nn(t))
                                        (e = i(e)),
                                            "number" != typeof t || cn[e] || (t = t.toString() + "px"),
                                            o.each(function () {
                                                var n = this.style;
                                                if ((r = mn[e]) && r.set) r.set(this, t);
                                                else {
                                                    try {
                                                        this.style[fn[e] || e] = t;
                                                    } catch (e) {}
                                                    (null !== t && "" !== t) || (n.removeProperty ? n.removeProperty(a(e)) : n.removeAttribute(e));
                                                }
                                            });
                                    else {
                                        if (((n = o[0]), (r = mn[e]) && r.get)) return r.get(n);
                                        if (!n.ownerDocument.defaultView) return n.currentStyle ? n.currentStyle[i(e)] : "";
                                        try {
                                            return n.ownerDocument.defaultView.getComputedStyle(n, null).getPropertyValue(a(e));
                                        } catch (e) {
                                            return;
                                        }
                                    }
                                    return o;
                                },
                                remove: function () {
                                    for (var e, t = this.length; t--; ) (e = this[t]), en.clean(e), e.parentNode && e.parentNode.removeChild(e);
                                    return this;
                                },
                                empty: function () {
                                    for (var e, t = this.length; t--; ) for (e = this[t]; e.firstChild; ) e.removeChild(e.firstChild);
                                    return this;
                                },
                                html: function (e) {
                                    var t,
                                        n = this;
                                    if (nn(e)) {
                                        t = n.length;
                                        try {
                                            for (; t--; ) n[t].innerHTML = e;
                                        } catch (r) {
                                            hn(n[t]).empty().append(e);
                                        }
                                        return n;
                                    }
                                    return n[0] ? n[0].innerHTML : "";
                                },
                                text: function (e) {
                                    var t,
                                        n = this;
                                    if (nn(e)) {
                                        for (t = n.length; t--; ) "innerText" in n[t] ? (n[t].innerText = e) : (n[0].textContent = e);
                                        return n;
                                    }
                                    return n[0] ? n[0].innerText || n[0].textContent : "";
                                },
                                append: function () {
                                    return an(this, arguments, function (e) {
                                        (1 === this.nodeType || (this.host && 1 === this.host.nodeType)) && this.appendChild(e);
                                    });
                                },
                                prepend: function () {
                                    return an(
                                        this,
                                        arguments,
                                        function (e) {
                                            (1 === this.nodeType || (this.host && 1 === this.host.nodeType)) && this.insertBefore(e, this.firstChild);
                                        },
                                        !0
                                    );
                                },
                                before: function () {
                                    return this[0] && this[0].parentNode
                                        ? an(this, arguments, function (e) {
                                              this.parentNode.insertBefore(e, this);
                                          })
                                        : this;
                                },
                                after: function () {
                                    return this[0] && this[0].parentNode
                                        ? an(
                                              this,
                                              arguments,
                                              function (e) {
                                                  this.parentNode.insertBefore(e, this.nextSibling);
                                              },
                                              !0
                                          )
                                        : this;
                                },
                                appendTo: function (e) {
                                    return hn(e).append(this), this;
                                },
                                prependTo: function (e) {
                                    return hn(e).prepend(this), this;
                                },
                                replaceWith: function (e) {
                                    return this.before(e).remove();
                                },
                                wrap: function (e) {
                                    return un(this, e);
                                },
                                wrapAll: function (e) {
                                    return un(this, e, !0);
                                },
                                wrapInner: function (e) {
                                    return (
                                        this.each(function () {
                                            hn(this).contents().wrapAll(e);
                                        }),
                                        this
                                    );
                                },
                                unwrap: function () {
                                    return this.parent().each(function () {
                                        hn(this).replaceWith(this.childNodes);
                                    });
                                },
                                clone: function () {
                                    var e = [];
                                    return (
                                        this.each(function () {
                                            e.push(this.cloneNode(!0));
                                        }),
                                        hn(e)
                                    );
                                },
                                addClass: function (e) {
                                    return this.toggleClass(e, !0);
                                },
                                removeClass: function (e) {
                                    return this.toggleClass(e, !1);
                                },
                                toggleClass: function (e, t) {
                                    var n = this;
                                    return (
                                        "string" != typeof e ||
                                            (-1 !== e.indexOf(" ")
                                                ? bn(e.split(" "), function () {
                                                      n.toggleClass(this, t);
                                                  })
                                                : n.each(function (n, r) {
                                                      var o, i;
                                                      (i = sn(r, e)) !== t && ((o = r.className), i ? (r.className = vn((" " + o + " ").replace(" " + e + " ", " "))) : (r.className += o ? " " + e : e));
                                                  })),
                                        n
                                    );
                                },
                                hasClass: function (e) {
                                    return sn(this[0], e);
                                },
                                each: function (e) {
                                    return bn(this, e);
                                },
                                on: function (e, t) {
                                    return this.each(function () {
                                        en.bind(this, e, t);
                                    });
                                },
                                off: function (e, t) {
                                    return this.each(function () {
                                        en.unbind(this, e, t);
                                    });
                                },
                                trigger: function (e) {
                                    return this.each(function () {
                                        "object" == typeof e ? en.fire(this, e.type, e) : en.fire(this, e);
                                    });
                                },
                                show: function () {
                                    return this.css("display", "");
                                },
                                hide: function () {
                                    return this.css("display", "none");
                                },
                                slice: function () {
                                    return new hn(Qt.apply(this, arguments));
                                },
                                eq: function (e) {
                                    return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
                                },
                                first: function () {
                                    return this.eq(0);
                                },
                                last: function () {
                                    return this.eq(-1);
                                },
                                find: function (e) {
                                    var t,
                                        n,
                                        r = [];
                                    for (t = 0, n = this.length; t < n; t++) hn.find(e, this[t], r);
                                    return hn(r);
                                },
                                filter: function (e) {
                                    return hn(
                                        "function" == typeof e
                                            ? yn(this.toArray(), function (t, n) {
                                                  return e(n, t);
                                              })
                                            : hn.filter(e, this.toArray())
                                    );
                                },
                                closest: function (e) {
                                    var t = [];
                                    return (
                                        e instanceof hn && (e = e[0]),
                                        this.each(function (n, r) {
                                            for (; r; ) {
                                                if ("string" == typeof e && hn(r).is(e)) {
                                                    t.push(r);
                                                    break;
                                                }
                                                if (r === e) {
                                                    t.push(r);
                                                    break;
                                                }
                                                r = r.parentNode;
                                            }
                                        }),
                                        hn(t)
                                    );
                                },
                                offset: function (e) {
                                    var t,
                                        n,
                                        r,
                                        o,
                                        i = 0,
                                        a = 0;
                                    return e
                                        ? this.css(e)
                                        : ((t = this[0]) &&
                                              ((r = (n = t.ownerDocument).documentElement),
                                              t.getBoundingClientRect && ((i = (o = t.getBoundingClientRect()).left + (r.scrollLeft || n.body.scrollLeft) - r.clientLeft), (a = o.top + (r.scrollTop || n.body.scrollTop) - r.clientTop))),
                                          { left: i, top: a });
                                },
                                push: Jt,
                                sort: [].sort,
                                splice: [].splice,
                            }),
                                Yt.extend(hn, {
                                    extend: Yt.extend,
                                    makeArray: function (e) {
                                        return ((t = e) && t === t.window) || e.nodeType ? [e] : Yt.toArray(e);
                                        var t;
                                    },
                                    inArray: function (e, t) {
                                        var n;
                                        if (t.indexOf) return t.indexOf(e);
                                        for (n = t.length; n--; ) if (t[n] === e) return n;
                                        return -1;
                                    },
                                    isArray: Yt.isArray,
                                    each: bn,
                                    trim: vn,
                                    grep: yn,
                                    find: Et,
                                    expr: Et.selectors,
                                    unique: Et.uniqueSort,
                                    text: Et.getText,
                                    contains: Et.contains,
                                    filter: function (e, t, n) {
                                        var r = t.length;
                                        for (n && (e = ":not(" + e + ")"); r--; ) 1 !== t[r].nodeType && t.splice(r, 1);
                                        return 1 === t.length ? (hn.find.matchesSelector(t[0], e) ? [t[0]] : []) : hn.find.matches(e, t);
                                    },
                                });
                            var Cn = function (e, t, n) {
                                    var r = [],
                                        o = e[t];
                                    for ("string" != typeof n && n instanceof hn && (n = n[0]); o && 9 !== o.nodeType; ) {
                                        if (void 0 !== n) {
                                            if (o === n) break;
                                            if ("string" == typeof n && hn(o).is(n)) break;
                                        }
                                        1 === o.nodeType && r.push(o), (o = o[t]);
                                    }
                                    return r;
                                },
                                xn = function (e, t, n, r) {
                                    var o = [];
                                    for (r instanceof hn && (r = r[0]); e; e = e[t])
                                        if (!n || e.nodeType === n) {
                                            if (void 0 !== r) {
                                                if (e === r) break;
                                                if ("string" == typeof r && hn(e).is(r)) break;
                                            }
                                            o.push(e);
                                        }
                                    return o;
                                },
                                _n = function (e, t, n) {
                                    for (e = e[t]; e; e = e[t]) if (e.nodeType === n) return e;
                                    return null;
                                };
                            bn(
                                {
                                    parent: function (e) {
                                        var t = e.parentNode;
                                        return t && 11 !== t.nodeType ? t : null;
                                    },
                                    parents: function (e) {
                                        return Cn(e, "parentNode");
                                    },
                                    next: function (e) {
                                        return _n(e, "nextSibling", 1);
                                    },
                                    prev: function (e) {
                                        return _n(e, "previousSibling", 1);
                                    },
                                    children: function (e) {
                                        return xn(e.firstChild, "nextSibling", 1);
                                    },
                                    contents: function (e) {
                                        return Yt.toArray(("iframe" === e.nodeName ? e.contentDocument || e.contentWindow.document : e).childNodes);
                                    },
                                },
                                function (e, t) {
                                    hn.fn[e] = function (n) {
                                        var r = [];
                                        return (
                                            this.each(function () {
                                                var e = t.call(r, this, n, r);
                                                e && (hn.isArray(e) ? r.push.apply(r, e) : r.push(e));
                                            }),
                                            1 < this.length && (tn[e] || (r = hn.unique(r)), 0 === e.indexOf("parents") && (r = r.reverse())),
                                            (r = hn(r)),
                                            n ? r.filter(n) : r
                                        );
                                    };
                                }
                            ),
                                bn(
                                    {
                                        parentsUntil: function (e, t) {
                                            return Cn(e, "parentNode", t);
                                        },
                                        nextUntil: function (e, t) {
                                            return xn(e, "nextSibling", 1, t).slice(1);
                                        },
                                        prevUntil: function (e, t) {
                                            return xn(e, "previousSibling", 1, t).slice(1);
                                        },
                                    },
                                    function (e, t) {
                                        hn.fn[e] = function (n, r) {
                                            var o = [];
                                            return (
                                                this.each(function () {
                                                    var e = t.call(o, this, n, o);
                                                    e && (hn.isArray(e) ? o.push.apply(o, e) : o.push(e));
                                                }),
                                                1 < this.length && ((o = hn.unique(o)), (0 !== e.indexOf("parents") && "prevUntil" !== e) || (o = o.reverse())),
                                                (o = hn(o)),
                                                r ? o.filter(r) : o
                                            );
                                        };
                                    }
                                ),
                                (hn.fn.is = function (e) {
                                    return !!e && 0 < this.filter(e).length;
                                }),
                                (hn.fn.init.prototype = hn.fn),
                                (hn.overrideDefaults = function (e) {
                                    var t,
                                        n = function (r, o) {
                                            return (t = t || e()), 0 === arguments.length && (r = t.element), o || (o = t.context), new n.fn.init(r, o);
                                        };
                                    return hn.extend(n, this), n;
                                });
                            var kn = function (e, t, n) {
                                bn(n, function (n, r) {
                                    (e[n] = e[n] || {}), (e[n][t] = r);
                                });
                            };
                            fe.ie &&
                                fe.ie < 8 &&
                                (kn(pn, "get", {
                                    maxlength: function (e) {
                                        var t = e.maxLength;
                                        return 2147483647 === t ? void 0 : t;
                                    },
                                    size: function (e) {
                                        var t = e.size;
                                        return 20 === t ? void 0 : t;
                                    },
                                    class: function (e) {
                                        return e.className;
                                    },
                                    style: function (e) {
                                        var t = e.style.cssText;
                                        return 0 === t.length ? void 0 : t;
                                    },
                                }),
                                kn(pn, "set", {
                                    class: function (e, t) {
                                        e.className = t;
                                    },
                                    style: function (e, t) {
                                        e.style.cssText = t;
                                    },
                                })),
                                fe.ie &&
                                    fe.ie < 9 &&
                                    ((fn.float = "styleFloat"),
                                    kn(mn, "set", {
                                        opacity: function (e, t) {
                                            var n = e.style;
                                            null === t || "" === t ? n.removeAttribute("filter") : ((n.zoom = 1), (n.filter = "alpha(opacity=" + 100 * t + ")"));
                                        },
                                    })),
                                (hn.attrHooks = pn),
                                (hn.cssHooks = mn);
                            var Tn,
                                En,
                                Sn,
                                $n,
                                Nn,
                                An,
                                On = function () {
                                    return Dn(0, 0);
                                },
                                Dn = function (e, t) {
                                    return { major: e, minor: t };
                                },
                                Rn = function (e, t) {
                                    var n = String(t).toLowerCase();
                                    return 0 === e.length
                                        ? On()
                                        : (function (e, t) {
                                              var n = (function (e, t) {
                                                  for (var n = 0; n < e.length; n++) {
                                                      var r = e[n];
                                                      if (r.test(t)) return r;
                                                  }
                                              })(e, t);
                                              if (!n) return { major: 0, minor: 0 };
                                              var r = function (e) {
                                                  return Number(t.replace(n, "$" + e));
                                              };
                                              return Dn(r(1), r(2));
                                          })(e, n);
                                },
                                Bn = On,
                                Pn = "Firefox",
                                In = function (e, t) {
                                    return function () {
                                        return t === e;
                                    };
                                },
                                Ln = function (e) {
                                    var t = e.current;
                                    return { current: t, version: e.version, isEdge: In("Edge", t), isChrome: In("Chrome", t), isIE: In("IE", t), isOpera: In("Opera", t), isFirefox: In(Pn, t), isSafari: In("Safari", t) };
                                },
                                Mn = function () {
                                    return Ln({ current: void 0, version: Bn() });
                                },
                                jn = Ln,
                                Fn = (o("Edge"), o("Chrome"), o("IE"), o("Opera"), o(Pn), o("Safari"), "Windows"),
                                Un = "Android",
                                Hn = "Solaris",
                                zn = "FreeBSD",
                                qn = function (e, t) {
                                    return function () {
                                        return t === e;
                                    };
                                },
                                Vn = function (e) {
                                    var t = e.current;
                                    return { current: t, version: e.version, isWindows: qn(Fn, t), isiOS: qn("iOS", t), isAndroid: qn(Un, t), isOSX: qn("OSX", t), isLinux: qn("Linux", t), isSolaris: qn(Hn, t), isFreeBSD: qn(zn, t) };
                                },
                                Wn = function () {
                                    return Vn({ current: void 0, version: Bn() });
                                },
                                Kn = Vn,
                                Gn =
                                    (o(Fn),
                                    o("iOS"),
                                    o(Un),
                                    o("Linux"),
                                    o("OSX"),
                                    o(Hn),
                                    o(zn),
                                    function (e, t) {
                                        var n = String(t).toLowerCase();
                                        return Y(e, function (e) {
                                            return e.search(n);
                                        });
                                    }),
                                Yn = function (e, t) {
                                    return -1 !== e.indexOf(t);
                                },
                                Xn = function (e) {
                                    return e.replace(/^\s+|\s+$/g, "");
                                },
                                Jn = function (e) {
                                    return e.replace(/\s+$/g, "");
                                },
                                Qn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
                                Zn = function (e) {
                                    return function (t) {
                                        return Yn(t, e);
                                    };
                                },
                                er = [
                                    {
                                        name: "Edge",
                                        versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                                        search: function (e) {
                                            return Yn(e, "edge/") && Yn(e, "chrome") && Yn(e, "safari") && Yn(e, "applewebkit");
                                        },
                                    },
                                    {
                                        name: "Chrome",
                                        versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Qn],
                                        search: function (e) {
                                            return Yn(e, "chrome") && !Yn(e, "chromeframe");
                                        },
                                    },
                                    {
                                        name: "IE",
                                        versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                                        search: function (e) {
                                            return Yn(e, "msie") || Yn(e, "trident");
                                        },
                                    },
                                    { name: "Opera", versionRegexes: [Qn, /.*?opera\/([0-9]+)\.([0-9]+).*/], search: Zn("opera") },
                                    { name: "Firefox", versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/], search: Zn("firefox") },
                                    {
                                        name: "Safari",
                                        versionRegexes: [Qn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                                        search: function (e) {
                                            return (Yn(e, "safari") || Yn(e, "mobile/")) && Yn(e, "applewebkit");
                                        },
                                    },
                                ],
                                tr = [
                                    { name: "Windows", search: Zn("win"), versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/] },
                                    {
                                        name: "iOS",
                                        search: function (e) {
                                            return Yn(e, "iphone") || Yn(e, "ipad");
                                        },
                                        versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/],
                                    },
                                    { name: "Android", search: Zn("android"), versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/] },
                                    { name: "OSX", search: Zn("os x"), versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/] },
                                    { name: "Linux", search: Zn("linux"), versionRegexes: [] },
                                    { name: "Solaris", search: Zn("sunos"), versionRegexes: [] },
                                    { name: "FreeBSD", search: Zn("freebsd"), versionRegexes: [] },
                                ],
                                nr = { browsers: o(er), oses: o(tr) },
                                rr = function (e) {
                                    var t,
                                        n,
                                        r,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p = nr.browsers(),
                                        m = nr.oses(),
                                        h = (function (e, t) {
                                            return Gn(e, t).map(function (e) {
                                                var n = Rn(e.versionRegexes, t);
                                                return { current: e.name, version: n };
                                            });
                                        })(p, e).fold(Mn, jn),
                                        g = (function (e, t) {
                                            return Gn(e, t).map(function (e) {
                                                var n = Rn(e.versionRegexes, t);
                                                return { current: e.name, version: n };
                                            });
                                        })(m, e).fold(Wn, Kn);
                                    return {
                                        browser: h,
                                        os: g,
                                        deviceType:
                                            ((n = h),
                                            (r = e),
                                            (i = (t = g).isiOS() && !0 === /ipad/i.test(r)),
                                            (a = t.isiOS() && !i),
                                            (s = t.isAndroid() && 3 === t.version.major),
                                            (u = t.isAndroid() && 4 === t.version.major),
                                            (c = i || s || (u && !0 === /mobile/i.test(r))),
                                            (l = t.isiOS() || t.isAndroid()),
                                            (d = l && !c),
                                            (f = n.isSafari() && t.isiOS() && !1 === /safari/i.test(r)),
                                            { isiPad: o(i), isiPhone: o(a), isTablet: o(c), isPhone: o(d), isTouch: o(l), isAndroid: t.isAndroid, isiOS: t.isiOS, isWebView: o(f) }),
                                    };
                                },
                                or = {
                                    detect:
                                        ((Tn = function () {
                                            var e = t.navigator.userAgent;
                                            return rr(e);
                                        }),
                                        (Sn = !1),
                                        function () {
                                            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                            return Sn || ((Sn = !0), (En = Tn.apply(null, e))), En;
                                        }),
                                },
                                ir = function (e) {
                                    if (null == e) throw new Error("Node cannot be null or undefined");
                                    return { dom: o(e) };
                                },
                                ar = {
                                    fromHtml: function (e, n) {
                                        var r = (n || t.document).createElement("div");
                                        if (((r.innerHTML = e), !r.hasChildNodes() || 1 < r.childNodes.length)) throw (t.console.error("HTML does not have a single root node", e), new Error("HTML must have a single root node"));
                                        return ir(r.childNodes[0]);
                                    },
                                    fromTag: function (e, n) {
                                        var r = (n || t.document).createElement(e);
                                        return ir(r);
                                    },
                                    fromText: function (e, n) {
                                        var r = (n || t.document).createTextNode(e);
                                        return ir(r);
                                    },
                                    fromDom: ir,
                                    fromPoint: function (e, t, n) {
                                        var r = e.dom();
                                        return N.from(r.elementFromPoint(t, n)).map(ir);
                                    },
                                },
                                sr = (t.Node.ATTRIBUTE_NODE, t.Node.CDATA_SECTION_NODE, t.Node.COMMENT_NODE, t.Node.DOCUMENT_NODE),
                                ur = (t.Node.DOCUMENT_TYPE_NODE, t.Node.DOCUMENT_FRAGMENT_NODE, t.Node.ELEMENT_NODE),
                                cr = t.Node.TEXT_NODE,
                                lr =
                                    (t.Node.PROCESSING_INSTRUCTION_NODE,
                                    t.Node.ENTITY_REFERENCE_NODE,
                                    t.Node.ENTITY_NODE,
                                    t.Node.NOTATION_NODE,
                                    function (e) {
                                        return e.dom().nodeName.toLowerCase();
                                    }),
                                dr = function (e) {
                                    return function (t) {
                                        return t.dom().nodeType === e;
                                    };
                                },
                                fr = dr(ur),
                                pr = dr(cr),
                                mr = Object.keys,
                                hr = Object.hasOwnProperty,
                                gr = function (e, t) {
                                    for (var n = mr(e), r = 0, o = n.length; r < o; r++) {
                                        var i = n[r];
                                        t(e[i], i);
                                    }
                                },
                                vr = function (e, t) {
                                    var n = {},
                                        r = {};
                                    return (
                                        gr(e, function (e, o) {
                                            (t(e, o) ? n : r)[o] = e;
                                        }),
                                        { t: n, f: r }
                                    );
                                },
                                br = function (e, t) {
                                    return hr.call(e, t);
                                },
                                yr = function (e) {
                                    return void 0 !== e.style && I(e.style.getPropertyValue);
                                },
                                wr = function (e, n, r) {
                                    if (!(O(r) || P(r) || L(r))) throw (t.console.error("Invalid call to Attr.set. Key ", n, ":: Value ", r, ":: Element ", e), new Error("Attribute value was not simple"));
                                    e.setAttribute(n, r + "");
                                },
                                Cr = function (e, t, n) {
                                    wr(e.dom(), t, n);
                                },
                                xr = function (e, t) {
                                    var n = e.dom();
                                    gr(t, function (e, t) {
                                        wr(n, t, e);
                                    });
                                },
                                _r = function (e, t) {
                                    var n = e.dom().getAttribute(t);
                                    return null === n ? void 0 : n;
                                },
                                kr = function (e, t) {
                                    e.dom().removeAttribute(t);
                                },
                                Tr = function (e, n) {
                                    var r,
                                        o,
                                        i = e.dom(),
                                        a = t.window.getComputedStyle(i).getPropertyValue(n),
                                        s = "" !== a || (void 0 !== (o = pr((r = e)) ? r.dom().parentNode : r.dom()) && null !== o && o.ownerDocument.body.contains(o)) ? a : Er(i, n);
                                    return null === s ? void 0 : s;
                                },
                                Er = function (e, t) {
                                    return yr(e) ? e.style.getPropertyValue(t) : "";
                                },
                                Sr = function () {
                                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                    return function () {
                                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                                        if (e.length !== t.length) throw new Error('Wrong number of arguments to struct. Expected "[' + e.length + ']", got ' + t.length + " arguments");
                                        var r = {};
                                        return (
                                            V(e, function (e, n) {
                                                r[e] = o(t[n]);
                                            }),
                                            r
                                        );
                                    };
                                },
                                $r = function (e, t) {
                                    for (
                                        var n = [],
                                            r = function (e) {
                                                return n.push(e), t(e);
                                            },
                                            o = t(e);
                                        (o = o.bind(r)).isSome();

                                    );
                                    return n;
                                },
                                Nr = function (e, t) {
                                    return (function (e, t, n) {
                                        return 0 != (e.compareDocumentPosition(t) & n);
                                    })(e, t, oe.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY);
                                },
                                Ar = ur,
                                Or = sr,
                                Dr = function (e, t) {
                                    var n = e.dom();
                                    if (n.nodeType !== Ar) return !1;
                                    var r = n;
                                    if (void 0 !== r.matches) return r.matches(t);
                                    if (void 0 !== r.msMatchesSelector) return r.msMatchesSelector(t);
                                    if (void 0 !== r.webkitMatchesSelector) return r.webkitMatchesSelector(t);
                                    if (void 0 !== r.mozMatchesSelector) return r.mozMatchesSelector(t);
                                    throw new Error("Browser lacks native selectors");
                                },
                                Rr = function (e) {
                                    return (e.nodeType !== Ar && e.nodeType !== Or) || 0 === e.childElementCount;
                                },
                                Br = function (e, t) {
                                    return e.dom() === t.dom();
                                },
                                Pr = or.detect().browser.isIE()
                                    ? function (e, t) {
                                          return Nr(e.dom(), t.dom());
                                      }
                                    : function (e, t) {
                                          var n = e.dom(),
                                              r = t.dom();
                                          return n !== r && n.contains(r);
                                      },
                                Ir = function (e) {
                                    return ar.fromDom(e.dom().ownerDocument);
                                },
                                Lr = function (e) {
                                    return ar.fromDom(e.dom().ownerDocument.defaultView);
                                },
                                Mr = function (e) {
                                    return N.from(e.dom().parentNode).map(ar.fromDom);
                                },
                                jr = function (e) {
                                    return N.from(e.dom().previousSibling).map(ar.fromDom);
                                },
                                Fr = function (e) {
                                    return N.from(e.dom().nextSibling).map(ar.fromDom);
                                },
                                Ur = function (e) {
                                    return (t = $r(e, jr)), (n = M.call(t, 0)).reverse(), n;
                                    var t, n;
                                },
                                Hr = function (e) {
                                    return $r(e, Fr);
                                },
                                zr = function (e) {
                                    return q(e.dom().childNodes, ar.fromDom);
                                },
                                qr = function (e, t) {
                                    var n = e.dom().childNodes;
                                    return N.from(n[t]).map(ar.fromDom);
                                },
                                Vr = function (e) {
                                    return qr(e, 0);
                                },
                                Wr = function (e) {
                                    return qr(e, e.dom().childNodes.length - 1);
                                },
                                Kr = (Sr("element", "offset"), or.detect().browser),
                                Gr = function (e) {
                                    return Y(e, fr);
                                },
                                Yr = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a = 0,
                                        s = 0,
                                        u = e.ownerDocument;
                                    if (((n = n || e), t)) {
                                        if (n === e && t.getBoundingClientRect && "static" === Tr(ar.fromDom(e), "position"))
                                            return {
                                                x: (a = (o = t.getBoundingClientRect()).left + (u.documentElement.scrollLeft || e.scrollLeft) - u.documentElement.clientLeft),
                                                y: (s = o.top + (u.documentElement.scrollTop || e.scrollTop) - u.documentElement.clientTop),
                                            };
                                        for (r = t; r && r !== n && r.nodeType; ) (a += r.offsetLeft || 0), (s += r.offsetTop || 0), (r = r.offsetParent);
                                        for (r = t.parentNode; r && r !== n && r.nodeType; ) (a -= r.scrollLeft || 0), (s -= r.scrollTop || 0), (r = r.parentNode);
                                        s +=
                                            ((i = ar.fromDom(t)),
                                            Kr.isFirefox() && "table" === lr(i)
                                                ? Gr(zr(i))
                                                      .filter(function (e) {
                                                          return "caption" === lr(e);
                                                      })
                                                      .bind(function (e) {
                                                          return Gr(Hr(e)).map(function (t) {
                                                              var n = t.dom().offsetTop,
                                                                  r = e.dom().offsetTop,
                                                                  o = e.dom().offsetHeight;
                                                              return n <= r ? -o : 0;
                                                          });
                                                      })
                                                      .getOr(0)
                                                : 0);
                                    }
                                    return { x: a, y: s };
                                },
                                Xr = {},
                                Jr = { exports: Xr };
                            ($n = void 0),
                                (Nn = Xr),
                                (An = Jr),
                                (function (e) {
                                    "object" == typeof Nn && void 0 !== An
                                        ? (An.exports = e())
                                        : "function" == typeof $n && $n.amd
                                        ? $n([], e)
                                        : (("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).EphoxContactWrapper = e());
                                })(function () {
                                    return (function e(t, n, r) {
                                        function o(a, s) {
                                            if (!n[a]) {
                                                if (!t[a]) {
                                                    var u = !1;
                                                    if (!s && u) return u(a, !0);
                                                    if (i) return i(a, !0);
                                                    var c = new Error("Cannot find module '" + a + "'");
                                                    throw ((c.code = "MODULE_NOT_FOUND"), c);
                                                }
                                                var l = (n[a] = { exports: {} });
                                                t[a][0].call(
                                                    l.exports,
                                                    function (e) {
                                                        return o(t[a][1][e] || e);
                                                    },
                                                    l,
                                                    l.exports,
                                                    e,
                                                    t,
                                                    n,
                                                    r
                                                );
                                            }
                                            return n[a].exports;
                                        }
                                        for (var i = !1, a = 0; a < r.length; a++) o(r[a]);
                                        return o;
                                    })(
                                        {
                                            1: [
                                                function (e, t, n) {
                                                    var r,
                                                        o,
                                                        i = (t.exports = {});
                                                    function a() {
                                                        throw new Error("setTimeout has not been defined");
                                                    }
                                                    function s() {
                                                        throw new Error("clearTimeout has not been defined");
                                                    }
                                                    function u(e) {
                                                        if (r === setTimeout) return setTimeout(e, 0);
                                                        if ((r === a || !r) && setTimeout) return (r = setTimeout), setTimeout(e, 0);
                                                        try {
                                                            return r(e, 0);
                                                        } catch (t) {
                                                            try {
                                                                return r.call(null, e, 0);
                                                            } catch (t) {
                                                                return r.call(this, e, 0);
                                                            }
                                                        }
                                                    }
                                                    !(function () {
                                                        try {
                                                            r = "function" == typeof setTimeout ? setTimeout : a;
                                                        } catch (e) {
                                                            r = a;
                                                        }
                                                        try {
                                                            o = "function" == typeof clearTimeout ? clearTimeout : s;
                                                        } catch (e) {
                                                            o = s;
                                                        }
                                                    })();
                                                    var c,
                                                        l = [],
                                                        d = !1,
                                                        f = -1;
                                                    function p() {
                                                        d && c && ((d = !1), c.length ? (l = c.concat(l)) : (f = -1), l.length && m());
                                                    }
                                                    function m() {
                                                        if (!d) {
                                                            var e = u(p);
                                                            d = !0;
                                                            for (var t = l.length; t; ) {
                                                                for (c = l, l = []; ++f < t; ) c && c[f].run();
                                                                (f = -1), (t = l.length);
                                                            }
                                                            (c = null),
                                                                (d = !1),
                                                                (function (e) {
                                                                    if (o === clearTimeout) return clearTimeout(e);
                                                                    if ((o === s || !o) && clearTimeout) return (o = clearTimeout), clearTimeout(e);
                                                                    try {
                                                                        o(e);
                                                                    } catch (t) {
                                                                        try {
                                                                            return o.call(null, e);
                                                                        } catch (t) {
                                                                            return o.call(this, e);
                                                                        }
                                                                    }
                                                                })(e);
                                                        }
                                                    }
                                                    function h(e, t) {
                                                        (this.fun = e), (this.array = t);
                                                    }
                                                    function g() {}
                                                    (i.nextTick = function (e) {
                                                        var t = new Array(arguments.length - 1);
                                                        if (1 < arguments.length) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                                                        l.push(new h(e, t)), 1 !== l.length || d || u(m);
                                                    }),
                                                        (h.prototype.run = function () {
                                                            this.fun.apply(null, this.array);
                                                        }),
                                                        (i.title = "browser"),
                                                        (i.browser = !0),
                                                        (i.env = {}),
                                                        (i.argv = []),
                                                        (i.version = ""),
                                                        (i.versions = {}),
                                                        (i.on = g),
                                                        (i.addListener = g),
                                                        (i.once = g),
                                                        (i.off = g),
                                                        (i.removeListener = g),
                                                        (i.removeAllListeners = g),
                                                        (i.emit = g),
                                                        (i.prependListener = g),
                                                        (i.prependOnceListener = g),
                                                        (i.listeners = function (e) {
                                                            return [];
                                                        }),
                                                        (i.binding = function (e) {
                                                            throw new Error("process.binding is not supported");
                                                        }),
                                                        (i.cwd = function () {
                                                            return "/";
                                                        }),
                                                        (i.chdir = function (e) {
                                                            throw new Error("process.chdir is not supported");
                                                        }),
                                                        (i.umask = function () {
                                                            return 0;
                                                        });
                                                },
                                                {},
                                            ],
                                            2: [
                                                function (e, t, n) {
                                                    (function (e) {
                                                        !(function (n) {
                                                            var r = setTimeout;
                                                            function o() {}
                                                            function i(e) {
                                                                if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
                                                                if ("function" != typeof e) throw new TypeError("not a function");
                                                                (this._state = 0), (this._handled = !1), (this._value = void 0), (this._deferreds = []), d(e, this);
                                                            }
                                                            function a(e, t) {
                                                                for (; 3 === e._state; ) e = e._value;
                                                                0 !== e._state
                                                                    ? ((e._handled = !0),
                                                                      i._immediateFn(function () {
                                                                          var n = 1 === e._state ? t.onFulfilled : t.onRejected;
                                                                          if (null !== n) {
                                                                              var r;
                                                                              try {
                                                                                  r = n(e._value);
                                                                              } catch (e) {
                                                                                  return void u(t.promise, e);
                                                                              }
                                                                              s(t.promise, r);
                                                                          } else (1 === e._state ? s : u)(t.promise, e._value);
                                                                      }))
                                                                    : e._deferreds.push(t);
                                                            }
                                                            function s(e, t) {
                                                                try {
                                                                    if (t === e) throw new TypeError("A promise cannot be resolved with itself.");
                                                                    if (t && ("object" == typeof t || "function" == typeof t)) {
                                                                        var n = t.then;
                                                                        if (t instanceof i) return (e._state = 3), (e._value = t), void c(e);
                                                                        if ("function" == typeof n)
                                                                            return void d(
                                                                                ((r = n),
                                                                                (o = t),
                                                                                function () {
                                                                                    r.apply(o, arguments);
                                                                                }),
                                                                                e
                                                                            );
                                                                    }
                                                                    (e._state = 1), (e._value = t), c(e);
                                                                } catch (t) {
                                                                    u(e, t);
                                                                }
                                                                var r, o;
                                                            }
                                                            function u(e, t) {
                                                                (e._state = 2), (e._value = t), c(e);
                                                            }
                                                            function c(e) {
                                                                2 === e._state &&
                                                                    0 === e._deferreds.length &&
                                                                    i._immediateFn(function () {
                                                                        e._handled || i._unhandledRejectionFn(e._value);
                                                                    });
                                                                for (var t = 0, n = e._deferreds.length; t < n; t++) a(e, e._deferreds[t]);
                                                                e._deferreds = null;
                                                            }
                                                            function l(e, t, n) {
                                                                (this.onFulfilled = "function" == typeof e ? e : null), (this.onRejected = "function" == typeof t ? t : null), (this.promise = n);
                                                            }
                                                            function d(e, t) {
                                                                var n = !1;
                                                                try {
                                                                    e(
                                                                        function (e) {
                                                                            n || ((n = !0), s(t, e));
                                                                        },
                                                                        function (e) {
                                                                            n || ((n = !0), u(t, e));
                                                                        }
                                                                    );
                                                                } catch (e) {
                                                                    if (n) return;
                                                                    (n = !0), u(t, e);
                                                                }
                                                            }
                                                            (i.prototype.catch = function (e) {
                                                                return this.then(null, e);
                                                            }),
                                                                (i.prototype.then = function (e, t) {
                                                                    var n = new this.constructor(o);
                                                                    return a(this, new l(e, t, n)), n;
                                                                }),
                                                                (i.all = function (e) {
                                                                    var t = Array.prototype.slice.call(e);
                                                                    return new i(function (e, n) {
                                                                        if (0 === t.length) return e([]);
                                                                        var r = t.length;
                                                                        function o(i, a) {
                                                                            try {
                                                                                if (a && ("object" == typeof a || "function" == typeof a)) {
                                                                                    var s = a.then;
                                                                                    if ("function" == typeof s)
                                                                                        return void s.call(
                                                                                            a,
                                                                                            function (e) {
                                                                                                o(i, e);
                                                                                            },
                                                                                            n
                                                                                        );
                                                                                }
                                                                                (t[i] = a), 0 == --r && e(t);
                                                                            } catch (e) {
                                                                                n(e);
                                                                            }
                                                                        }
                                                                        for (var i = 0; i < t.length; i++) o(i, t[i]);
                                                                    });
                                                                }),
                                                                (i.resolve = function (e) {
                                                                    return e && "object" == typeof e && e.constructor === i
                                                                        ? e
                                                                        : new i(function (t) {
                                                                              t(e);
                                                                          });
                                                                }),
                                                                (i.reject = function (e) {
                                                                    return new i(function (t, n) {
                                                                        n(e);
                                                                    });
                                                                }),
                                                                (i.race = function (e) {
                                                                    return new i(function (t, n) {
                                                                        for (var r = 0, o = e.length; r < o; r++) e[r].then(t, n);
                                                                    });
                                                                }),
                                                                (i._immediateFn =
                                                                    "function" == typeof e
                                                                        ? function (t) {
                                                                              e(t);
                                                                          }
                                                                        : function (e) {
                                                                              r(e, 0);
                                                                          }),
                                                                (i._unhandledRejectionFn = function (e) {
                                                                    "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", e);
                                                                }),
                                                                (i._setImmediateFn = function (e) {
                                                                    i._immediateFn = e;
                                                                }),
                                                                (i._setUnhandledRejectionFn = function (e) {
                                                                    i._unhandledRejectionFn = e;
                                                                }),
                                                                void 0 !== t && t.exports ? (t.exports = i) : n.Promise || (n.Promise = i);
                                                        })(this);
                                                    }.call(this, e("timers").setImmediate));
                                                },
                                                { timers: 3 },
                                            ],
                                            3: [
                                                function (e, t, n) {
                                                    (function (t, r) {
                                                        var o = e("process/browser.js").nextTick,
                                                            i = Function.prototype.apply,
                                                            a = Array.prototype.slice,
                                                            s = {},
                                                            u = 0;
                                                        function c(e, t) {
                                                            (this._id = e), (this._clearFn = t);
                                                        }
                                                        (n.setTimeout = function () {
                                                            return new c(i.call(setTimeout, window, arguments), clearTimeout);
                                                        }),
                                                            (n.setInterval = function () {
                                                                return new c(i.call(setInterval, window, arguments), clearInterval);
                                                            }),
                                                            (n.clearTimeout = n.clearInterval = function (e) {
                                                                e.close();
                                                            }),
                                                            (c.prototype.unref = c.prototype.ref = function () {}),
                                                            (c.prototype.close = function () {
                                                                this._clearFn.call(window, this._id);
                                                            }),
                                                            (n.enroll = function (e, t) {
                                                                clearTimeout(e._idleTimeoutId), (e._idleTimeout = t);
                                                            }),
                                                            (n.unenroll = function (e) {
                                                                clearTimeout(e._idleTimeoutId), (e._idleTimeout = -1);
                                                            }),
                                                            (n._unrefActive = n.active = function (e) {
                                                                clearTimeout(e._idleTimeoutId);
                                                                var t = e._idleTimeout;
                                                                0 <= t &&
                                                                    (e._idleTimeoutId = setTimeout(function () {
                                                                        e._onTimeout && e._onTimeout();
                                                                    }, t));
                                                            }),
                                                            (n.setImmediate =
                                                                "function" == typeof t
                                                                    ? t
                                                                    : function (e) {
                                                                          var t = u++,
                                                                              r = !(arguments.length < 2) && a.call(arguments, 1);
                                                                          return (
                                                                              (s[t] = !0),
                                                                              o(function () {
                                                                                  s[t] && (r ? e.apply(null, r) : e.call(null), n.clearImmediate(t));
                                                                              }),
                                                                              t
                                                                          );
                                                                      }),
                                                            (n.clearImmediate =
                                                                "function" == typeof r
                                                                    ? r
                                                                    : function (e) {
                                                                          delete s[e];
                                                                      });
                                                    }.call(this, e("timers").setImmediate, e("timers").clearImmediate));
                                                },
                                                { "process/browser.js": 1, timers: 3 },
                                            ],
                                            4: [
                                                function (e, t, n) {
                                                    var r = e("promise-polyfill"),
                                                        o = "undefined" != typeof window ? window : Function("return this;")();
                                                    t.exports = { boltExport: o.Promise || r };
                                                },
                                                { "promise-polyfill": 2 },
                                            ],
                                        },
                                        {},
                                        [4]
                                    )(4);
                                });
                            var Qr = Jr.exports.boltExport,
                                Zr = function (e) {
                                    var n = N.none(),
                                        r = [],
                                        o = function (e) {
                                            i() ? a(e) : r.push(e);
                                        },
                                        i = function () {
                                            return n.isSome();
                                        },
                                        a = function (e) {
                                            n.each(function (n) {
                                                t.setTimeout(function () {
                                                    e(n);
                                                }, 0);
                                            });
                                        };
                                    return (
                                        e(function (e) {
                                            (n = N.some(e)),
                                                (function (e) {
                                                    V(e, a);
                                                })(r),
                                                (r = []);
                                        }),
                                        {
                                            get: o,
                                            map: function (e) {
                                                return Zr(function (t) {
                                                    o(function (n) {
                                                        t(e(n));
                                                    });
                                                });
                                            },
                                            isReady: i,
                                        }
                                    );
                                },
                                eo = {
                                    nu: Zr,
                                    pure: function (e) {
                                        return Zr(function (t) {
                                            t(e);
                                        });
                                    },
                                },
                                to = function (e) {
                                    t.setTimeout(function () {
                                        throw e;
                                    }, 0);
                                },
                                no = function (e) {
                                    var t = function (t) {
                                        e().then(t, to);
                                    };
                                    return {
                                        map: function (t) {
                                            return no(function () {
                                                return e().then(t);
                                            });
                                        },
                                        bind: function (t) {
                                            return no(function () {
                                                return e().then(function (e) {
                                                    return t(e).toPromise();
                                                });
                                            });
                                        },
                                        anonBind: function (t) {
                                            return no(function () {
                                                return e().then(function () {
                                                    return t.toPromise();
                                                });
                                            });
                                        },
                                        toLazy: function () {
                                            return eo.nu(t);
                                        },
                                        toCached: function () {
                                            var t = null;
                                            return no(function () {
                                                return null === t && (t = e()), t;
                                            });
                                        },
                                        toPromise: e,
                                        get: t,
                                    };
                                },
                                ro = function (e) {
                                    return no(function () {
                                        return new Qr(e);
                                    });
                                },
                                oo = function (e) {
                                    return (function (e, t) {
                                        return t(function (t) {
                                            var n = [],
                                                r = 0;
                                            0 === e.length
                                                ? t([])
                                                : V(e, function (o, i) {
                                                      var a;
                                                      o.get(
                                                          ((a = i),
                                                          function (o) {
                                                              (n[a] = o), ++r >= e.length && t(n);
                                                          })
                                                      );
                                                  });
                                        });
                                    })(e, ro);
                                },
                                io = function (e) {
                                    return {
                                        is: function (t) {
                                            return e === t;
                                        },
                                        isValue: T,
                                        isError: k,
                                        getOr: o(e),
                                        getOrThunk: o(e),
                                        getOrDie: o(e),
                                        or: function (t) {
                                            return io(e);
                                        },
                                        orThunk: function (t) {
                                            return io(e);
                                        },
                                        fold: function (t, n) {
                                            return n(e);
                                        },
                                        map: function (t) {
                                            return io(t(e));
                                        },
                                        mapError: function (t) {
                                            return io(e);
                                        },
                                        each: function (t) {
                                            t(e);
                                        },
                                        bind: function (t) {
                                            return t(e);
                                        },
                                        exists: function (t) {
                                            return t(e);
                                        },
                                        forall: function (t) {
                                            return t(e);
                                        },
                                        toOption: function () {
                                            return N.some(e);
                                        },
                                    };
                                },
                                ao = function (e) {
                                    return {
                                        is: k,
                                        isValue: k,
                                        isError: T,
                                        getOr: i,
                                        getOrThunk: function (e) {
                                            return e();
                                        },
                                        getOrDie: function () {
                                            return (
                                                (t = String(e)),
                                                (function () {
                                                    throw new Error(t);
                                                })()
                                            );
                                            var t;
                                        },
                                        or: function (e) {
                                            return e;
                                        },
                                        orThunk: function (e) {
                                            return e();
                                        },
                                        fold: function (t, n) {
                                            return t(e);
                                        },
                                        map: function (t) {
                                            return ao(e);
                                        },
                                        mapError: function (t) {
                                            return ao(t(e));
                                        },
                                        each: n,
                                        bind: function (t) {
                                            return ao(e);
                                        },
                                        exists: k,
                                        forall: T,
                                        toOption: N.none,
                                    };
                                },
                                so = {
                                    value: io,
                                    error: ao,
                                    fromOption: function (e, t) {
                                        return e.fold(function () {
                                            return ao(t);
                                        }, io);
                                    },
                                };
                            function uo(e, t) {
                                var n = e,
                                    r = function (e, n, r, o) {
                                        var i, a;
                                        if (e) {
                                            if (!o && e[n]) return e[n];
                                            if (e !== t) {
                                                if ((i = e[r])) return i;
                                                for (a = e.parentNode; a && a !== t; a = a.parentNode) if ((i = a[r])) return i;
                                            }
                                        }
                                    };
                                (this.current = function () {
                                    return n;
                                }),
                                    (this.next = function (e) {
                                        return (n = r(n, "firstChild", "nextSibling", e));
                                    }),
                                    (this.prev = function (e) {
                                        return (n = r(n, "lastChild", "previousSibling", e));
                                    }),
                                    (this.prev2 = function (e) {
                                        return (n = (function (e, n, r, o) {
                                            var i, a, s;
                                            if (e) {
                                                if (((i = e.previousSibling), t && i === t)) return;
                                                if (i) {
                                                    if (!o) for (s = i[n]; s; s = s[n]) if (!s[n]) return s;
                                                    return i;
                                                }
                                                if ((a = e.parentNode) && a !== t) return a;
                                            }
                                        })(n, "lastChild", 0, e));
                                    });
                            }
                            var co,
                                lo,
                                fo,
                                po = function (e) {
                                    var t;
                                    return function (n) {
                                        return (t =
                                            t ||
                                            (function (e, t) {
                                                for (var n = {}, r = 0, o = e.length; r < o; r++) {
                                                    var i = e[r];
                                                    n[String(i)] = t(i, r);
                                                }
                                                return n;
                                            })(e, o(!0))).hasOwnProperty(lr(n));
                                    };
                                },
                                mo = po(["h1", "h2", "h3", "h4", "h5", "h6"]),
                                ho = po([
                                    "article",
                                    "aside",
                                    "details",
                                    "div",
                                    "dt",
                                    "figcaption",
                                    "footer",
                                    "form",
                                    "fieldset",
                                    "header",
                                    "hgroup",
                                    "html",
                                    "main",
                                    "nav",
                                    "section",
                                    "summary",
                                    "body",
                                    "p",
                                    "dl",
                                    "multicol",
                                    "dd",
                                    "figure",
                                    "address",
                                    "center",
                                    "blockquote",
                                    "h1",
                                    "h2",
                                    "h3",
                                    "h4",
                                    "h5",
                                    "h6",
                                    "listing",
                                    "xmp",
                                    "pre",
                                    "plaintext",
                                    "menu",
                                    "dir",
                                    "ul",
                                    "ol",
                                    "li",
                                    "hr",
                                    "table",
                                    "tbody",
                                    "thead",
                                    "tfoot",
                                    "th",
                                    "tr",
                                    "td",
                                    "caption",
                                ]),
                                go = function (e) {
                                    return fr(e) && !ho(e);
                                },
                                vo = function (e) {
                                    return fr(e) && "br" === lr(e);
                                },
                                bo = po(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"]),
                                yo = po(["ul", "ol", "dl"]),
                                wo = po(["li", "dd", "dt"]),
                                Co = po(["area", "base", "basefont", "br", "col", "frame", "hr", "img", "input", "isindex", "link", "meta", "param", "embed", "source", "wbr", "track"]),
                                xo = po(["thead", "tbody", "tfoot"]),
                                _o = po(["td", "th"]),
                                ko = po(["pre", "script", "textarea", "style"]),
                                To = function (e) {
                                    return function (t) {
                                        return !!t && t.nodeType === e;
                                    };
                                },
                                Eo = To(1),
                                So = function (e) {
                                    var t = e.toLowerCase().split(" ");
                                    return function (e) {
                                        var n, r;
                                        if (e && e.nodeType) for (r = e.nodeName.toLowerCase(), n = 0; n < t.length; n++) if (r === t[n]) return !0;
                                        return !1;
                                    };
                                },
                                $o = function (e) {
                                    return function (t) {
                                        if (Eo(t)) {
                                            if (t.contentEditable === e) return !0;
                                            if (t.getAttribute("data-mce-contenteditable") === e) return !0;
                                        }
                                        return !1;
                                    };
                                },
                                No = To(3),
                                Ao = To(8),
                                Oo = To(9),
                                Do = To(11),
                                Ro = So("br"),
                                Bo = $o("true"),
                                Po = $o("false"),
                                Io = {
                                    isText: No,
                                    isElement: Eo,
                                    isComment: Ao,
                                    isDocument: Oo,
                                    isDocumentFragment: Do,
                                    isBr: Ro,
                                    isContentEditableTrue: Bo,
                                    isContentEditableFalse: Po,
                                    isRestrictedNode: function (e) {
                                        return !!e && !Object.getPrototypeOf(e);
                                    },
                                    matchNodeNames: So,
                                    hasPropValue: function (e, t) {
                                        return function (n) {
                                            return Eo(n) && n[e] === t;
                                        };
                                    },
                                    hasAttribute: function (e, t) {
                                        return function (t) {
                                            return Eo(t) && t.hasAttribute(e);
                                        };
                                    },
                                    hasAttributeValue: function (e, t) {
                                        return function (n) {
                                            return Eo(n) && n.getAttribute(e) === t;
                                        };
                                    },
                                    matchStyleValues: function (e, t) {
                                        var n = t.toLowerCase().split(" ");
                                        return function (t) {
                                            var r;
                                            if (Eo(t))
                                                for (r = 0; r < n.length; r++) {
                                                    var o = t.ownerDocument.defaultView.getComputedStyle(t, null);
                                                    if ((o ? o.getPropertyValue(e) : null) === n[r]) return !0;
                                                }
                                            return !1;
                                        };
                                    },
                                    isBogus: function (e) {
                                        return Eo(e) && e.hasAttribute("data-mce-bogus");
                                    },
                                    isBogusAll: function (e) {
                                        return Eo(e) && "all" === e.getAttribute("data-mce-bogus");
                                    },
                                    isTable: function (e) {
                                        return Eo(e) && "TABLE" === e.tagName;
                                    },
                                },
                                Lo = function (e) {
                                    return e && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
                                },
                                Mo = function (e, t) {
                                    var n,
                                        r = t.childNodes;
                                    if (!Io.isElement(t) || !Lo(t)) {
                                        for (n = r.length - 1; 0 <= n; n--) Mo(e, r[n]);
                                        if (!1 === Io.isDocument(t)) {
                                            if (Io.isText(t) && 0 < t.nodeValue.length) {
                                                var o = Yt.trim(t.nodeValue).length;
                                                if (e.isBlock(t.parentNode) || 0 < o) return;
                                                if (0 === o && ((a = (i = t).previousSibling && "SPAN" === i.previousSibling.nodeName), (s = i.nextSibling && "SPAN" === i.nextSibling.nodeName), a && s)) return;
                                            } else if (Io.isElement(t) && (1 === (r = t.childNodes).length && Lo(r[0]) && t.parentNode.insertBefore(r[0], t), r.length || Co(ar.fromDom(t)))) return;
                                            e.remove(t);
                                        }
                                        var i, a, s;
                                        return t;
                                    }
                                },
                                jo = { trimNode: Mo },
                                Fo = Yt.makeMap,
                                Uo = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
                                Ho = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
                                zo = /[<>&\"\']/g,
                                qo = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
                                Vo = {
                                    128: "",
                                    130: "",
                                    131: "",
                                    132: "",
                                    133: "",
                                    134: "",
                                    135: "",
                                    136: "",
                                    137: "",
                                    138: "",
                                    139: "",
                                    140: "",
                                    142: "",
                                    145: "",
                                    146: "",
                                    147: "",
                                    148: "",
                                    149: "",
                                    150: "",
                                    151: "",
                                    152: "",
                                    153: "",
                                    154: "",
                                    155: "",
                                    156: "",
                                    158: "",
                                    159: "",
                                };
                            (lo = { '"': "&quot;", "'": "&#39;", "<": "&lt;", ">": "&gt;", "&": "&amp;", "`": "&#96;" }), (fo = { "&lt;": "<", "&gt;": ">", "&amp;": "&", "&quot;": '"', "&apos;": "'" });
                            var Wo = function (e, t) {
                                var n,
                                    r,
                                    o,
                                    i = {};
                                if (e) {
                                    for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2) (r = String.fromCharCode(parseInt(e[n], t))), lo[r] || ((o = "&" + e[n + 1] + ";"), (i[r] = o), (i[o] = r));
                                    return i;
                                }
                            };
                            co = Wo(
                                "50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
                                32
                            );
                            var Ko = function (e, t) {
                                    return e.replace(t ? Uo : Ho, function (e) {
                                        return lo[e] || e;
                                    });
                                },
                                Go = function (e, t) {
                                    return e.replace(t ? Uo : Ho, function (e) {
                                        return 1 < e.length ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";" : lo[e] || "&#" + e.charCodeAt(0) + ";";
                                    });
                                },
                                Yo = function (e, t, n) {
                                    return (
                                        (n = n || co),
                                        e.replace(t ? Uo : Ho, function (e) {
                                            return lo[e] || n[e] || e;
                                        })
                                    );
                                },
                                Xo = {
                                    encodeRaw: Ko,
                                    encodeAllRaw: function (e) {
                                        return ("" + e).replace(zo, function (e) {
                                            return lo[e] || e;
                                        });
                                    },
                                    encodeNumeric: Go,
                                    encodeNamed: Yo,
                                    getEncodeFunc: function (e, t) {
                                        var n = Wo(t) || co,
                                            r = Fo(e.replace(/\+/g, ","));
                                        return r.named && r.numeric
                                            ? function (e, t) {
                                                  return e.replace(t ? Uo : Ho, function (e) {
                                                      return void 0 !== lo[e]
                                                          ? lo[e]
                                                          : void 0 !== n[e]
                                                          ? n[e]
                                                          : 1 < e.length
                                                          ? "&#" + (1024 * (e.charCodeAt(0) - 55296) + (e.charCodeAt(1) - 56320) + 65536) + ";"
                                                          : "&#" + e.charCodeAt(0) + ";";
                                                  });
                                              }
                                            : r.named
                                            ? t
                                                ? function (e, t) {
                                                      return Yo(e, t, n);
                                                  }
                                                : Yo
                                            : r.numeric
                                            ? Go
                                            : Ko;
                                    },
                                    decode: function (e) {
                                        return e.replace(qo, function (e, t) {
                                            return t
                                                ? 65535 < (t = "x" === t.charAt(0).toLowerCase() ? parseInt(t.substr(1), 16) : parseInt(t, 10))
                                                    ? ((t -= 65536), String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t)))
                                                    : Vo[t] || String.fromCharCode(t)
                                                : fo[e] || co[e] || ((n = e), ((r = ar.fromTag("div").dom()).innerHTML = n), r.textContent || r.innerText || n);
                                            var n, r;
                                        });
                                    },
                                },
                                Jo = {},
                                Qo = {},
                                Zo = Yt.makeMap,
                                ei = Yt.each,
                                ti = Yt.extend,
                                ni = Yt.explode,
                                ri = Yt.inArray,
                                oi = function (e, t) {
                                    return (e = Yt.trim(e)) ? e.split(t || " ") : [];
                                },
                                ii = function (e) {
                                    var t,
                                        n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s = {},
                                        u = function (e, n, r) {
                                            var o,
                                                i,
                                                a,
                                                u = function (e, t) {
                                                    var n,
                                                        r,
                                                        o = {};
                                                    for (n = 0, r = e.length; n < r; n++) o[e[n]] = t || {};
                                                    return o;
                                                };
                                            for (n = n || "", "string" == typeof (r = r || []) && (r = oi(r)), o = (e = oi(e)).length; o--; )
                                                (a = { attributes: u((i = oi([t, n].join(" ")))), attributesOrder: i, children: u(r, Qo) }), (s[e[o]] = a);
                                        },
                                        c = function (e, t) {
                                            var n, r, o, i;
                                            for (n = (e = oi(e)).length, t = oi(t); n--; ) for (r = s[e[n]], o = 0, i = t.length; o < i; o++) (r.attributes[t[o]] = {}), r.attributesOrder.push(t[o]);
                                        };
                                    return Jo[e]
                                        ? Jo[e]
                                        : ((t = "id accesskey class dir lang style tabindex title role"),
                                          (n = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),
                                          (r = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),
                                          "html4" !== e &&
                                              ((t += " contenteditable contextmenu draggable dropzone hidden spellcheck translate"),
                                              (n += " article aside details dialog figure main header footer hgroup section nav"),
                                              (r += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen")),
                                          "html5-strict" !== e &&
                                              ((t += " xml:lang"),
                                              (r = [r, (a = "acronym applet basefont big font strike tt")].join(" ")),
                                              ei(oi(a), function (e) {
                                                  u(e, "", r);
                                              }),
                                              (n = [n, (i = "center dir isindex noframes")].join(" ")),
                                              (o = [n, r].join(" ")),
                                              ei(oi(i), function (e) {
                                                  u(e, "", o);
                                              })),
                                          (o = o || [n, r].join(" ")),
                                          u("html", "manifest", "head body"),
                                          u("head", "", "base command link meta noscript script style title"),
                                          u("title hr noscript br"),
                                          u("base", "href target"),
                                          u("link", "href rel media hreflang type sizes hreflang"),
                                          u("meta", "name http-equiv content charset"),
                                          u("style", "media type scoped"),
                                          u("script", "src async defer type charset"),
                                          u(
                                              "body",
                                              "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",
                                              o
                                          ),
                                          u("address dt dd div caption", "", o),
                                          u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", r),
                                          u("blockquote", "cite", o),
                                          u("ol", "reversed start type", "li"),
                                          u("ul", "", "li"),
                                          u("li", "value", o),
                                          u("dl", "", "dt dd"),
                                          u("a", "href target rel media hreflang type", r),
                                          u("q", "cite", r),
                                          u("ins del", "cite datetime", o),
                                          u("img", "src sizes srcset alt usemap ismap width height"),
                                          u("iframe", "src name width height", o),
                                          u("embed", "src type width height"),
                                          u("object", "data type typemustmatch name usemap form width height", [o, "param"].join(" ")),
                                          u("param", "name value"),
                                          u("map", "name", [o, "area"].join(" ")),
                                          u("area", "alt coords shape href target rel media hreflang type"),
                                          u("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === e ? " col" : "")),
                                          u("colgroup", "span", "col"),
                                          u("col", "span"),
                                          u("tbody thead tfoot", "", "tr"),
                                          u("tr", "", "td th"),
                                          u("td", "colspan rowspan headers", o),
                                          u("th", "colspan rowspan headers scope abbr", o),
                                          u("form", "accept-charset action autocomplete enctype method name novalidate target", o),
                                          u("fieldset", "disabled form name", [o, "legend"].join(" ")),
                                          u("label", "form for", r),
                                          u(
                                              "input",
                                              "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"
                                          ),
                                          u("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === e ? o : r),
                                          u("select", "disabled form multiple name required size", "option optgroup"),
                                          u("optgroup", "disabled label", "option"),
                                          u("option", "disabled label selected value"),
                                          u("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"),
                                          u("menu", "type label", [o, "li"].join(" ")),
                                          u("noscript", "", o),
                                          "html4" !== e &&
                                              (u("wbr"),
                                              u("ruby", "", [r, "rt rp"].join(" ")),
                                              u("figcaption", "", o),
                                              u("mark rt rp summary bdi", "", r),
                                              u("canvas", "width height", o),
                                              u("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [o, "track source"].join(" ")),
                                              u("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [o, "track source"].join(" ")),
                                              u("picture", "", "img source"),
                                              u("source", "src srcset type media sizes"),
                                              u("track", "kind src srclang label default"),
                                              u("datalist", "", [r, "option"].join(" ")),
                                              u("article section nav aside main header footer", "", o),
                                              u("hgroup", "", "h1 h2 h3 h4 h5 h6"),
                                              u("figure", "", [o, "figcaption"].join(" ")),
                                              u("time", "datetime", r),
                                              u("dialog", "open", o),
                                              u("command", "type label icon disabled checked radiogroup command"),
                                              u("output", "for form name", r),
                                              u("progress", "value max", r),
                                              u("meter", "value min max low high optimum", r),
                                              u("details", "open", [o, "summary"].join(" ")),
                                              u("keygen", "autofocus challenge disabled form keytype name")),
                                          "html5-strict" !== e &&
                                              (c("script", "language xml:space"),
                                              c("style", "xml:space"),
                                              c("object", "declare classid code codebase codetype archive standby align border hspace vspace"),
                                              c("embed", "align name hspace vspace"),
                                              c("param", "valuetype type"),
                                              c("a", "charset name rev shape coords"),
                                              c("br", "clear"),
                                              c("applet", "codebase archive code object alt name width height align hspace vspace"),
                                              c("img", "name longdesc align border hspace vspace"),
                                              c("iframe", "longdesc frameborder marginwidth marginheight scrolling align"),
                                              c("font basefont", "size color face"),
                                              c("input", "usemap align"),
                                              c("select", "onchange"),
                                              c("textarea"),
                                              c("h1 h2 h3 h4 h5 h6 div p legend caption", "align"),
                                              c("ul", "type compact"),
                                              c("li", "type"),
                                              c("ol dl menu dir", "compact"),
                                              c("pre", "width xml:space"),
                                              c("hr", "align noshade size width"),
                                              c("isindex", "prompt"),
                                              c("table", "summary width frame rules cellspacing cellpadding align bgcolor"),
                                              c("col", "width align char charoff valign"),
                                              c("colgroup", "width align char charoff valign"),
                                              c("thead", "align char charoff valign"),
                                              c("tr", "align char charoff valign bgcolor"),
                                              c("th", "axis align char charoff valign nowrap bgcolor width height"),
                                              c("form", "accept"),
                                              c("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"),
                                              c("tfoot", "align char charoff valign"),
                                              c("tbody", "align char charoff valign"),
                                              c("area", "nohref"),
                                              c("body", "background bgcolor text link vlink alink")),
                                          "html4" !== e &&
                                              (c("input button select textarea", "autofocus"), c("input textarea", "placeholder"), c("a", "download"), c("link script img", "crossorigin"), c("iframe", "sandbox seamless allowfullscreen")),
                                          ei(oi("a form meter progress dfn"), function (e) {
                                              s[e] && delete s[e].children[e];
                                          }),
                                          delete s.caption.children.table,
                                          delete s.script,
                                          (Jo[e] = s));
                                },
                                ai = function (e, t) {
                                    var n;
                                    return (
                                        e &&
                                            ((n = {}),
                                            "string" == typeof e && (e = { "*": e }),
                                            ei(e, function (e, r) {
                                                n[r] = n[r.toUpperCase()] = "map" === t ? Zo(e, /[, ]/) : ni(e, /[, ]/);
                                            })),
                                        n
                                    );
                                };
                            function si(e) {
                                var t,
                                    n,
                                    r,
                                    o,
                                    i,
                                    a,
                                    s,
                                    u,
                                    c,
                                    l,
                                    d,
                                    f,
                                    p,
                                    m = {},
                                    h = {},
                                    g = [],
                                    v = {},
                                    b = {},
                                    y = function (t, n, r) {
                                        var o = e[t];
                                        return o ? (o = Zo(o, /[, ]/, Zo(o.toUpperCase(), /[, ]/))) : (o = Jo[t]) || ((o = Zo(n, " ", Zo(n.toUpperCase(), " "))), (o = ti(o, r)), (Jo[t] = o)), o;
                                    };
                                (r = ii((e = e || {}).schema)),
                                    !1 === e.verify_html && (e.valid_elements = "*[*]"),
                                    (t = ai(e.valid_styles)),
                                    (n = ai(e.invalid_styles, "map")),
                                    (u = ai(e.valid_classes, "map")),
                                    (o = y("whitespace_elements", "pre script noscript style textarea video audio iframe object code")),
                                    (i = y("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr")),
                                    (a = y("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track")),
                                    (s = y("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls")),
                                    (l = y("non_empty_elements", "td th iframe video audio object script pre code", a)),
                                    (d = y("move_caret_before_on_enter_elements", "table", l)),
                                    (f = y("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure")),
                                    (c = y("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", f)),
                                    (p = y("text_inline_elements", "span strong b em i font strike u var cite dfn code mark q sup sub samp")),
                                    ei((e.special || "script noscript iframe noframes noembed title style textarea xmp").split(" "), function (e) {
                                        b[e] = new RegExp("</" + e + "[^>]*>", "gi");
                                    });
                                var w = function (e) {
                                        return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$");
                                    },
                                    C = function (e) {
                                        var t,
                                            n,
                                            r,
                                            o,
                                            i,
                                            a,
                                            s,
                                            u,
                                            c,
                                            l,
                                            d,
                                            f,
                                            p,
                                            h,
                                            v,
                                            b,
                                            y,
                                            C,
                                            x,
                                            _ = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                                            k = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                                            T = /[*?+]/;
                                        if (e)
                                            for (e = oi(e, ","), m["@"] && ((b = m["@"].attributes), (y = m["@"].attributesOrder)), t = 0, n = e.length; t < n; t++)
                                                if ((i = _.exec(e[t]))) {
                                                    if (
                                                        ((h = i[1]),
                                                        (c = i[2]),
                                                        (v = i[3]),
                                                        (u = i[5]),
                                                        (a = { attributes: (f = {}), attributesOrder: (p = []) }),
                                                        "#" === h && (a.paddEmpty = !0),
                                                        "-" === h && (a.removeEmpty = !0),
                                                        "!" === i[4] && (a.removeEmptyAttrs = !0),
                                                        b)
                                                    ) {
                                                        for (C in b) f[C] = b[C];
                                                        p.push.apply(p, y);
                                                    }
                                                    if (u)
                                                        for (r = 0, o = (u = oi(u, "|")).length; r < o; r++)
                                                            if ((i = k.exec(u[r]))) {
                                                                if (
                                                                    ((s = {}),
                                                                    (d = i[1]),
                                                                    (l = i[2].replace(/[\\:]:/g, ":")),
                                                                    (h = i[3]),
                                                                    (x = i[4]),
                                                                    "!" === d && ((a.attributesRequired = a.attributesRequired || []), a.attributesRequired.push(l), (s.required = !0)),
                                                                    "-" === d)
                                                                ) {
                                                                    delete f[l], p.splice(ri(p, l), 1);
                                                                    continue;
                                                                }
                                                                h &&
                                                                    ("=" === h && ((a.attributesDefault = a.attributesDefault || []), a.attributesDefault.push({ name: l, value: x }), (s.defaultValue = x)),
                                                                    ":" === h && ((a.attributesForced = a.attributesForced || []), a.attributesForced.push({ name: l, value: x }), (s.forcedValue = x)),
                                                                    "<" === h && (s.validValues = Zo(x, "?"))),
                                                                    T.test(l) ? ((a.attributePatterns = a.attributePatterns || []), (s.pattern = w(l)), a.attributePatterns.push(s)) : (f[l] || p.push(l), (f[l] = s));
                                                            }
                                                    b || "@" !== c || ((b = f), (y = p)), v && ((a.outputName = c), (m[v] = a)), T.test(c) ? ((a.pattern = w(c)), g.push(a)) : (m[c] = a);
                                                }
                                    },
                                    x = function (e) {
                                        (m = {}),
                                            (g = []),
                                            C(e),
                                            ei(r, function (e, t) {
                                                h[t] = e.children;
                                            });
                                    },
                                    _ = function (e) {
                                        var t = /^(~)?(.+)$/;
                                        e &&
                                            ((Jo.text_block_elements = Jo.block_elements = null),
                                            ei(oi(e, ","), function (e) {
                                                var n = t.exec(e),
                                                    r = "~" === n[1],
                                                    o = r ? "span" : "div",
                                                    i = n[2];
                                                if (((h[i] = h[o]), (v[i] = o), r || ((c[i.toUpperCase()] = {}), (c[i] = {})), !m[i])) {
                                                    var a = m[o];
                                                    delete (a = ti({}, a)).removeEmptyAttrs, delete a.removeEmpty, (m[i] = a);
                                                }
                                                ei(h, function (e, t) {
                                                    e[o] && ((h[t] = e = ti({}, h[t])), (e[i] = e[o]));
                                                });
                                            }));
                                    },
                                    k = function (t) {
                                        var n = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                                        (Jo[e.schema] = null),
                                            t &&
                                                ei(oi(t, ","), function (e) {
                                                    var t,
                                                        r,
                                                        o = n.exec(e);
                                                    o &&
                                                        ((r = o[1]),
                                                        (t = r ? h[o[2]] : (h[o[2]] = { "#comment": {} })),
                                                        (t = h[o[2]]),
                                                        ei(oi(o[3], "|"), function (e) {
                                                            "-" === r ? delete t[e] : (t[e] = {});
                                                        }));
                                                });
                                    },
                                    T = function (e) {
                                        var t,
                                            n = m[e];
                                        if (n) return n;
                                        for (t = g.length; t--; ) if ((n = g[t]).pattern.test(e)) return n;
                                    };
                                return (
                                    e.valid_elements
                                        ? x(e.valid_elements)
                                        : (ei(r, function (e, t) {
                                              (m[t] = { attributes: e.attributes, attributesOrder: e.attributesOrder }), (h[t] = e.children);
                                          }),
                                          "html5" !== e.schema &&
                                              ei(oi("strong/b em/i"), function (e) {
                                                  (e = oi(e, "/")), (m[e[1]].outputName = e[0]);
                                              }),
                                          ei(oi("ol ul sub sup blockquote span font a table tbody tr strong em b i"), function (e) {
                                              m[e] && (m[e].removeEmpty = !0);
                                          }),
                                          ei(oi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function (e) {
                                              m[e].paddEmpty = !0;
                                          }),
                                          ei(oi("span"), function (e) {
                                              m[e].removeEmptyAttrs = !0;
                                          })),
                                    _(e.custom_elements),
                                    k(e.valid_children),
                                    C(e.extended_valid_elements),
                                    k("+ol[ul|ol],+ul[ul|ol]"),
                                    ei(
                                        { dd: "dl", dt: "dl", li: "ul ol", td: "tr", th: "tr", tr: "tbody thead tfoot", tbody: "table", thead: "table", tfoot: "table", legend: "fieldset", area: "map", param: "video audio object" },
                                        function (e, t) {
                                            m[t] && (m[t].parentsRequired = oi(e));
                                        }
                                    ),
                                    e.invalid_elements &&
                                        ei(ni(e.invalid_elements), function (e) {
                                            m[e] && delete m[e];
                                        }),
                                    T("span") || C("span[!data-mce-type|*]"),
                                    {
                                        children: h,
                                        elements: m,
                                        getValidStyles: function () {
                                            return t;
                                        },
                                        getValidClasses: function () {
                                            return u;
                                        },
                                        getBlockElements: function () {
                                            return c;
                                        },
                                        getInvalidStyles: function () {
                                            return n;
                                        },
                                        getShortEndedElements: function () {
                                            return a;
                                        },
                                        getTextBlockElements: function () {
                                            return f;
                                        },
                                        getTextInlineElements: function () {
                                            return p;
                                        },
                                        getBoolAttrs: function () {
                                            return s;
                                        },
                                        getElementRule: T,
                                        getSelfClosingElements: function () {
                                            return i;
                                        },
                                        getNonEmptyElements: function () {
                                            return l;
                                        },
                                        getMoveCaretBeforeOnEnterElements: function () {
                                            return d;
                                        },
                                        getWhiteSpaceElements: function () {
                                            return o;
                                        },
                                        getSpecialElements: function () {
                                            return b;
                                        },
                                        isValidChild: function (e, t) {
                                            var n = h[e.toLowerCase()];
                                            return !(!n || !n[t.toLowerCase()]);
                                        },
                                        isValid: function (e, t) {
                                            var n,
                                                r,
                                                o = T(e);
                                            if (o) {
                                                if (!t) return !0;
                                                if (o.attributes[t]) return !0;
                                                if ((n = o.attributePatterns)) for (r = n.length; r--; ) if (n[r].pattern.test(e)) return !0;
                                            }
                                            return !1;
                                        },
                                        getCustomElements: function () {
                                            return v;
                                        },
                                        addValidElements: C,
                                        setValidElements: x,
                                        addCustomElements: _,
                                        addValidChildren: k,
                                    }
                                );
                            }
                            var ui = function (e, t, n, r) {
                                var o = function (e) {
                                    return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
                                };
                                return "#" + o(t) + o(n) + o(r);
                            };
                            function ci(e, t) {
                                var n,
                                    r,
                                    o,
                                    i,
                                    a = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
                                    s = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
                                    u = /\s*([^:]+):\s*([^;]+);?/g,
                                    c = /\s+$/,
                                    l = {},
                                    d = "\ufeff";
                                for (e = e || {}, t && ((o = t.getValidStyles()), (i = t.getInvalidStyles())), r = "\\\" \\' \\; \\: ; : \ufeff".split(" "), n = 0; n < r.length; n++) (l[r[n]] = d + n), (l[d + n] = r[n]);
                                return {
                                    toHex: function (e) {
                                        return e.replace(a, ui);
                                    },
                                    parse: function (t) {
                                        var r,
                                            o,
                                            i,
                                            f,
                                            p,
                                            m,
                                            h,
                                            g = {},
                                            v = e.url_converter,
                                            b = e.url_converter_scope || this,
                                            y = function (e, t, r) {
                                                var o, i, a, s;
                                                if ((o = g[e + "-top" + t]) && (i = g[e + "-right" + t]) && (a = g[e + "-bottom" + t]) && (s = g[e + "-left" + t])) {
                                                    var u = [o, i, a, s];
                                                    for (n = u.length - 1; n-- && u[n] === u[n + 1]; );
                                                    (-1 < n && r) || ((g[e + t] = -1 === n ? u[0] : u.join(" ")), delete g[e + "-top" + t], delete g[e + "-right" + t], delete g[e + "-bottom" + t], delete g[e + "-left" + t]);
                                                }
                                            },
                                            w = function (e) {
                                                var t,
                                                    n = g[e];
                                                if (n) {
                                                    for (t = (n = n.split(" ")).length; t--; ) if (n[t] !== n[0]) return !1;
                                                    return (g[e] = n[0]), !0;
                                                }
                                            },
                                            C = function (e) {
                                                return (f = !0), l[e];
                                            },
                                            x = function (e, t) {
                                                return (
                                                    f &&
                                                        (e = e.replace(/\uFEFF[0-9]/g, function (e) {
                                                            return l[e];
                                                        })),
                                                    t || (e = e.replace(/\\([\'\";:])/g, "$1")),
                                                    e
                                                );
                                            },
                                            _ = function (e) {
                                                return String.fromCharCode(parseInt(e.slice(1), 16));
                                            },
                                            k = function (e) {
                                                return e.replace(/\\[0-9a-f]+/gi, _);
                                            },
                                            T = function (t, n, r, o, i, a) {
                                                if ((i = i || a)) return "'" + (i = x(i)).replace(/\'/g, "\\'") + "'";
                                                if (((n = x(n || r || o)), !e.allow_script_urls)) {
                                                    var s = n.replace(/[\s\r\n]+/g, "");
                                                    if (/(java|vb)script:/i.test(s)) return "";
                                                    if (!e.allow_svg_data_urls && /^data:image\/svg/i.test(s)) return "";
                                                }
                                                return v && (n = v.call(b, n, "style")), "url('" + n.replace(/\'/g, "\\'") + "')";
                                            };
                                        if (t) {
                                            for (
                                                t = (t = t.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, C).replace(/\"[^\"]+\"|\'[^\']+\'/g, function (e) {
                                                    return e.replace(/[;:]/g, C);
                                                });
                                                (r = u.exec(t));

                                            )
                                                if (((u.lastIndex = r.index + r[0].length), (o = r[1].replace(c, "").toLowerCase()), (i = r[2].replace(c, "")), o && i)) {
                                                    if (((o = k(o)), (i = k(i)), -1 !== o.indexOf(d) || -1 !== o.indexOf('"'))) continue;
                                                    if (!e.allow_script_urls && ("behavior" === o || /expression\s*\(|\/\*|\*\//.test(i))) continue;
                                                    "font-weight" === o && "700" === i ? (i = "bold") : ("color" !== o && "background-color" !== o) || (i = i.toLowerCase()),
                                                        (i = (i = i.replace(a, ui)).replace(s, T)),
                                                        (g[o] = f ? x(i, !0) : i);
                                                }
                                            y("border", "", !0),
                                                y("border", "-width"),
                                                y("border", "-color"),
                                                y("border", "-style"),
                                                y("padding", ""),
                                                y("margin", ""),
                                                "border",
                                                (m = "border-style"),
                                                (h = "border-color"),
                                                w((p = "border-width")) && w(m) && w(h) && ((g.border = g[p] + " " + g[m] + " " + g[h]), delete g[p], delete g[m], delete g[h]),
                                                "medium none" === g.border && delete g.border,
                                                "none" === g["border-image"] && delete g["border-image"];
                                        }
                                        return g;
                                    },
                                    serialize: function (e, t) {
                                        var n,
                                            r,
                                            a,
                                            s,
                                            u,
                                            c = "",
                                            l = function (t) {
                                                var n, r, i, a;
                                                if ((n = o[t])) for (r = 0, i = n.length; r < i; r++) (t = n[r]), (a = e[t]) && (c += (0 < c.length ? " " : "") + t + ": " + a + ";");
                                            };
                                        if (t && o) l("*"), l(t);
                                        else for (n in e) !(r = e[n]) || (i && ((a = n), (s = t), (u = void 0), ((u = i["*"]) && u[a]) || ((u = i[s]) && u[a]))) || (c += (0 < c.length ? " " : "") + n + ": " + r + ";");
                                        return c;
                                    },
                                };
                            }
                            var li,
                                di = Yt.each,
                                fi = Yt.grep,
                                pi = fe.ie,
                                mi = /^([a-z0-9],?)+$/i,
                                hi = /^[ \t\r\n]*$/,
                                gi = function (e, t) {
                                    var n = t.attr("style"),
                                        r = e.serialize(e.parse(n), t[0].nodeName);
                                    r || (r = null), t.attr("data-mce-style", r);
                                },
                                vi = function (e, t) {
                                    var n,
                                        r,
                                        o = 0;
                                    if (e) for (n = e.nodeType, e = e.previousSibling; e; e = e.previousSibling) (r = e.nodeType), (!t || 3 !== r || (r !== n && e.nodeValue.length)) && (o++, (n = r));
                                    return o;
                                };
                            function bi(e, n) {
                                var a,
                                    s = this;
                                void 0 === n && (n = {});
                                var u = {},
                                    c = t.window,
                                    l = {},
                                    d = 0,
                                    f = (function (e, n) {
                                        void 0 === n && (n = {});
                                        var a,
                                            s = 0,
                                            u = {};
                                        a = n.maxLoadTime || 5e3;
                                        var c = function (t) {
                                                e.getElementsByTagName("head")[0].appendChild(t);
                                            },
                                            l = function (r, o, i) {
                                                var l,
                                                    d,
                                                    f,
                                                    p,
                                                    m = function () {
                                                        for (var e = p.passed, t = e.length; t--; ) e[t]();
                                                        (p.status = 2), (p.passed = []), (p.failed = []);
                                                    },
                                                    h = function () {
                                                        for (var e = p.failed, t = e.length; t--; ) e[t]();
                                                        (p.status = 3), (p.passed = []), (p.failed = []);
                                                    },
                                                    g = function (e, t) {
                                                        e() || (new Date().getTime() - f < a ? ve.setTimeout(t) : h());
                                                    },
                                                    v = function () {
                                                        g(function () {
                                                            for (var t, n, r = e.styleSheets, o = r.length; o--; ) if ((n = (t = r[o]).ownerNode ? t.ownerNode : t.owningElement) && n.id === l.id) return m(), !0;
                                                        }, v);
                                                    },
                                                    b = function () {
                                                        g(function () {
                                                            try {
                                                                var e = d.sheet.cssRules;
                                                                return m(), !!e;
                                                            } catch (e) {}
                                                        }, b);
                                                    };
                                                if (((r = Yt._addCacheSuffix(r)), u[r] ? (p = u[r]) : ((p = { passed: [], failed: [] }), (u[r] = p)), o && p.passed.push(o), i && p.failed.push(i), 1 !== p.status))
                                                    if (2 !== p.status)
                                                        if (3 !== p.status) {
                                                            if (
                                                                ((p.status = 1),
                                                                ((l = e.createElement("link")).rel = "stylesheet"),
                                                                (l.type = "text/css"),
                                                                (l.id = "u" + s++),
                                                                (l.async = !1),
                                                                (l.defer = !1),
                                                                (f = new Date().getTime()),
                                                                n.contentCssCors && (l.crossOrigin = "anonymous"),
                                                                !("onload" in l) || ((y = t.navigator.userAgent.match(/WebKit\/(\d*)/)) && parseInt(y[1], 10) < 536))
                                                            ) {
                                                                if (0 < t.navigator.userAgent.indexOf("Firefox")) return ((d = e.createElement("style")).textContent = '@import "' + r + '"'), b(), void c(d);
                                                                v();
                                                            } else (l.onload = v), (l.onerror = h);
                                                            var y;
                                                            c(l), (l.href = r);
                                                        } else h();
                                                    else m();
                                            },
                                            d = function (e) {
                                                return ro(function (t) {
                                                    l(e, r(t, o(so.value(e))), r(t, o(so.error(e))));
                                                });
                                            },
                                            f = function (e) {
                                                return e.fold(i, i);
                                            };
                                        return {
                                            load: l,
                                            loadAll: function (e, t, n) {
                                                oo(q(e, d)).get(function (e) {
                                                    var r = W(e, function (e) {
                                                        return e.isValue();
                                                    });
                                                    0 < r.fail.length ? n(r.fail.map(f)) : t(r.pass.map(f));
                                                });
                                            },
                                        };
                                    })(e, { contentCssCors: n.contentCssCors }),
                                    p = [],
                                    m = n.schema ? n.schema : si({}),
                                    h = ci({ url_converter: n.url_converter, url_converter_scope: n.url_converter_scope }, n.schema),
                                    g = n.ownEvents ? new Ee(n.proxy) : Ee.Event,
                                    v = m.getBlockElements(),
                                    b = hn.overrideDefaults(function () {
                                        return { context: e, element: K.getRoot() };
                                    }),
                                    y = function (t) {
                                        if (t && e && "string" == typeof t) {
                                            var n = e.getElementById(t);
                                            return n && n.id !== t ? e.getElementsByName(t)[1] : n;
                                        }
                                        return t;
                                    },
                                    w = function (e) {
                                        return "string" == typeof e && (e = y(e)), b(e);
                                    },
                                    C = function (e, t, n) {
                                        var r,
                                            o,
                                            i = w(e);
                                        return i.length && (o = (r = a[t]) && r.get ? r.get(i, t) : i.attr(t)), void 0 === o && (o = n || ""), o;
                                    },
                                    x = function (e) {
                                        var t = y(e);
                                        return t ? t.attributes : [];
                                    },
                                    _ = function (e, t, r) {
                                        var o, i;
                                        "" === r && (r = null);
                                        var s = w(e);
                                        (o = s.attr(t)), s.length && ((i = a[t]) && i.set ? i.set(s, r, t) : s.attr(t, r), o !== r && n.onSetAttrib && n.onSetAttrib({ attrElm: s, attrName: t, attrValue: r }));
                                    },
                                    k = function () {
                                        return n.root_element || e.body;
                                    },
                                    T = function (t, n) {
                                        return Yr(e.body, y(t), n);
                                    },
                                    E = function (e, t, n) {
                                        var r = w(e);
                                        return n
                                            ? r.css(t)
                                            : ("float" ===
                                                  (t = t.replace(/-(\D)/g, function (e, t) {
                                                      return t.toUpperCase();
                                                  })) && (t = fe.ie && fe.ie < 12 ? "styleFloat" : "cssFloat"),
                                              r[0] && r[0].style ? r[0].style[t] : void 0);
                                    },
                                    S = function (e) {
                                        var t, n;
                                        return (
                                            (e = y(e)),
                                            (t = E(e, "width")),
                                            (n = E(e, "height")),
                                            -1 === t.indexOf("px") && (t = 0),
                                            -1 === n.indexOf("px") && (n = 0),
                                            { w: parseInt(t, 10) || e.offsetWidth || e.clientWidth, h: parseInt(n, 10) || e.offsetHeight || e.clientHeight }
                                        );
                                    },
                                    $ = function (e, t) {
                                        var n;
                                        if (!e) return !1;
                                        if (!Array.isArray(e)) {
                                            if ("*" === t) return 1 === e.nodeType;
                                            if (mi.test(t)) {
                                                var r = t.toLowerCase().split(/,/),
                                                    o = e.nodeName.toLowerCase();
                                                for (n = r.length - 1; 0 <= n; n--) if (r[n] === o) return !0;
                                                return !1;
                                            }
                                            if (e.nodeType && 1 !== e.nodeType) return !1;
                                        }
                                        var i = Array.isArray(e) ? e : [e];
                                        return 0 < Et(t, i[0].ownerDocument || i[0], null, i).length;
                                    },
                                    N = function (e, t, n, r) {
                                        var o,
                                            i = [],
                                            a = y(e);
                                        for (
                                            r = void 0 === r,
                                                n = n || ("BODY" !== k().nodeName ? k().parentNode : null),
                                                Yt.is(t, "string") &&
                                                    (t =
                                                        "*" === (o = t)
                                                            ? function (e) {
                                                                  return 1 === e.nodeType;
                                                              }
                                                            : function (e) {
                                                                  return $(e, o);
                                                              });
                                            a && a !== n && a.nodeType && 9 !== a.nodeType;

                                        ) {
                                            if (!t || ("function" == typeof t && t(a))) {
                                                if (!r) return [a];
                                                i.push(a);
                                            }
                                            a = a.parentNode;
                                        }
                                        return r ? i : null;
                                    },
                                    A = function (e, t, n) {
                                        var r = t;
                                        if (e)
                                            for (
                                                "string" == typeof t &&
                                                    (r = function (e) {
                                                        return $(e, t);
                                                    }),
                                                    e = e[n];
                                                e;
                                                e = e[n]
                                            )
                                                if ("function" == typeof r && r(e)) return e;
                                        return null;
                                    },
                                    O = function (e, t, n) {
                                        var r,
                                            o = "string" == typeof e ? y(e) : e;
                                        if (!o) return !1;
                                        if (Yt.isArray(o) && (o.length || 0 === o.length))
                                            return (
                                                (r = []),
                                                di(o, function (e, o) {
                                                    e && ("string" == typeof e && (e = y(e)), r.push(t.call(n, e, o)));
                                                }),
                                                r
                                            );
                                        var i = n || s;
                                        return t.call(i, o);
                                    },
                                    D = function (e, t) {
                                        w(e).each(function (e, n) {
                                            di(t, function (e, t) {
                                                _(n, t, e);
                                            });
                                        });
                                    },
                                    R = function (e, t) {
                                        var n = w(e);
                                        pi
                                            ? n.each(function (e, n) {
                                                  if (!1 !== n.canHaveHTML) {
                                                      for (; n.firstChild; ) n.removeChild(n.firstChild);
                                                      try {
                                                          (n.innerHTML = "<br>" + t), n.removeChild(n.firstChild);
                                                      } catch (e) {
                                                          hn("<div></div>")
                                                              .html("<br>" + t)
                                                              .contents()
                                                              .slice(1)
                                                              .appendTo(n);
                                                      }
                                                      return t;
                                                  }
                                              })
                                            : n.html(t);
                                    },
                                    B = function (t, n, r, o, i) {
                                        return O(t, function (t) {
                                            var a = "string" == typeof n ? e.createElement(n) : n;
                                            return D(a, r), o && ("string" != typeof o && o.nodeType ? a.appendChild(o) : "string" == typeof o && R(a, o)), i ? a : t.appendChild(a);
                                        });
                                    },
                                    P = function (t, n, r) {
                                        return B(e.createElement(t), t, n, r, !0);
                                    },
                                    I = Xo.decode,
                                    L = Xo.encodeAllRaw,
                                    M = function (e, t) {
                                        var n = w(e);
                                        return (
                                            t
                                                ? n
                                                      .each(function () {
                                                          for (var e; (e = this.firstChild); ) 3 === e.nodeType && 0 === e.data.length ? this.removeChild(e) : this.parentNode.insertBefore(e, this);
                                                      })
                                                      .remove()
                                                : n.remove(),
                                            1 < n.length ? n.toArray() : n[0]
                                        );
                                    },
                                    j = function (e, t, n) {
                                        w(e)
                                            .toggleClass(t, n)
                                            .each(function () {
                                                "" === this.className && hn(this).attr("class", null);
                                            });
                                    },
                                    F = function (e, t, n) {
                                        return O(t, function (t) {
                                            return (
                                                Yt.is(t, "array") && (e = e.cloneNode(!0)),
                                                n &&
                                                    di(fi(t.childNodes), function (t) {
                                                        e.appendChild(t);
                                                    }),
                                                t.parentNode.replaceChild(e, t)
                                            );
                                        });
                                    },
                                    U = function () {
                                        return e.createRange();
                                    },
                                    H = function (t, r, o, i) {
                                        if (Yt.isArray(t)) {
                                            for (var a = t.length; a--; ) t[a] = H(t[a], r, o, i);
                                            return t;
                                        }
                                        return !n.collect || (t !== e && t !== c) || p.push([t, r, o, i]), g.bind(t, r, o, i || K);
                                    },
                                    z = function (t, n, r) {
                                        var o;
                                        if (Yt.isArray(t)) {
                                            for (o = t.length; o--; ) t[o] = z(t[o], n, r);
                                            return t;
                                        }
                                        if (p && (t === e || t === c))
                                            for (o = p.length; o--; ) {
                                                var i = p[o];
                                                t !== i[0] || (n && n !== i[1]) || (r && r !== i[2]) || g.unbind(i[0], i[1], i[2]);
                                            }
                                        return g.unbind(t, n, r);
                                    },
                                    V = function (e) {
                                        if (e && Io.isElement(e)) {
                                            var t = e.getAttribute("data-mce-contenteditable");
                                            return t && "inherit" !== t ? t : "inherit" !== e.contentEditable ? e.contentEditable : null;
                                        }
                                        return null;
                                    },
                                    K = {
                                        doc: e,
                                        settings: n,
                                        win: c,
                                        files: l,
                                        stdMode: !0,
                                        boxModel: !0,
                                        styleSheetLoader: f,
                                        boundEvents: p,
                                        styles: h,
                                        schema: m,
                                        events: g,
                                        isBlock: function (e) {
                                            if ("string" == typeof e) return !!v[e];
                                            if (e) {
                                                var t = e.nodeType;
                                                if (t) return !(1 !== t || !v[e.nodeName]);
                                            }
                                            return !1;
                                        },
                                        $: b,
                                        $$: w,
                                        root: null,
                                        clone: function (t, n) {
                                            if (!pi || 1 !== t.nodeType || n) return t.cloneNode(n);
                                            if (!n) {
                                                var r = e.createElement(t.nodeName);
                                                return (
                                                    di(x(t), function (e) {
                                                        _(r, e.nodeName, C(t, e.nodeName));
                                                    }),
                                                    r
                                                );
                                            }
                                            return null;
                                        },
                                        getRoot: k,
                                        getViewPort: function (e) {
                                            var t = e || c,
                                                n = t.document.documentElement;
                                            return { x: t.pageXOffset || n.scrollLeft, y: t.pageYOffset || n.scrollTop, w: t.innerWidth || n.clientWidth, h: t.innerHeight || n.clientHeight };
                                        },
                                        getRect: function (e) {
                                            var t, n;
                                            return (e = y(e)), (t = T(e)), (n = S(e)), { x: t.x, y: t.y, w: n.w, h: n.h };
                                        },
                                        getSize: S,
                                        getParent: function (e, t, n) {
                                            var r = N(e, t, n, !1);
                                            return r && 0 < r.length ? r[0] : null;
                                        },
                                        getParents: N,
                                        get: y,
                                        getNext: function (e, t) {
                                            return A(e, t, "nextSibling");
                                        },
                                        getPrev: function (e, t) {
                                            return A(e, t, "previousSibling");
                                        },
                                        select: function (t, r) {
                                            return Et(t, y(r) || n.root_element || e, []);
                                        },
                                        is: $,
                                        add: B,
                                        create: P,
                                        createHTML: function (e, t, n) {
                                            var r,
                                                o = "";
                                            for (r in ((o += "<" + e), t)) t.hasOwnProperty(r) && null !== t[r] && void 0 !== t[r] && (o += " " + r + '="' + L(t[r]) + '"');
                                            return void 0 !== n ? o + ">" + n + "</" + e + ">" : o + " />";
                                        },
                                        createFragment: function (t) {
                                            var n,
                                                r = e.createElement("div"),
                                                o = e.createDocumentFragment();
                                            for (o.appendChild(r), t && (r.innerHTML = t); (n = r.firstChild); ) o.appendChild(n);
                                            return o.removeChild(r), o;
                                        },
                                        remove: M,
                                        setStyle: function (e, t, r) {
                                            var o = w(e).css(t, r);
                                            n.update_styles && gi(h, o);
                                        },
                                        getStyle: E,
                                        setStyles: function (e, t) {
                                            var r = w(e).css(t);
                                            n.update_styles && gi(h, r);
                                        },
                                        removeAllAttribs: function (e) {
                                            return O(e, function (e) {
                                                var t,
                                                    n = e.attributes;
                                                for (t = n.length - 1; 0 <= t; t--) e.removeAttributeNode(n.item(t));
                                            });
                                        },
                                        setAttrib: _,
                                        setAttribs: D,
                                        getAttrib: C,
                                        getPos: T,
                                        parseStyle: function (e) {
                                            return h.parse(e);
                                        },
                                        serializeStyle: function (e, t) {
                                            return h.serialize(e, t);
                                        },
                                        addStyle: function (n) {
                                            var r, o;
                                            if (K !== bi.DOM && e === t.document) {
                                                if (u[n]) return;
                                                u[n] = !0;
                                            }
                                            (o = e.getElementById("mceDefaultStyles")) ||
                                                (((o = e.createElement("style")).id = "mceDefaultStyles"), (o.type = "text/css"), (r = e.getElementsByTagName("head")[0]).firstChild ? r.insertBefore(o, r.firstChild) : r.appendChild(o)),
                                                o.styleSheet ? (o.styleSheet.cssText += n) : o.appendChild(e.createTextNode(n));
                                        },
                                        loadCSS: function (n) {
                                            var r;
                                            K === bi.DOM || e !== t.document
                                                ? (n || (n = ""),
                                                  (r = e.getElementsByTagName("head")[0]),
                                                  di(n.split(","), function (e) {
                                                      var t;
                                                      (e = Yt._addCacheSuffix(e)), l[e] || ((l[e] = !0), (t = P("link", { rel: "stylesheet", href: e })), r.appendChild(t));
                                                  }))
                                                : bi.DOM.loadCSS(n);
                                        },
                                        addClass: function (e, t) {
                                            w(e).addClass(t);
                                        },
                                        removeClass: function (e, t) {
                                            j(e, t, !1);
                                        },
                                        hasClass: function (e, t) {
                                            return w(e).hasClass(t);
                                        },
                                        toggleClass: j,
                                        show: function (e) {
                                            w(e).show();
                                        },
                                        hide: function (e) {
                                            w(e).hide();
                                        },
                                        isHidden: function (e) {
                                            return "none" === w(e).css("display");
                                        },
                                        uniqueId: function (e) {
                                            return (e || "mce_") + d++;
                                        },
                                        setHTML: R,
                                        getOuterHTML: function (e) {
                                            var t = "string" == typeof e ? y(e) : e;
                                            return Io.isElement(t) ? t.outerHTML : hn("<div></div>").append(hn(t).clone()).html();
                                        },
                                        setOuterHTML: function (e, t) {
                                            w(e).each(function () {
                                                try {
                                                    if ("outerHTML" in this) return void (this.outerHTML = t);
                                                } catch (e) {}
                                                M(hn(this).html(t), !0);
                                            });
                                        },
                                        decode: I,
                                        encode: L,
                                        insertAfter: function (e, t) {
                                            var n = y(t);
                                            return O(e, function (e) {
                                                var t, r;
                                                return (t = n.parentNode), (r = n.nextSibling) ? t.insertBefore(e, r) : t.appendChild(e), e;
                                            });
                                        },
                                        replace: F,
                                        rename: function (e, t) {
                                            var n;
                                            return (
                                                e.nodeName !== t.toUpperCase() &&
                                                    ((n = P(t)),
                                                    di(x(e), function (t) {
                                                        _(n, t.nodeName, C(e, t.nodeName));
                                                    }),
                                                    F(n, e, !0)),
                                                n || e
                                            );
                                        },
                                        findCommonAncestor: function (e, t) {
                                            for (var n, r = e; r; ) {
                                                for (n = t; n && r !== n; ) n = n.parentNode;
                                                if (r === n) break;
                                                r = r.parentNode;
                                            }
                                            return !r && e.ownerDocument ? e.ownerDocument.documentElement : r;
                                        },
                                        toHex: function (e) {
                                            return h.toHex(Yt.trim(e));
                                        },
                                        run: O,
                                        getAttribs: x,
                                        isEmpty: function (e, t) {
                                            var n,
                                                r,
                                                o,
                                                i,
                                                a,
                                                s,
                                                u = 0;
                                            if ((e = e.firstChild)) {
                                                (a = new uo(e, e.parentNode)), (t = t || (m ? m.getNonEmptyElements() : null)), (i = m ? m.getWhiteSpaceElements() : {});
                                                do {
                                                    if (((o = e.nodeType), Io.isElement(e))) {
                                                        var c = e.getAttribute("data-mce-bogus");
                                                        if (c) {
                                                            e = a.next("all" === c);
                                                            continue;
                                                        }
                                                        if (((s = e.nodeName.toLowerCase()), t && t[s])) {
                                                            if ("br" === s) {
                                                                u++, (e = a.next());
                                                                continue;
                                                            }
                                                            return !1;
                                                        }
                                                        for (n = (r = x(e)).length; n--; ) if ("name" === (s = r[n].nodeName) || "data-mce-bookmark" === s) return !1;
                                                    }
                                                    if (8 === o) return !1;
                                                    if (3 === o && !hi.test(e.nodeValue)) return !1;
                                                    if (3 === o && e.parentNode && i[e.parentNode.nodeName] && hi.test(e.nodeValue)) return !1;
                                                    e = a.next();
                                                } while (e);
                                            }
                                            return u <= 1;
                                        },
                                        createRng: U,
                                        nodeIndex: vi,
                                        split: function (e, t, n) {
                                            var r,
                                                o,
                                                i,
                                                a = U();
                                            if (e && t)
                                                return (
                                                    a.setStart(e.parentNode, vi(e)),
                                                    a.setEnd(t.parentNode, vi(t)),
                                                    (r = a.extractContents()),
                                                    (a = U()).setStart(t.parentNode, vi(t) + 1),
                                                    a.setEnd(e.parentNode, vi(e) + 1),
                                                    (o = a.extractContents()),
                                                    (i = e.parentNode).insertBefore(jo.trimNode(K, r), e),
                                                    n ? i.insertBefore(n, e) : i.insertBefore(t, e),
                                                    i.insertBefore(jo.trimNode(K, o), e),
                                                    M(e),
                                                    n || t
                                                );
                                        },
                                        bind: H,
                                        unbind: z,
                                        fire: function (e, t, n) {
                                            return g.fire(e, t, n);
                                        },
                                        getContentEditable: V,
                                        getContentEditableParent: function (e) {
                                            for (var t = k(), n = null; e && e !== t && null === (n = V(e)); e = e.parentNode);
                                            return n;
                                        },
                                        destroy: function () {
                                            if (p)
                                                for (var e = p.length; e--; ) {
                                                    var t = p[e];
                                                    g.unbind(t[0], t[1], t[2]);
                                                }
                                            Et.setDocument && Et.setDocument();
                                        },
                                        isChildOf: function (e, t) {
                                            for (; e; ) {
                                                if (t === e) return !0;
                                                e = e.parentNode;
                                            }
                                            return !1;
                                        },
                                        dumpRng: function (e) {
                                            return "startContainer: " + e.startContainer.nodeName + ", startOffset: " + e.startOffset + ", endContainer: " + e.endContainer.nodeName + ", endOffset: " + e.endOffset;
                                        },
                                    };
                                return (
                                    (a = (function (e, t, n) {
                                        var r = {},
                                            o = t.keep_values,
                                            i = {
                                                set: function (e, r, o) {
                                                    t.url_converter && (r = t.url_converter.call(t.url_converter_scope || n(), r, o, e[0])), e.attr("data-mce-" + o, r).attr(o, r);
                                                },
                                                get: function (e, t) {
                                                    return e.attr("data-mce-" + t) || e.attr(t);
                                                },
                                            };
                                        return (
                                            (r = {
                                                style: {
                                                    set: function (e, t) {
                                                        null === t || "object" != typeof t ? (o && e.attr("data-mce-style", t), e.attr("style", t)) : e.css(t);
                                                    },
                                                    get: function (t) {
                                                        var n = t.attr("data-mce-style") || t.attr("style");
                                                        return e.serialize(e.parse(n), t[0].nodeName);
                                                    },
                                                },
                                            }),
                                            o && (r.href = r.src = i),
                                            r
                                        );
                                    })(h, n, function () {
                                        return K;
                                    })),
                                    K
                                );
                            }
                            ((li = bi || (bi = {})).DOM = li(t.document)), (li.nodeIndex = vi);
                            var yi = bi,
                                wi = yi.DOM,
                                Ci = Yt.each,
                                xi = Yt.grep,
                                _i = function (e) {
                                    return "function" == typeof e;
                                },
                                ki = function () {
                                    var e = {},
                                        n = [],
                                        r = {},
                                        o = [],
                                        i = 0;
                                    (this.isDone = function (t) {
                                        return 2 === e[t];
                                    }),
                                        (this.markDone = function (t) {
                                            e[t] = 2;
                                        }),
                                        (this.add = this.load = function (t, o, i, a) {
                                            void 0 === e[t] && (n.push(t), (e[t] = 0)), o && (r[t] || (r[t] = []), r[t].push({ success: o, failure: a, scope: i || this }));
                                        }),
                                        (this.remove = function (t) {
                                            delete e[t], delete r[t];
                                        }),
                                        (this.loadQueue = function (e, t, r) {
                                            this.loadScripts(n, e, t, r);
                                        }),
                                        (this.loadScripts = function (n, a, s, u) {
                                            var c,
                                                l = [],
                                                d = function (e, t) {
                                                    Ci(r[t], function (t) {
                                                        _i(t[e]) && t[e].call(t.scope);
                                                    }),
                                                        (r[t] = void 0);
                                                };
                                            o.push({ success: a, failure: u, scope: s || this }),
                                                (c = function () {
                                                    var r = xi(n);
                                                    if (
                                                        ((n.length = 0),
                                                        Ci(r, function (n) {
                                                            var r, o, a, s, u, f;
                                                            2 !== e[n]
                                                                ? 3 !== e[n]
                                                                    ? 1 !== e[n] &&
                                                                      ((e[n] = 1),
                                                                      i++,
                                                                      (r = n),
                                                                      (o = function () {
                                                                          (e[n] = 2), i--, d("success", n), c();
                                                                      }),
                                                                      (a = function () {
                                                                          (e[n] = 3), i--, l.push(n), d("failure", n), c();
                                                                      }),
                                                                      (u = (f = wi).uniqueId()),
                                                                      ((s = t.document.createElement("script")).id = u),
                                                                      (s.type = "text/javascript"),
                                                                      (s.src = Yt._addCacheSuffix(r)),
                                                                      (s.onload = function () {
                                                                          f.remove(u), s && (s.onreadystatechange = s.onload = s = null), o();
                                                                      }),
                                                                      (s.onerror = function () {
                                                                          _i(a) ? a() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + r);
                                                                      }),
                                                                      (t.document.getElementsByTagName("head")[0] || t.document.body).appendChild(s))
                                                                    : d("failure", n)
                                                                : d("success", n);
                                                        }),
                                                        !i)
                                                    ) {
                                                        var a = o.slice(0);
                                                        (o.length = 0),
                                                            Ci(a, function (e) {
                                                                0 === l.length ? _i(e.success) && e.success.call(e.scope) : _i(e.failure) && e.failure.call(e.scope, l);
                                                            });
                                                    }
                                                })();
                                        });
                                };
                            ki.ScriptLoader = new ki();
                            var Ti,
                                Ei = Yt.each;
                            function Si() {
                                var e = this,
                                    t = [],
                                    n = {},
                                    r = {},
                                    o = [],
                                    i = function (e) {
                                        var t;
                                        return r[e] && (t = r[e].dependencies), t || [];
                                    },
                                    a = function (e, t) {
                                        return "object" == typeof t ? t : "string" == typeof e ? { prefix: "", resource: t, suffix: "" } : { prefix: e.prefix, resource: t, suffix: e.suffix };
                                    },
                                    s = function (e, t, n, r) {
                                        var o = i(e);
                                        Ei(o, function (e) {
                                            var n = a(t, e);
                                            u(n.resource, n, void 0, void 0);
                                        }),
                                            n && (r ? n.call(r) : n.call(ki));
                                    },
                                    u = function (e, t, o, i, a) {
                                        if (!n[e]) {
                                            var u = "string" == typeof t ? t : t.prefix + t.resource + t.suffix;
                                            0 !== u.indexOf("/") && -1 === u.indexOf("://") && (u = Si.baseURL + "/" + u),
                                                (n[e] = u.substring(0, u.lastIndexOf("/"))),
                                                r[e]
                                                    ? s(e, t, o, i)
                                                    : ki.ScriptLoader.add(
                                                          u,
                                                          function () {
                                                              return s(e, t, o, i);
                                                          },
                                                          i,
                                                          a
                                                      );
                                        }
                                    };
                                return {
                                    items: t,
                                    urls: n,
                                    lookup: r,
                                    _listeners: o,
                                    get: function (e) {
                                        return r[e] ? r[e].instance : void 0;
                                    },
                                    dependencies: i,
                                    requireLangPack: function (e, t) {
                                        var r = Si.language;
                                        if (r && !1 !== Si.languageLoad) {
                                            if (t)
                                                if (-1 !== (t = "," + t + ",").indexOf("," + r.substr(0, 2) + ",")) r = r.substr(0, 2);
                                                else if (-1 === t.indexOf("," + r + ",")) return;
                                            ki.ScriptLoader.add(n[e] + "/langs/" + r + ".js");
                                        }
                                    },
                                    add: function (e, n, i) {
                                        t.push(n), (r[e] = { instance: n, dependencies: i });
                                        var a = W(o, function (t) {
                                            return t.name === e;
                                        });
                                        return (
                                            (o = a.fail),
                                            Ei(a.pass, function (e) {
                                                e.callback();
                                            }),
                                            n
                                        );
                                    },
                                    remove: function (e) {
                                        delete n[e], delete r[e];
                                    },
                                    createUrl: a,
                                    addComponents: function (t, n) {
                                        var r = e.urls[t];
                                        Ei(n, function (e) {
                                            ki.ScriptLoader.add(r + "/" + e);
                                        });
                                    },
                                    load: u,
                                    waitFor: function (e, t) {
                                        r.hasOwnProperty(e) ? t() : o.push({ name: e, callback: t });
                                    },
                                };
                            }
                            ((Ti = Si || (Si = {})).PluginManager = Ti()), (Ti.ThemeManager = Ti());
                            var $i = function (e, t) {
                                    Mr(e).each(function (n) {
                                        n.dom().insertBefore(t.dom(), e.dom());
                                    });
                                },
                                Ni = function (e, t) {
                                    Fr(e).fold(
                                        function () {
                                            Mr(e).each(function (e) {
                                                Oi(e, t);
                                            });
                                        },
                                        function (e) {
                                            $i(e, t);
                                        }
                                    );
                                },
                                Ai = function (e, t) {
                                    Vr(e).fold(
                                        function () {
                                            Oi(e, t);
                                        },
                                        function (n) {
                                            e.dom().insertBefore(t.dom(), n.dom());
                                        }
                                    );
                                },
                                Oi = function (e, t) {
                                    e.dom().appendChild(t.dom());
                                },
                                Di = function (e, t) {
                                    V(t, function (t) {
                                        Oi(e, t);
                                    });
                                },
                                Ri = function (e) {
                                    (e.dom().textContent = ""),
                                        V(zr(e), function (e) {
                                            Bi(e);
                                        });
                                },
                                Bi = function (e) {
                                    var t = e.dom();
                                    null !== t.parentNode && t.parentNode.removeChild(t);
                                },
                                Pi = function (e) {
                                    var t,
                                        n = zr(e);
                                    0 < n.length &&
                                        ((t = e),
                                        V(n, function (e) {
                                            $i(t, e);
                                        })),
                                        Bi(e);
                                },
                                Ii = function (e, n) {
                                    var r = null;
                                    return {
                                        cancel: function () {
                                            null !== r && (t.clearTimeout(r), (r = null));
                                        },
                                        throttle: function () {
                                            for (var o = [], i = 0; i < arguments.length; i++) o[i] = arguments[i];
                                            null === r &&
                                                (r = t.setTimeout(function () {
                                                    e.apply(null, o), (r = null);
                                                }, n));
                                        },
                                    };
                                },
                                Li = function (e) {
                                    var t = e,
                                        n = function () {
                                            return t;
                                        };
                                    return {
                                        get: n,
                                        set: function (e) {
                                            t = e;
                                        },
                                        clone: function () {
                                            return Li(n());
                                        },
                                    };
                                },
                                Mi = function (e, t) {
                                    var n = _r(e, t);
                                    return void 0 === n || "" === n ? [] : n.split(" ");
                                },
                                ji = function (e) {
                                    return void 0 !== e.dom().classList;
                                },
                                Fi = function (e, t) {
                                    ji(e)
                                        ? e.dom().classList.add(t)
                                        : (function (e, t) {
                                              return (r = t), (o = Mi((n = e), "class").concat([r])), Cr(n, "class", o.join(" ")), !0;
                                              var n, r, o;
                                          })(e, t);
                                },
                                Ui = function (e, t) {
                                    return ji(e) && e.dom().classList.contains(t);
                                },
                                Hi = function (e, t) {
                                    var n = [];
                                    return (
                                        V(zr(e), function (e) {
                                            t(e) && (n = n.concat([e])), (n = n.concat(Hi(e, t)));
                                        }),
                                        n
                                    );
                                },
                                zi = function (e, n) {
                                    return (r = n), (i = void 0 === (o = e) ? t.document : o.dom()), Rr(i) ? [] : q(i.querySelectorAll(r), ar.fromDom);
                                    var r, o, i;
                                };
                            function qi(e, t, n, r, o) {
                                return e(n, r) ? N.some(n) : I(o) && o(n) ? N.none() : t(n, r, o);
                            }
                            var Vi,
                                Wi = function (e, t, n) {
                                    for (var r = e.dom(), i = I(n) ? n : o(!1); r.parentNode; ) {
                                        r = r.parentNode;
                                        var a = ar.fromDom(r);
                                        if (t(a)) return N.some(a);
                                        if (i(a)) break;
                                    }
                                    return N.none();
                                },
                                Ki = function (e, t, n) {
                                    return qi(
                                        function (e, t) {
                                            return t(e);
                                        },
                                        Wi,
                                        e,
                                        t,
                                        n
                                    );
                                },
                                Gi = function (e, t, n) {
                                    return Wi(
                                        e,
                                        function (e) {
                                            return Dr(e, t);
                                        },
                                        n
                                    );
                                },
                                Yi = function (e, n) {
                                    return (r = n), (i = void 0 === (o = e) ? t.document : o.dom()), Rr(i) ? N.none() : N.from(i.querySelector(r)).map(ar.fromDom);
                                    var r, o, i;
                                },
                                Xi = function (e, t, n) {
                                    return qi(Dr, Gi, e, t, n);
                                },
                                Ji = o("mce-annotation"),
                                Qi = o("data-mce-annotation"),
                                Zi = o("data-mce-annotation-uid"),
                                ea = function (e, t) {
                                    var n = e.selection.getRng(),
                                        r = ar.fromDom(n.startContainer),
                                        o = ar.fromDom(e.getBody()),
                                        i = t.fold(
                                            function () {
                                                return "." + Ji();
                                            },
                                            function (e) {
                                                return "[" + Qi() + '="' + e + '"]';
                                            }
                                        ),
                                        a = qr(r, n.startOffset).getOr(r),
                                        s = Xi(a, i, function (e) {
                                            return Br(e, o);
                                        }),
                                        u = function (e, t) {
                                            return (n = t), (r = e.dom()) && r.hasAttribute && r.hasAttribute(n) ? N.some(_r(e, t)) : N.none();
                                            var n, r;
                                        };
                                    return s.bind(function (t) {
                                        return u(t, "" + Zi()).bind(function (n) {
                                            return u(t, "" + Qi()).map(function (t) {
                                                var r = ta(e, n);
                                                return { uid: n, name: t, elements: r };
                                            });
                                        });
                                    });
                                },
                                ta = function (e, t) {
                                    var n = ar.fromDom(e.getBody());
                                    return zi(n, "[" + Zi() + '="' + t + '"]');
                                },
                                na = function () {
                                    return (na =
                                        Object.assign ||
                                        function (e) {
                                            for (var t, n = 1, r = arguments.length; n < r; n++) for (var o in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                                            return e;
                                        }).apply(this, arguments);
                                },
                                ra = 0,
                                oa = function (e, t) {
                                    return ar.fromDom(e.dom().cloneNode(t));
                                },
                                ia = function (e) {
                                    return oa(e, !1);
                                },
                                aa = function (e) {
                                    return oa(e, !0);
                                },
                                sa = function (e, n) {
                                    var r,
                                        o,
                                        i = Ir(e).dom(),
                                        a = ar.fromDom(i.createDocumentFragment()),
                                        s = ((r = n), ((o = (i || t.document).createElement("div")).innerHTML = r), zr(ar.fromDom(o)));
                                    Di(a, s), Ri(e), Oi(e, a);
                                },
                                ua = function (e) {
                                    return "\ufeff" === e;
                                },
                                ca = "\ufeff",
                                la = function (e) {
                                    return e.replace(new RegExp("\ufeff", "g"), "");
                                },
                                da = Io.isElement,
                                fa = Io.isText,
                                pa = function (e) {
                                    return fa(e) && (e = e.parentNode), da(e) && e.hasAttribute("data-mce-caret");
                                },
                                ma = function (e) {
                                    return fa(e) && ua(e.data);
                                },
                                ha = function (e) {
                                    return pa(e) || ma(e);
                                },
                                ga = function (e) {
                                    return e.firstChild !== e.lastChild || !Io.isBr(e.firstChild);
                                },
                                va = function (e) {
                                    var t = e.container();
                                    return !(!e || !Io.isText(t)) && (t.data.charAt(e.offset()) === ca || (e.isAtStart() && ma(t.previousSibling)));
                                },
                                ba = function (e) {
                                    var t = e.container();
                                    return !(!e || !Io.isText(t)) && (t.data.charAt(e.offset() - 1) === ca || (e.isAtEnd() && ma(t.nextSibling)));
                                },
                                ya = function (e) {
                                    return fa(e) && e.data[0] === ca;
                                },
                                wa = function (e) {
                                    return fa(e) && e.data[e.data.length - 1] === ca;
                                },
                                Ca = function (e) {
                                    return e && e.hasAttribute("data-mce-caret")
                                        ? ((n = (t = e.getElementsByTagName("br"))[t.length - 1]),
                                          Io.isBogus(n) && n.parentNode.removeChild(n),
                                          e.removeAttribute("data-mce-caret"),
                                          e.removeAttribute("data-mce-bogus"),
                                          e.removeAttribute("style"),
                                          e.removeAttribute("_moz_abspos"),
                                          e)
                                        : null;
                                    var t, n;
                                },
                                xa = Io.isContentEditableTrue,
                                _a = Io.isContentEditableFalse,
                                ka = Io.isBr,
                                Ta = Io.isText,
                                Ea = Io.matchNodeNames("script style textarea"),
                                Sa = Io.matchNodeNames("img input textarea hr iframe video audio object"),
                                $a = Io.matchNodeNames("table"),
                                Na = ha,
                                Aa = function (e) {
                                    return !Na(e) && (Ta(e) ? !Ea(e.parentNode) : Sa(e) || ka(e) || $a(e) || Oa(e));
                                },
                                Oa = function (e) {
                                    return !1 === ((t = e), Io.isElement(t) && "true" === t.getAttribute("unselectable")) && _a(e);
                                    var t;
                                },
                                Da = function (e, t) {
                                    return (
                                        Aa(e) &&
                                        (function (e, t) {
                                            for (e = e.parentNode; e && e !== t; e = e.parentNode) {
                                                if (Oa(e)) return !1;
                                                if (xa(e)) return !0;
                                            }
                                            return !0;
                                        })(e, t)
                                    );
                                },
                                Ra = Math.round,
                                Ba = function (e) {
                                    return e ? { left: Ra(e.left), top: Ra(e.top), bottom: Ra(e.bottom), right: Ra(e.right), width: Ra(e.width), height: Ra(e.height) } : { left: 0, top: 0, bottom: 0, right: 0, width: 0, height: 0 };
                                },
                                Pa = function (e, t) {
                                    return (e = Ba(e)), t || (e.left = e.left + e.width), (e.right = e.left), (e.width = 0), e;
                                },
                                Ia = function (e, t, n) {
                                    return 0 <= e && e <= Math.min(t.height, n.height) / 2;
                                },
                                La = function (e, t) {
                                    var n = Math.min(t.height / 2, e.height / 2);
                                    return e.bottom - n < t.top || (!(e.top > t.bottom) && Ia(t.top - e.bottom, e, t));
                                },
                                Ma = function (e, t) {
                                    return e.top > t.bottom || (!(e.bottom < t.top) && Ia(t.bottom - e.top, e, t));
                                },
                                ja = function (e, t, n) {
                                    return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom;
                                },
                                Fa = function (e) {
                                    var t = e.startContainer,
                                        n = e.startOffset;
                                    return t.hasChildNodes() && e.endOffset === n + 1 ? t.childNodes[n] : null;
                                },
                                Ua = function (e, t) {
                                    return 1 === e.nodeType && e.hasChildNodes() && (t >= e.childNodes.length && (t = e.childNodes.length - 1), (e = e.childNodes[t])), e;
                                },
                                Ha = new RegExp(
                                    "[-----------------------------------------------------------------------------------------------------------------------------------]"
                                ),
                                za = function (e) {
                                    return "string" == typeof e && 768 <= e.charCodeAt(0) && Ha.test(e);
                                },
                                qa = function (e, t, n) {
                                    return e.isSome() && t.isSome() ? N.some(n(e.getOrDie(), t.getOrDie())) : N.none();
                                },
                                Va = [].slice,
                                Wa = Io.isElement,
                                Ka = Aa,
                                Ga = Io.matchStyleValues("display", "block table"),
                                Ya = Io.matchStyleValues("float", "left right"),
                                Xa = (function () {
                                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                    var n = Va.call(arguments);
                                    return function (e) {
                                        for (var t = 0; t < n.length; t++) if (!n[t](e)) return !1;
                                        return !0;
                                    };
                                })(Wa, Ka, _(Ya)),
                                Ja = _(Io.matchStyleValues("white-space", "pre pre-line pre-wrap")),
                                Qa = Io.isText,
                                Za = Io.isBr,
                                es = yi.nodeIndex,
                                ts = Ua,
                                ns = function (e) {
                                    return "createRange" in e ? e.createRange() : yi.DOM.createRng();
                                },
                                rs = function (e) {
                                    return e && /[\r\n\t ]/.test(e);
                                },
                                os = function (e) {
                                    return !!e.setStart && !!e.setEnd;
                                },
                                is = function (e) {
                                    var t,
                                        n = e.startContainer,
                                        r = e.startOffset;
                                    return !!(rs(e.toString()) && Ja(n.parentNode) && Io.isText(n) && ((t = n.data), rs(t[r - 1]) || rs(t[r + 1])));
                                },
                                as = function (e) {
                                    return 0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom;
                                },
                                ss = function (e) {
                                    var t, n, r, o, i, a, s, u;
                                    return (
                                        (t = 0 < (n = e.getClientRects()).length ? Ba(n[0]) : Ba(e.getBoundingClientRect())),
                                        !os(e) && Za(e) && as(t)
                                            ? ((i = (r = e).ownerDocument),
                                              (a = ns(i)),
                                              (s = i.createTextNode(" ")),
                                              (u = r.parentNode).insertBefore(s, r),
                                              a.setStart(s, 0),
                                              a.setEnd(s, 1),
                                              (o = Ba(a.getBoundingClientRect())),
                                              u.removeChild(s),
                                              o)
                                            : as(t) && os(e)
                                            ? (function (e) {
                                                  var t = e.startContainer,
                                                      n = e.endContainer,
                                                      r = e.startOffset,
                                                      o = e.endOffset;
                                                  if (t === n && Io.isText(n) && 0 === r && 1 === o) {
                                                      var i = e.cloneRange();
                                                      return i.setEndAfter(n), ss(i);
                                                  }
                                                  return null;
                                              })(e)
                                            : t
                                    );
                                },
                                us = function (e, t) {
                                    var n = Pa(e, t);
                                    return (n.width = 1), (n.right = n.left + 1), n;
                                };
                            function cs(e, t, n) {
                                var r = function () {
                                    return (
                                        n ||
                                            (n = (function (e) {
                                                var t,
                                                    n,
                                                    r = [],
                                                    o = function (e) {
                                                        var t, n;
                                                        0 !== e.height && ((0 < r.length && ((t = e), (n = r[r.length - 1]), t.left === n.left && t.top === n.top && t.bottom === n.bottom && t.right === n.right)) || r.push(e));
                                                    },
                                                    i = function (e, t) {
                                                        var n = ns(e.ownerDocument);
                                                        if (t < e.data.length) {
                                                            if (za(e.data[t])) return r;
                                                            if (za(e.data[t - 1]) && (n.setStart(e, t), n.setEnd(e, t + 1), !is(n))) return o(us(ss(n), !1)), r;
                                                        }
                                                        0 < t && (n.setStart(e, t - 1), n.setEnd(e, t), is(n) || o(us(ss(n), !1))), t < e.data.length && (n.setStart(e, t), n.setEnd(e, t + 1), is(n) || o(us(ss(n), !0)));
                                                    };
                                                if (Qa(e.container())) return i(e.container(), e.offset()), r;
                                                if (Wa(e.container()))
                                                    if (e.isAtEnd()) (n = ts(e.container(), e.offset())), Qa(n) && i(n, n.data.length), Xa(n) && !Za(n) && o(us(ss(n), !1));
                                                    else {
                                                        if (((n = ts(e.container(), e.offset())), Qa(n) && i(n, 0), Xa(n) && e.isAtEnd())) return o(us(ss(n), !1)), r;
                                                        (t = ts(e.container(), e.offset() - 1)), Xa(t) && !Za(t) && (Ga(t) || Ga(n) || !Xa(n)) && o(us(ss(t), !1)), Xa(n) && o(us(ss(n), !0));
                                                    }
                                                return r;
                                            })(cs(e, t))),
                                        n
                                    );
                                };
                                return {
                                    container: o(e),
                                    offset: o(t),
                                    toRange: function () {
                                        var n;
                                        return (n = ns(e.ownerDocument)).setStart(e, t), n.setEnd(e, t), n;
                                    },
                                    getClientRects: r,
                                    isVisible: function () {
                                        return 0 < r().length;
                                    },
                                    isAtStart: function () {
                                        return Qa(e), 0 === t;
                                    },
                                    isAtEnd: function () {
                                        return Qa(e) ? t >= e.data.length : t >= e.childNodes.length;
                                    },
                                    isEqual: function (n) {
                                        return n && e === n.container() && t === n.offset();
                                    },
                                    getNode: function (n) {
                                        return ts(e, n ? t - 1 : t);
                                    },
                                };
                            }
                            ((Vi = cs || (cs = {})).fromRangeStart = function (e) {
                                return Vi(e.startContainer, e.startOffset);
                            }),
                                (Vi.fromRangeEnd = function (e) {
                                    return Vi(e.endContainer, e.endOffset);
                                }),
                                (Vi.after = function (e) {
                                    return Vi(e.parentNode, es(e) + 1);
                                }),
                                (Vi.before = function (e) {
                                    return Vi(e.parentNode, es(e));
                                }),
                                (Vi.isAbove = function (e, t) {
                                    return qa(ee(t.getClientRects()), te(e.getClientRects()), La).getOr(!1);
                                }),
                                (Vi.isBelow = function (e, t) {
                                    return qa(te(t.getClientRects()), ee(e.getClientRects()), Ma).getOr(!1);
                                }),
                                (Vi.isAtStart = function (e) {
                                    return !!e && e.isAtStart();
                                }),
                                (Vi.isAtEnd = function (e) {
                                    return !!e && e.isAtEnd();
                                }),
                                (Vi.isTextPosition = function (e) {
                                    return !!e && Io.isText(e.container());
                                }),
                                (Vi.isElementPosition = function (e) {
                                    return !1 === Vi.isTextPosition(e);
                                });
                            var ls,
                                ds,
                                fs = cs,
                                ps = Io.isText,
                                ms = Io.isBogus,
                                hs = yi.nodeIndex,
                                gs = function (e) {
                                    var t = e.parentNode;
                                    return ms(t) ? gs(t) : t;
                                },
                                vs = function (e) {
                                    return e
                                        ? qt.reduce(
                                              e.childNodes,
                                              function (e, t) {
                                                  return ms(t) && "BR" !== t.nodeName ? (e = e.concat(vs(t))) : e.push(t), e;
                                              },
                                              []
                                          )
                                        : [];
                                },
                                bs = function (e) {
                                    return function (t) {
                                        return e === t;
                                    };
                                },
                                ys = function (e) {
                                    var t, n, r, o;
                                    return (
                                        (ps(e) ? "text()" : e.nodeName.toLowerCase()) +
                                        "[" +
                                        ((n = vs(gs((t = e)))),
                                        (r = qt.findIndex(n, bs(t), t)),
                                        (n = n.slice(0, r + 1)),
                                        (o = qt.reduce(
                                            n,
                                            function (e, t, r) {
                                                return ps(t) && ps(n[r - 1]) && e++, e;
                                            },
                                            0
                                        )),
                                        (n = qt.filter(n, Io.matchNodeNames(t.nodeName))),
                                        (r = qt.findIndex(n, bs(t), t)) - o + "]")
                                    );
                                },
                                ws = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s = [];
                                    return (
                                        (n = t.container()),
                                        (r = t.offset()),
                                        ps(n)
                                            ? (o = (function (e, t) {
                                                  for (; (e = e.previousSibling) && ps(e); ) t += e.data.length;
                                                  return t;
                                              })(n, r))
                                            : (r >= (i = n.childNodes).length ? ((o = "after"), (r = i.length - 1)) : (o = "before"), (n = i[r])),
                                        s.push(ys(n)),
                                        (a = (function (e, t, n) {
                                            var r = [];
                                            for (t = t.parentNode; t !== e; t = t.parentNode) r.push(t);
                                            return r;
                                        })(e, n)),
                                        (a = qt.filter(a, _(Io.isBogus))),
                                        (s = s.concat(
                                            qt.map(a, function (e) {
                                                return ys(e);
                                            })
                                        ))
                                            .reverse()
                                            .join("/") +
                                            "," +
                                            o
                                    );
                                },
                                Cs = function (e, t) {
                                    var n, r, o;
                                    return t
                                        ? ((t = (n = t.split(","))[0].split("/")),
                                          (o = 1 < n.length ? n[1] : "before"),
                                          (r = qt.reduce(
                                              t,
                                              function (e, t) {
                                                  return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))
                                                      ? ("text()" === t[1] && (t[1] = "#text"),
                                                        (n = e),
                                                        (r = t[1]),
                                                        (o = parseInt(t[2], 10)),
                                                        (i = vs(n)),
                                                        (i = qt.filter(i, function (e, t) {
                                                            return !ps(e) || !ps(i[t - 1]);
                                                        })),
                                                        (i = qt.filter(i, Io.matchNodeNames(r)))[o])
                                                      : null;
                                                  var n, r, o, i;
                                              },
                                              e
                                          ))
                                              ? ps(r)
                                                  ? (function (e, t) {
                                                        for (var n, r = e, o = 0; ps(r); ) {
                                                            if (((n = r.data.length), o <= t && t <= o + n)) {
                                                                (e = r), (t -= o);
                                                                break;
                                                            }
                                                            if (!ps(r.nextSibling)) {
                                                                (e = r), (t = n);
                                                                break;
                                                            }
                                                            (o += n), (r = r.nextSibling);
                                                        }
                                                        return ps(e) && t > e.data.length && (t = e.data.length), fs(e, t);
                                                    })(r, parseInt(o, 10))
                                                  : ((o = "after" === o ? hs(r) + 1 : hs(r)), fs(r.parentNode, o))
                                              : null)
                                        : null;
                                },
                                xs = function (e, t) {
                                    Io.isText(t) && 0 === t.data.length && e.remove(t);
                                },
                                _s = function (e, t, n) {
                                    var r, o, i, a, s, u, c;
                                    Io.isDocumentFragment(n)
                                        ? ((i = e),
                                          (a = t),
                                          (s = n),
                                          (u = N.from(s.firstChild)),
                                          (c = N.from(s.lastChild)),
                                          a.insertNode(s),
                                          u.each(function (e) {
                                              return xs(i, e.previousSibling);
                                          }),
                                          c.each(function (e) {
                                              return xs(i, e.nextSibling);
                                          }))
                                        : ((r = e), (o = n), t.insertNode(o), xs(r, o.previousSibling), xs(r, o.nextSibling));
                                },
                                ks = Io.isContentEditableFalse,
                                Ts = function (e, t, n, r, o) {
                                    var i,
                                        a = r[o ? "startContainer" : "endContainer"],
                                        s = r[o ? "startOffset" : "endOffset"],
                                        u = [],
                                        c = 0,
                                        l = e.getRoot();
                                    for (
                                        Io.isText(a)
                                            ? u.push(
                                                  n
                                                      ? (function (e, t, n) {
                                                            var r, o;
                                                            for (o = e(t.data.slice(0, n)).length, r = t.previousSibling; r && Io.isText(r); r = r.previousSibling) o += e(r.data).length;
                                                            return o;
                                                        })(t, a, s)
                                                      : s
                                              )
                                            : (s >= (i = a.childNodes).length && i.length && ((c = 1), (s = Math.max(0, i.length - 1))), u.push(e.nodeIndex(i[s], n) + c));
                                        a && a !== l;
                                        a = a.parentNode
                                    )
                                        u.push(e.nodeIndex(a, n));
                                    return u;
                                },
                                Es = function (e, t, n) {
                                    var r = 0;
                                    return (
                                        Yt.each(e.select(t), function (e) {
                                            if ("all" !== e.getAttribute("data-mce-bogus")) return e !== n && void r++;
                                        }),
                                        r
                                    );
                                },
                                Ss = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = t ? "start" : "end";
                                    (n = e[i + "Container"]),
                                        (r = e[i + "Offset"]),
                                        Io.isElement(n) && "TR" === n.nodeName && (n = (o = n.childNodes)[Math.min(t ? r : r - 1, o.length - 1)]) && ((r = t ? 0 : n.childNodes.length), e["set" + (t ? "Start" : "End")](n, r));
                                },
                                $s = function (e) {
                                    return Ss(e, !0), Ss(e, !1), e;
                                },
                                Ns = function (e, t) {
                                    var n;
                                    if (Io.isElement(e) && ((e = Ua(e, t)), ks(e))) return e;
                                    if (ha(e)) {
                                        if ((Io.isText(e) && pa(e) && (e = e.parentNode), (n = e.previousSibling), ks(n))) return n;
                                        if (((n = e.nextSibling), ks(n))) return n;
                                    }
                                },
                                As = function (e, t, n) {
                                    var r = n.getNode(),
                                        o = r ? r.nodeName : null,
                                        i = n.getRng();
                                    if (ks(r) || "IMG" === o) return { name: o, index: Es(n.dom, o, r) };
                                    var a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p = Ns((a = i).startContainer, a.startOffset) || Ns(a.endContainer, a.endOffset);
                                    return p ? { name: (o = p.tagName), index: Es(n.dom, o, p) } : ((s = e), (c = t), (l = i), (d = (u = n).dom), ((f = {}).start = Ts(d, s, c, l, !0)), u.isCollapsed() || (f.end = Ts(d, s, c, l, !1)), f);
                                },
                                Os = function (e, t, n) {
                                    var r = { "data-mce-type": "bookmark", id: t, style: "overflow:hidden;line-height:0px" };
                                    return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r);
                                },
                                Ds = function (e, t) {
                                    var n = e.dom,
                                        r = e.getRng(),
                                        o = n.uniqueId(),
                                        i = e.isCollapsed(),
                                        a = e.getNode(),
                                        s = a.nodeName;
                                    if ("IMG" === s) return { name: s, index: Es(n, s, a) };
                                    var u = $s(r.cloneRange());
                                    if (!i) {
                                        u.collapse(!1);
                                        var c = Os(n, o + "_end", t);
                                        _s(n, u, c);
                                    }
                                    (r = $s(r)).collapse(!0);
                                    var l = Os(n, o + "_start", t);
                                    return _s(n, r, l), e.moveToBookmark({ id: o, keep: 1 }), { id: o };
                                },
                                Rs = {
                                    getBookmark: function (e, t, n) {
                                        return 2 === t
                                            ? As(la, n, e)
                                            : 3 === t
                                            ? ((o = (r = e).getRng()), { start: ws(r.dom.getRoot(), fs.fromRangeStart(o)), end: ws(r.dom.getRoot(), fs.fromRangeEnd(o)) })
                                            : t
                                            ? { rng: e.getRng() }
                                            : Ds(e, !1);
                                        var r, o;
                                    },
                                    getUndoBookmark: a(As, i, !0),
                                    getPersistentBookmark: Ds,
                                },
                                Bs = "_mce_caret",
                                Ps = function (e) {
                                    return Io.isElement(e) && e.id === Bs;
                                },
                                Is = function (e, t) {
                                    for (; t && t !== e; ) {
                                        if (t.id === Bs) return t;
                                        t = t.parentNode;
                                    }
                                    return null;
                                },
                                Ls = Io.isElement,
                                Ms = Io.isText,
                                js = function (e) {
                                    var t = e.parentNode;
                                    t && t.removeChild(e);
                                },
                                Fs = function (e, t) {
                                    0 === t.length ? js(e) : (e.nodeValue = t);
                                },
                                Us = function (e) {
                                    var t = la(e);
                                    return { count: e.length - t.length, text: t };
                                },
                                Hs = function (e, t) {
                                    return zs(e), t;
                                },
                                zs = function (e) {
                                    if ((Ls(e) && ha(e) && (ga(e) ? e.removeAttribute("data-mce-caret") : js(e)), Ms(e))) {
                                        var t = la(
                                            (function (e) {
                                                try {
                                                    return e.nodeValue;
                                                } catch (e) {
                                                    return "";
                                                }
                                            })(e)
                                        );
                                        Fs(e, t);
                                    }
                                },
                                qs = {
                                    removeAndReposition: function (e, t) {
                                        return fs.isTextPosition(t)
                                            ? (function (e, t) {
                                                  return Ms(e) && t.container() === e
                                                      ? ((r = t), (o = Us((n = e).data.substr(0, r.offset()))), (i = Us(n.data.substr(r.offset()))), 0 < (a = o.text + i.text).length ? (Fs(n, a), fs(n, r.offset() - o.count)) : r)
                                                      : Hs(e, t);
                                                  var n, r, o, i, a;
                                              })(e, t)
                                            : ((n = e),
                                              (r = t).container() === n.parentNode
                                                  ? (function (e, t) {
                                                        var n,
                                                            r,
                                                            o,
                                                            i = t.container(),
                                                            a = ((n = ne(i.childNodes)), (r = e), (o = U(n, r)), -1 === o ? N.none() : N.some(o))
                                                                .map(function (e) {
                                                                    return e < t.offset() ? fs(i, t.offset() - 1) : t;
                                                                })
                                                                .getOr(t);
                                                        return zs(e), a;
                                                    })(n, r)
                                                  : Hs(n, r));
                                        var n, r;
                                    },
                                    remove: zs,
                                },
                                Vs = or.detect().browser,
                                Ws = Io.isContentEditableFalse,
                                Ks = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u = Pa(t.getBoundingClientRect(), n);
                                    return (
                                        "BODY" === e.tagName
                                            ? ((r = e.ownerDocument.documentElement), (o = e.scrollLeft || r.scrollLeft), (i = e.scrollTop || r.scrollTop))
                                            : ((s = e.getBoundingClientRect()), (o = e.scrollLeft - s.left), (i = e.scrollTop - s.top)),
                                        (u.left += o),
                                        (u.right += o),
                                        (u.top += i),
                                        (u.bottom += i),
                                        (u.width = 1),
                                        0 < (a = t.offsetWidth - t.clientWidth) && (n && (a *= -1), (u.left += a), (u.right += a)),
                                        u
                                    );
                                },
                                Gs = function (e, n, r) {
                                    var o,
                                        i,
                                        a = Li(N.none()),
                                        s = function () {
                                            !(function (e) {
                                                var t, n, r, o, i;
                                                for (t = hn("*[contentEditable=false]", e), o = 0; o < t.length; o++)
                                                    (r = (n = t[o]).previousSibling),
                                                        wa(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(i.length - 1, 1)),
                                                        (r = n.nextSibling),
                                                        ya(r) && (1 === (i = r.data).length ? r.parentNode.removeChild(r) : r.deleteData(0, 1));
                                            })(e),
                                                i && (qs.remove(i), (i = null)),
                                                a.get().each(function (e) {
                                                    hn(e.caret).remove(), a.set(N.none());
                                                }),
                                                clearInterval(o);
                                        },
                                        u = function () {
                                            o = ve.setInterval(function () {
                                                r() ? hn("div.mce-visual-caret", e).toggleClass("mce-visual-caret-hidden") : hn("div.mce-visual-caret", e).addClass("mce-visual-caret-hidden");
                                            }, 500);
                                        };
                                    return {
                                        show: function (r, o) {
                                            var c, l, d;
                                            if ((s(), (d = o), Io.isElement(d) && /^(TD|TH)$/i.test(d.tagName))) return null;
                                            if (!n(o))
                                                return (
                                                    (i = (function (e, t) {
                                                        var n, r, o;
                                                        if (((r = e.ownerDocument.createTextNode(ca)), (o = e.parentNode), t)) {
                                                            if (((n = e.previousSibling), fa(n))) {
                                                                if (ha(n)) return n;
                                                                if (wa(n)) return n.splitText(n.data.length - 1);
                                                            }
                                                            o.insertBefore(r, e);
                                                        } else {
                                                            if (((n = e.nextSibling), fa(n))) {
                                                                if (ha(n)) return n;
                                                                if (ya(n)) return n.splitText(1), n;
                                                            }
                                                            e.nextSibling ? o.insertBefore(r, e.nextSibling) : o.appendChild(r);
                                                        }
                                                        return r;
                                                    })(o, r)),
                                                    (l = o.ownerDocument.createRange()),
                                                    Ws(i.nextSibling) ? (l.setStart(i, 0), l.setEnd(i, 0)) : (l.setStart(i, 1), l.setEnd(i, 1)),
                                                    l
                                                );
                                            (i = (function (e, n, r) {
                                                var o, i, a;
                                                return (
                                                    (o = n.ownerDocument.createElement(e)).setAttribute("data-mce-caret", r ? "before" : "after"),
                                                    o.setAttribute("data-mce-bogus", "all"),
                                                    o.appendChild(((a = t.document.createElement("br")).setAttribute("data-mce-bogus", "1"), a)),
                                                    (i = n.parentNode),
                                                    r ? i.insertBefore(o, n) : n.nextSibling ? i.insertBefore(o, n.nextSibling) : i.appendChild(o),
                                                    o
                                                );
                                            })("p", o, r)),
                                                (c = Ks(e, o, r)),
                                                hn(i).css("top", c.top);
                                            var f = hn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(c).appendTo(e)[0];
                                            return (
                                                a.set(N.some({ caret: f, element: o, before: r })),
                                                a.get().each(function (e) {
                                                    r && hn(e.caret).addClass("mce-visual-caret-before");
                                                }),
                                                u(),
                                                (l = o.ownerDocument.createRange()).setStart(i, 0),
                                                l.setEnd(i, 0),
                                                l
                                            );
                                        },
                                        hide: s,
                                        getCss: function () {
                                            return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";
                                        },
                                        reposition: function () {
                                            a.get().each(function (t) {
                                                var n = Ks(e, t.element, t.before);
                                                hn(t.caret).css(n);
                                            });
                                        },
                                        destroy: function () {
                                            return ve.clearInterval(o);
                                        },
                                    };
                                },
                                Ys = function () {
                                    return Vs.isIE() || Vs.isEdge() || Vs.isFirefox();
                                },
                                Xs = function (e) {
                                    return Ws(e) || (Io.isTable(e) && Ys());
                                },
                                Js = Io.isContentEditableFalse,
                                Qs = Io.matchStyleValues("display", "block table table-cell table-caption list-item"),
                                Zs = ha,
                                eu = pa,
                                tu = Io.isElement,
                                nu = Aa,
                                ru = function (e) {
                                    return 0 < e;
                                },
                                ou = function (e) {
                                    return e < 0;
                                },
                                iu = function (e, t) {
                                    for (var n; (n = e(t)); ) if (!eu(n)) return n;
                                    return null;
                                },
                                au = function (e, t, n, r, o) {
                                    var i = new uo(e, r);
                                    if (ou(t)) {
                                        if ((Js(e) || eu(e)) && n((e = iu(i.prev, !0)))) return e;
                                        for (; (e = iu(i.prev, o)); ) if (n(e)) return e;
                                    }
                                    if (ru(t)) {
                                        if ((Js(e) || eu(e)) && n((e = iu(i.next, !0)))) return e;
                                        for (; (e = iu(i.next, o)); ) if (n(e)) return e;
                                    }
                                    return null;
                                },
                                su = function (e, t) {
                                    for (; e && e !== t; ) {
                                        if (Qs(e)) return e;
                                        e = e.parentNode;
                                    }
                                    return null;
                                },
                                uu = function (e, t, n) {
                                    return su(e.container(), n) === su(t.container(), n);
                                },
                                cu = function (e, t) {
                                    var n, r;
                                    return t ? ((n = t.container()), (r = t.offset()), tu(n) ? n.childNodes[r + e] : null) : null;
                                },
                                lu = function (e, t) {
                                    var n = t.ownerDocument.createRange();
                                    return e ? (n.setStartBefore(t), n.setEndBefore(t)) : (n.setStartAfter(t), n.setEndAfter(t)), n;
                                },
                                du = function (e, t, n) {
                                    var r, o, i, a;
                                    for (o = e ? "previousSibling" : "nextSibling"; n && n !== t; ) {
                                        if (((r = n[o]), Zs(r) && (r = r[o]), Js(r))) {
                                            if (((a = n), su(r, (i = t)) === su(a, i))) return r;
                                            break;
                                        }
                                        if (nu(r)) break;
                                        n = n.parentNode;
                                    }
                                    return null;
                                },
                                fu = a(lu, !0),
                                pu = a(lu, !1),
                                mu = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        s,
                                        u = a(du, !0, t),
                                        c = a(du, !1, t);
                                    if (((o = n.startContainer), (i = n.startOffset), pa(o))) {
                                        if ((tu(o) || (o = o.parentNode), "before" === (s = o.getAttribute("data-mce-caret")) && ((r = o.nextSibling), Xs(r)))) return fu(r);
                                        if ("after" === s && ((r = o.previousSibling), Xs(r))) return pu(r);
                                    }
                                    if (!n.collapsed) return n;
                                    if (Io.isText(o)) {
                                        if (Zs(o)) {
                                            if (1 === e) {
                                                if ((r = c(o))) return fu(r);
                                                if ((r = u(o))) return pu(r);
                                            }
                                            if (-1 === e) {
                                                if ((r = u(o))) return pu(r);
                                                if ((r = c(o))) return fu(r);
                                            }
                                            return n;
                                        }
                                        if (wa(o) && i >= o.data.length - 1) return 1 === e && (r = c(o)) ? fu(r) : n;
                                        if (ya(o) && i <= 1) return -1 === e && (r = u(o)) ? pu(r) : n;
                                        if (i === o.data.length) return (r = c(o)) ? fu(r) : n;
                                        if (0 === i) return (r = u(o)) ? pu(r) : n;
                                    }
                                    return n;
                                },
                                hu = function (e, t) {
                                    return N.from(cu(e ? 0 : -1, t)).filter(Js);
                                },
                                gu = function (e, t, n) {
                                    var r = mu(e, t, n);
                                    return -1 === e ? cs.fromRangeStart(r) : cs.fromRangeEnd(r);
                                },
                                vu = function (e) {
                                    return N.from(e.getNode()).map(ar.fromDom);
                                },
                                bu = function (e, t) {
                                    for (; (t = e(t)); ) if (t.isVisible()) return t;
                                    return t;
                                },
                                yu = function (e, t) {
                                    var n = uu(e, t);
                                    return !(n || !Io.isBr(e.getNode())) || n;
                                };
                            ((ds = ls || (ls = {}))[(ds.Backwards = -1)] = "Backwards"), (ds[(ds.Forwards = 1)] = "Forwards");
                            var wu,
                                Cu,
                                xu = Io.isContentEditableFalse,
                                _u = Io.isText,
                                ku = Io.isElement,
                                Tu = Io.isBr,
                                Eu = Aa,
                                Su = function (e) {
                                    return (
                                        Sa(e) ||
                                        (!!Oa((t = e)) &&
                                            !0 !==
                                                G(
                                                    ne(t.getElementsByTagName("*")),
                                                    function (e, t) {
                                                        return e || xa(t);
                                                    },
                                                    !1
                                                ))
                                    );
                                    var t;
                                },
                                $u = Da,
                                Nu = function (e, t) {
                                    return e.hasChildNodes() && t < e.childNodes.length ? e.childNodes[t] : null;
                                },
                                Au = function (e, t) {
                                    if (ru(e)) {
                                        if (Eu(t.previousSibling) && !_u(t.previousSibling)) return fs.before(t);
                                        if (_u(t)) return fs(t, 0);
                                    }
                                    if (ou(e)) {
                                        if (Eu(t.nextSibling) && !_u(t.nextSibling)) return fs.after(t);
                                        if (_u(t)) return fs(t, t.data.length);
                                    }
                                    return ou(e) ? (Tu(t) ? fs.before(t) : fs.after(t)) : fs.before(t);
                                },
                                Ou = function (e, t, n) {
                                    var r, i, a, s, u;
                                    if (!ku(n) || !t) return null;
                                    if (t.isEqual(fs.after(n)) && n.lastChild) {
                                        if (((u = fs.after(n.lastChild)), ou(e) && Eu(n.lastChild) && ku(n.lastChild))) return Tu(n.lastChild) ? fs.before(n.lastChild) : u;
                                    } else u = t;
                                    var c,
                                        l,
                                        d,
                                        f = u.container(),
                                        p = u.offset();
                                    if (_u(f)) {
                                        if (ou(e) && 0 < p) return fs(f, --p);
                                        if (ru(e) && p < f.length) return fs(f, ++p);
                                        r = f;
                                    } else {
                                        if (ou(e) && 0 < p && ((i = Nu(f, p - 1)), Eu(i))) return !Su(i) && (a = au(i, e, $u, i)) ? (_u(a) ? fs(a, a.data.length) : fs.after(a)) : _u(i) ? fs(i, i.data.length) : fs.before(i);
                                        if (ru(e) && p < f.childNodes.length && ((i = Nu(f, p)), Eu(i)))
                                            return Tu(i)
                                                ? ((c = n), (d = (l = i).nextSibling) && Eu(d) ? (_u(d) ? fs(d, 0) : fs.before(d)) : Ou(ls.Forwards, fs.after(l), c))
                                                : !Su(i) && (a = au(i, e, $u, i))
                                                ? _u(a)
                                                    ? fs(a, 0)
                                                    : fs.before(a)
                                                : _u(i)
                                                ? fs(i, 0)
                                                : fs.after(i);
                                        r = i || u.getNode();
                                    }
                                    return ((ru(e) && u.isAtEnd()) || (ou(e) && u.isAtStart())) && ((r = au(r, e, o(!0), n, !0)), $u(r, n))
                                        ? Au(e, r)
                                        : ((i = au(r, e, $u, n)),
                                          !(s = qt.last(
                                              K(
                                                  (function (e, t) {
                                                      for (var n = []; e && e !== t; ) n.push(e), (e = e.parentNode);
                                                      return n;
                                                  })(f, n),
                                                  xu
                                              )
                                          )) ||
                                          (i && s.contains(i))
                                              ? i
                                                  ? Au(e, i)
                                                  : null
                                              : (u = ru(e) ? fs.after(s) : fs.before(s)));
                                },
                                Du = function (e) {
                                    return {
                                        next: function (t) {
                                            return Ou(ls.Forwards, t, e);
                                        },
                                        prev: function (t) {
                                            return Ou(ls.Backwards, t, e);
                                        },
                                    };
                                },
                                Ru = function (e) {
                                    return fs.isTextPosition(e) ? 0 === e.offset() : Aa(e.getNode());
                                },
                                Bu = function (e) {
                                    if (fs.isTextPosition(e)) {
                                        var t = e.container();
                                        return e.offset() === t.data.length;
                                    }
                                    return Aa(e.getNode(!0));
                                },
                                Pu = function (e, t) {
                                    return !fs.isTextPosition(e) && !fs.isTextPosition(t) && e.getNode() === t.getNode(!0);
                                },
                                Iu = function (e, t, n) {
                                    var r = Du(t);
                                    return N.from(e ? r.next(n) : r.prev(n));
                                },
                                Lu = function (e, t, n) {
                                    return Iu(e, t, n).bind(function (r) {
                                        return uu(n, r, t) &&
                                            (function (e, t, n) {
                                                return e ? !Pu(t, n) && ((r = t), !(!fs.isTextPosition(r) && Io.isBr(r.getNode()))) && Bu(t) && Ru(n) : !Pu(n, t) && Ru(t) && Bu(n);
                                                var r;
                                            })(e, n, r)
                                            ? Iu(e, t, r)
                                            : N.some(r);
                                    });
                                },
                                Mu = function (e, t, n, r) {
                                    return Lu(e, t, n).bind(function (n) {
                                        return r(n) ? Mu(e, t, n, r) : N.some(n);
                                    });
                                },
                                ju = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s = e ? t.firstChild : t.lastChild;
                                    return Io.isText(s)
                                        ? N.some(fs(s, e ? 0 : s.data.length))
                                        : s
                                        ? Aa(s)
                                            ? N.some(e ? fs.before(s) : ((a = s), Io.isBr(a) ? fs.before(a) : fs.after(a)))
                                            : ((r = t), (o = s), (i = (n = e) ? fs.before(o) : fs.after(o)), Iu(n, r, i))
                                        : N.none();
                                },
                                Fu = a(Iu, !0),
                                Uu = a(Iu, !1),
                                Hu = { fromPosition: Iu, nextPosition: Fu, prevPosition: Uu, navigate: Lu, navigateIgnore: Mu, positionIn: ju, firstPositionIn: a(ju, !0), lastPositionIn: a(ju, !1) },
                                zu = function (e, t) {
                                    return Io.isElement(t) && e.isBlock(t) && !t.innerHTML && !fe.ie && (t.innerHTML = '<br data-mce-bogus="1" />'), t;
                                },
                                qu = function (e, t) {
                                    return Hu.lastPositionIn(e).fold(
                                        function () {
                                            return !1;
                                        },
                                        function (e) {
                                            return t.setStart(e.container(), e.offset()), t.setEnd(e.container(), e.offset()), !0;
                                        }
                                    );
                                },
                                Vu = function (e, t, n) {
                                    return !(!1 !== t.hasChildNodes() || !Is(e, t) || ((o = n), (i = (r = t).ownerDocument.createTextNode(ca)), r.appendChild(i), o.setStart(i, 0), o.setEnd(i, 0), 0));
                                    var r, o, i;
                                },
                                Wu = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a,
                                        s,
                                        u = n[t ? "start" : "end"],
                                        c = e.getRoot();
                                    if (u) {
                                        for (a = u[0], i = c, o = u.length - 1; 1 <= o; o--) {
                                            if (((s = i.childNodes), Vu(c, i, r))) return !0;
                                            if (u[o] > s.length - 1) return !!Vu(c, i, r) || qu(i, r);
                                            i = s[u[o]];
                                        }
                                        3 === i.nodeType && (a = Math.min(u[0], i.nodeValue.length)), 1 === i.nodeType && (a = Math.min(u[0], i.childNodes.length)), t ? r.setStart(i, a) : r.setEnd(i, a);
                                    }
                                    return !0;
                                },
                                Ku = function (e) {
                                    return Io.isText(e) && 0 < e.data.length;
                                },
                                Gu = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c = e.get(n.id + "_" + t),
                                        l = n.keep;
                                    if (c) {
                                        if (
                                            ((r = c.parentNode),
                                            "start" === t
                                                ? l
                                                    ? c.hasChildNodes()
                                                        ? ((r = c.firstChild), (o = 1))
                                                        : Ku(c.nextSibling)
                                                        ? ((r = c.nextSibling), (o = 0))
                                                        : Ku(c.previousSibling)
                                                        ? ((r = c.previousSibling), (o = c.previousSibling.data.length))
                                                        : ((r = c.parentNode), (o = e.nodeIndex(c) + 1))
                                                    : (o = e.nodeIndex(c))
                                                : l
                                                ? c.hasChildNodes()
                                                    ? ((r = c.firstChild), (o = 1))
                                                    : Ku(c.previousSibling)
                                                    ? ((r = c.previousSibling), (o = c.previousSibling.data.length))
                                                    : ((r = c.parentNode), (o = e.nodeIndex(c)))
                                                : (o = e.nodeIndex(c)),
                                            (s = r),
                                            (u = o),
                                            !l)
                                        ) {
                                            for (
                                                a = c.previousSibling,
                                                    i = c.nextSibling,
                                                    Yt.each(Yt.grep(c.childNodes), function (e) {
                                                        Io.isText(e) && (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""));
                                                    });
                                                (c = e.get(n.id + "_" + t));

                                            )
                                                e.remove(c, !0);
                                            a && i && a.nodeType === i.nodeType && Io.isText(a) && !fe.opera && ((o = a.nodeValue.length), a.appendData(i.nodeValue), e.remove(i), (s = a), (u = o));
                                        }
                                        return N.some(fs(s, u));
                                    }
                                    return N.none();
                                },
                                Yu = function (e, t, n) {
                                    return Rs.getBookmark(e, t, n);
                                },
                                Xu = function (e, t) {
                                    (function (e, t) {
                                        var n,
                                            r,
                                            o,
                                            i,
                                            a,
                                            s,
                                            u,
                                            c,
                                            l,
                                            d,
                                            f,
                                            p,
                                            m,
                                            h,
                                            g,
                                            v,
                                            b = e.dom;
                                        if (t) {
                                            if (((v = t), Yt.isArray(v.start))) return (h = t), (g = (m = b).createRng()), Wu(m, !0, h, g) && Wu(m, !1, h, g) ? N.some(g) : N.none();
                                            if ("string" == typeof t.start)
                                                return N.some(
                                                    ((d = t), (f = (l = b).createRng()), (p = Cs(l.getRoot(), d.start)), f.setStart(p.container(), p.offset()), (p = Cs(l.getRoot(), d.end)), f.setEnd(p.container(), p.offset()), f)
                                                );
                                            if (t.hasOwnProperty("id"))
                                                return (
                                                    (u = Gu((o = b), "start", (i = t))),
                                                    (c = Gu(o, "end", i)),
                                                    qa(u, ((s = u), (a = c).isSome() ? a : s), function (e, t) {
                                                        var n = o.createRng();
                                                        return n.setStart(zu(o, e.container()), e.offset()), n.setEnd(zu(o, t.container()), t.offset()), n;
                                                    })
                                                );
                                            if (t.hasOwnProperty("name"))
                                                return (
                                                    (n = b),
                                                    (r = t),
                                                    N.from(n.select(r.name)[r.index]).map(function (e) {
                                                        var t = n.createRng();
                                                        return t.selectNode(e), t;
                                                    })
                                                );
                                            if (t.hasOwnProperty("rng")) return N.some(t.rng);
                                        }
                                        return N.none();
                                    })(e, t).each(function (t) {
                                        e.setRng(t);
                                    });
                                },
                                Ju = function (e) {
                                    return Io.isElement(e) && "SPAN" === e.tagName && "bookmark" === e.getAttribute("data-mce-type");
                                },
                                Qu = function (e) {
                                    return e && /^(IMG)$/.test(e.nodeName);
                                },
                                Zu = function (e) {
                                    return e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue);
                                },
                                ec = function (e, t, n) {
                                    return ("color" !== n && "backgroundColor" !== n) || (t = e.toHex(t)), "fontWeight" === n && 700 === t && (t = "bold"), "fontFamily" === n && (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")), "" + t;
                                },
                                tc = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a = n.startOffset,
                                        s = n.startContainer;
                                    if ((n.startContainer !== n.endContainer || !Qu(n.startContainer.childNodes[n.startOffset])) && 1 === s.nodeType)
                                        for (a < (i = s.childNodes).length ? (r = new uo((s = i[a]), e.getParent(s, e.isBlock))) : (r = new uo((s = i[i.length - 1]), e.getParent(s, e.isBlock))).next(!0), o = r.current(); o; o = r.next())
                                            if (3 === o.nodeType && !Zu(o)) return n.setStart(o, 0), void t.setRng(n);
                                },
                                nc = function (e, t, n) {
                                    if (e) for (t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t]; e; e = e[t]) if (1 === e.nodeType || !Zu(e)) return e;
                                },
                                rc = function (e, t) {
                                    return t.nodeType && (t = t.nodeName), !!e.schema.getTextBlockElements()[t.toLowerCase()];
                                },
                                oc = function (e, t, n) {
                                    return e.schema.isValidChild(t, n);
                                },
                                ic = Zu,
                                ac = function (e, t) {
                                    return (
                                        "string" != typeof e
                                            ? (e = e(t))
                                            : t &&
                                              (e = e.replace(/%(\w+)/g, function (e, n) {
                                                  return t[n] || e;
                                              })),
                                        e
                                    );
                                },
                                sc = function (e, t) {
                                    return (t = t || ""), (e = "" + ((e = e || "").nodeName || e)), (t = "" + (t.nodeName || t)), e.toLowerCase() === t.toLowerCase();
                                },
                                uc = ec,
                                cc = function (e, t, n) {
                                    return ec(e, e.getStyle(t, n), n);
                                },
                                lc = function (e, t) {
                                    var n;
                                    return (
                                        e.getParent(t, function (t) {
                                            return (n = e.getStyle(t, "text-decoration")) && "none" !== n;
                                        }),
                                        n
                                    );
                                },
                                dc = function (e, t, n) {
                                    return e.getParents(t, n, e.getRoot());
                                },
                                fc = Ju,
                                pc = dc,
                                mc = ic,
                                hc = rc,
                                gc = function (e, t) {
                                    for (void 0 === t && (t = 3 === e.nodeType ? e.length : e.childNodes.length); e && e.hasChildNodes(); ) (e = e.childNodes[t]) && (t = 3 === e.nodeType ? e.length : e.childNodes.length);
                                    return { node: e, offset: t };
                                },
                                vc = function (e, t) {
                                    for (var n = t; n; ) {
                                        if (1 === n.nodeType && e.getContentEditable(n)) return "false" === e.getContentEditable(n) ? n : t;
                                        n = n.parentNode;
                                    }
                                    return t;
                                },
                                bc = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a = n.nodeValue;
                                    return (
                                        void 0 === r && (r = e ? a.length : 0),
                                        e
                                            ? ((o = a.lastIndexOf(" ", r)), -1 !== (o = (i = a.lastIndexOf(" ", r)) < o ? o : i) && !t && (o < r || !e) && o <= a.length && o++)
                                            : ((o = a.indexOf(" ", r)), (i = a.indexOf(" ", r)), (o = -1 !== o && (-1 === i || o < i) ? o : i)),
                                        o
                                    );
                                },
                                yc = function (e, t, n, r, o, i) {
                                    var a, s, u, c;
                                    if (3 === n.nodeType) {
                                        if (-1 !== (u = bc(o, i, n, r))) return { container: n, offset: u };
                                        c = n;
                                    }
                                    for (a = new uo(n, e.getParent(n, e.isBlock) || t); (s = a[o ? "prev" : "next"]()); )
                                        if (3 !== s.nodeType || fc(s.parentNode)) {
                                            if (e.isBlock(s) || sc(s, "BR")) break;
                                        } else if (-1 !== (u = bc(o, i, (c = s)))) return { container: s, offset: u };
                                    if (c) return { container: c, offset: (r = o ? 0 : c.length) };
                                },
                                wc = function (e, t, n, r, o) {
                                    var i, a, s, u;
                                    for (3 === r.nodeType && 0 === r.nodeValue.length && r[o] && (r = r[o]), i = pc(e, r), a = 0; a < i.length; a++)
                                        for (s = 0; s < t.length; s++) if ((!("collapsed" in (u = t[s])) || u.collapsed === n.collapsed) && e.is(i[a], u.selector)) return i[a];
                                    return r;
                                },
                                Cc = function (e, t, n, r) {
                                    var o,
                                        i = e.dom,
                                        a = i.getRoot();
                                    if ((t[0].wrapper || (o = i.getParent(n, t[0].block, a)), !o)) {
                                        var s = i.getParent(n, "LI,TD,TH");
                                        o = i.getParent(
                                            3 === n.nodeType ? n.parentNode : n,
                                            function (t) {
                                                return t !== a && hc(e, t);
                                            },
                                            s
                                        );
                                    }
                                    if ((o && t[0].wrapper && (o = pc(i, o, "ul,ol").reverse()[0] || o), !o)) for (o = n; o[r] && !i.isBlock(o[r]) && ((o = o[r]), !sc(o, "br")); );
                                    return o || n;
                                },
                                xc = function (e, t, n, r, o, i, a) {
                                    var s, u, c, l, d, f;
                                    if (((s = u = a ? n : o), (l = a ? "previousSibling" : "nextSibling"), (d = e.getRoot()), 3 === s.nodeType && !mc(s) && (a ? 0 < r : i < s.nodeValue.length))) return s;
                                    for (;;) {
                                        if (!t[0].block_expand && e.isBlock(u)) return u;
                                        for (c = u[l]; c; c = c[l]) if (!fc(c) && !mc(c) && ("BR" !== (f = c).nodeName || !f.getAttribute("data-mce-bogus") || f.nextSibling)) return u;
                                        if (u === d || u.parentNode === d) {
                                            s = u;
                                            break;
                                        }
                                        u = u.parentNode;
                                    }
                                    return s;
                                },
                                _c = function (e, t, n, r) {
                                    var o,
                                        i = t.startContainer,
                                        a = t.startOffset,
                                        s = t.endContainer,
                                        u = t.endOffset,
                                        c = e.dom;
                                    return (
                                        1 === i.nodeType && i.hasChildNodes() && 3 === (i = Ua(i, a)).nodeType && (a = 0),
                                        1 === s.nodeType && s.hasChildNodes() && 3 === (s = Ua(s, t.collapsed ? u : u - 1)).nodeType && (u = s.nodeValue.length),
                                        (i = vc(c, i)),
                                        (s = vc(c, s)),
                                        (fc(i.parentNode) || fc(i)) && ((i = fc(i) ? i : i.parentNode), 3 === (i = t.collapsed ? i.previousSibling || i : i.nextSibling || i).nodeType && (a = t.collapsed ? i.length : 0)),
                                        (fc(s.parentNode) || fc(s)) && ((s = fc(s) ? s : s.parentNode), 3 === (s = t.collapsed ? s.nextSibling || s : s.previousSibling || s).nodeType && (u = t.collapsed ? 0 : s.length)),
                                        t.collapsed && ((o = yc(c, e.getBody(), i, a, !0, r)) && ((i = o.container), (a = o.offset)), (o = yc(c, e.getBody(), s, u, !1, r)) && ((s = o.container), (u = o.offset))),
                                        n[0].inline &&
                                            (s = r
                                                ? s
                                                : (function (e, t) {
                                                      var n = gc(e, t);
                                                      if (n.node) {
                                                          for (; n.node && 0 === n.offset && n.node.previousSibling; ) n = gc(n.node.previousSibling);
                                                          n.node && 0 < n.offset && 3 === n.node.nodeType && " " === n.node.nodeValue.charAt(n.offset - 1) && 1 < n.offset && (e = n.node).splitText(n.offset - 1);
                                                      }
                                                      return e;
                                                  })(s, u)),
                                        (n[0].inline || n[0].block_expand) &&
                                            ((n[0].inline && 3 === i.nodeType && 0 !== a) || (i = xc(c, n, i, a, s, u, !0)), (n[0].inline && 3 === s.nodeType && u !== s.nodeValue.length) || (s = xc(c, n, i, a, s, u, !1))),
                                        n[0].selector && !1 !== n[0].expand && !n[0].inline && ((i = wc(c, n, t, i, "previousSibling")), (s = wc(c, n, t, s, "nextSibling"))),
                                        (n[0].block || n[0].selector) &&
                                            ((i = Cc(e, n, i, "previousSibling")), (s = Cc(e, n, s, "nextSibling")), n[0].block && (c.isBlock(i) || (i = xc(c, n, i, a, s, u, !0)), c.isBlock(s) || (s = xc(c, n, i, a, s, u, !1)))),
                                        1 === i.nodeType && ((a = c.nodeIndex(i)), (i = i.parentNode)),
                                        1 === s.nodeType && ((u = c.nodeIndex(s) + 1), (s = s.parentNode)),
                                        { startContainer: i, startOffset: a, endContainer: s, endOffset: u }
                                    );
                                },
                                kc = Yt.each,
                                Tc = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l = t.startContainer,
                                        d = t.startOffset,
                                        f = t.endContainer,
                                        p = t.endOffset;
                                    if (0 < (c = e.select("td[data-mce-selected],th[data-mce-selected]")).length)
                                        kc(c, function (e) {
                                            n([e]);
                                        });
                                    else {
                                        var m,
                                            h,
                                            g,
                                            v = function (e) {
                                                var t;
                                                return (
                                                    3 === (t = e[0]).nodeType && t === l && d >= t.nodeValue.length && e.splice(0, 1),
                                                    (t = e[e.length - 1]),
                                                    0 === p && 0 < e.length && t === f && 3 === t.nodeType && e.splice(e.length - 1, 1),
                                                    e
                                                );
                                            },
                                            b = function (e, t, n) {
                                                for (var r = []; e && e !== n; e = e[t]) r.push(e);
                                                return r;
                                            },
                                            y = function (e, t) {
                                                do {
                                                    if (e.parentNode === t) return e;
                                                    e = e.parentNode;
                                                } while (e);
                                            },
                                            w = function (e, t, r) {
                                                var o = r ? "nextSibling" : "previousSibling";
                                                for (s = (a = e).parentNode; a && a !== t; a = s) (s = a.parentNode), (u = b(a === e ? a : a[o], o)).length && (r || u.reverse(), n(v(u)));
                                            };
                                        if (
                                            (1 === l.nodeType && l.hasChildNodes() && (l = l.childNodes[d]),
                                            1 === f.nodeType && f.hasChildNodes() && ((h = p), --h > (g = (m = f).childNodes).length - 1 ? (h = g.length - 1) : h < 0 && (h = 0), (f = g[h] || m)),
                                            l === f)
                                        )
                                            return n(v([l]));
                                        for (r = e.findCommonAncestor(l, f), a = l; a; a = a.parentNode) {
                                            if (a === f) return w(l, r, !0);
                                            if (a === r) break;
                                        }
                                        for (a = f; a; a = a.parentNode) {
                                            if (a === l) return w(f, r);
                                            if (a === r) break;
                                        }
                                        (o = y(l, r) || l), (i = y(f, r) || f), w(l, o, !0), (u = b(o === l ? o : o.nextSibling, "nextSibling", i === f ? i.nextSibling : i)).length && n(v(u)), w(f, i);
                                    }
                                },
                                Ec =
                                    ((wu = pr),
                                    "text",
                                    {
                                        get: function (e) {
                                            if (!wu(e)) throw new Error("Can only get text value of a text node");
                                            return Cu(e).getOr("");
                                        },
                                        getOption: (Cu = function (e) {
                                            return wu(e) ? N.from(e.dom().nodeValue) : N.none();
                                        }),
                                        set: function (e, t) {
                                            if (!wu(e)) throw new Error("Can only set raw text value of a text node");
                                            e.dom().nodeValue = t;
                                        },
                                    }),
                                Sc = function (e) {
                                    return Ec.get(e);
                                },
                                $c = function (e, t, n, r) {
                                    var o,
                                        i = t.uid,
                                        a = void 0 === i ? ("mce-annotation", (o = new Date().getTime()), "mce-annotation_" + Math.floor(1e9 * Math.random()) + ++ra + String(o)) : i,
                                        s = (function (e, t) {
                                            var n = {};
                                            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                                            if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                                                var o = 0;
                                                for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
                                            }
                                            return n;
                                        })(t, ["uid"]),
                                        u = ar.fromTag("span", e);
                                    Fi(u, Ji()), Cr(u, "" + Zi(), a), Cr(u, "" + Qi(), n);
                                    var c,
                                        l = r(a, s),
                                        d = l.attributes,
                                        f = void 0 === d ? {} : d,
                                        p = l.classes,
                                        m = void 0 === p ? [] : p;
                                    return (
                                        xr(u, f),
                                        (c = u),
                                        V(m, function (e) {
                                            Fi(c, e);
                                        }),
                                        u
                                    );
                                },
                                Nc = function (e, t, n, r, o) {
                                    var i = [],
                                        a = $c(e.getDoc(), o, n, r),
                                        s = Li(N.none()),
                                        u = function () {
                                            s.set(N.none());
                                        },
                                        c = function (e) {
                                            V(e, l);
                                        },
                                        l = function (t) {
                                            var n, r;
                                            switch (
                                                (function (e, t, n, r) {
                                                    return Mr(t).fold(
                                                        function () {
                                                            return "skipping";
                                                        },
                                                        function (o) {
                                                            return "br" === r || (pr((a = t)) && "\ufeff" === Sc(a))
                                                                ? "valid"
                                                                : fr((i = t)) && Ui(i, Ji())
                                                                ? "existing"
                                                                : Ps(t)
                                                                ? "caret"
                                                                : oc(e, n, r) && oc(e, lr(o), n)
                                                                ? "valid"
                                                                : "invalid-child";
                                                            var i, a;
                                                        }
                                                    );
                                                })(e, t, "span", lr(t))
                                            ) {
                                                case "invalid-child":
                                                    u();
                                                    var o = zr(t);
                                                    c(o), u();
                                                    break;
                                                case "valid":
                                                    var l = s.get().getOrThunk(function () {
                                                        var e = ia(a);
                                                        return i.push(e), s.set(N.some(e)), e;
                                                    });
                                                    $i((n = t), (r = l)), Oi(r, n);
                                            }
                                        };
                                    return (
                                        Tc(e.dom, t, function (e) {
                                            var t;
                                            u(), (t = q(e, ar.fromDom)), c(t);
                                        }),
                                        i
                                    );
                                };
                            function Ac(e) {
                                var n,
                                    r =
                                        ((n = {}),
                                        {
                                            register: function (e, t) {
                                                n[e] = { name: e, settings: t };
                                            },
                                            lookup: function (e) {
                                                return n.hasOwnProperty(e)
                                                    ? N.from(n[e]).map(function (e) {
                                                          return e.settings;
                                                      })
                                                    : N.none();
                                            },
                                        });
                                !(function (e, t) {
                                    e.on("init", function () {
                                        e.serializer.addNodeFilter("span", function (e) {
                                            V(e, function (e) {
                                                var n;
                                                ((n = e), N.from(n.attributes.map[Qi()]).bind(t.lookup)).each(function (t) {
                                                    !1 === t.persistent && e.unwrap();
                                                });
                                            });
                                        });
                                    });
                                })(e, r);
                                var o = (function (e, n) {
                                    var r,
                                        o,
                                        i = Li({}),
                                        a = function (e, t) {
                                            s(e, function (e) {
                                                return t(e), e;
                                            });
                                        },
                                        s = function (e, t) {
                                            var n = i.get(),
                                                r = t(n.hasOwnProperty(e) ? n[e] : { listeners: [], previous: Li(N.none()) });
                                            (n[e] = r), i.set(n);
                                        },
                                        u =
                                            ((r = function () {
                                                var t,
                                                    n,
                                                    r = i.get(),
                                                    o = ((t = mr(r)), (n = M.call(t, 0)).sort(void 0), n);
                                                V(o, function (t) {
                                                    s(t, function (n) {
                                                        var r = n.previous.get();
                                                        return (
                                                            ea(e, N.some(t)).fold(
                                                                function () {
                                                                    var e;
                                                                    r.isSome() &&
                                                                        (a((e = t), function (t) {
                                                                            V(t.listeners, function (t) {
                                                                                return t(!1, e);
                                                                            });
                                                                        }),
                                                                        n.previous.set(N.none()));
                                                                },
                                                                function (e) {
                                                                    var t,
                                                                        o,
                                                                        i,
                                                                        s = e.uid,
                                                                        u = e.name,
                                                                        c = e.elements;
                                                                    r.is(s) ||
                                                                        ((o = s),
                                                                        (i = c),
                                                                        a((t = u), function (e) {
                                                                            V(e.listeners, function (e) {
                                                                                return e(!0, t, {
                                                                                    uid: o,
                                                                                    nodes: q(i, function (e) {
                                                                                        return e.dom();
                                                                                    }),
                                                                                });
                                                                            });
                                                                        }),
                                                                        n.previous.set(N.some(s)));
                                                                }
                                                            ),
                                                            { previous: n.previous, listeners: n.listeners }
                                                        );
                                                    });
                                                });
                                            }),
                                            (o = null),
                                            {
                                                cancel: function () {
                                                    null !== o && (t.clearTimeout(o), (o = null));
                                                },
                                                throttle: function () {
                                                    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                                                    null !== o && t.clearTimeout(o),
                                                        (o = t.setTimeout(function () {
                                                            r.apply(null, e), (o = null);
                                                        }, 30));
                                                },
                                            });
                                    return (
                                        e.on("remove", function () {
                                            u.cancel();
                                        }),
                                        e.on("nodeChange", function () {
                                            u.throttle();
                                        }),
                                        {
                                            addListener: function (e, t) {
                                                s(e, function (e) {
                                                    return { previous: e.previous, listeners: e.listeners.concat([t]) };
                                                });
                                            },
                                        }
                                    );
                                })(e);
                                return {
                                    register: function (e, t) {
                                        r.register(e, t);
                                    },
                                    annotate: function (t, n) {
                                        r.lookup(t).each(function (r) {
                                            !(function (e, t, n, r) {
                                                e.undoManager.transact(function () {
                                                    var o,
                                                        i,
                                                        a,
                                                        s,
                                                        u = e.selection.getRng();
                                                    if (
                                                        (u.collapsed &&
                                                            ((s = _c(
                                                                (o = e),
                                                                (i = u),
                                                                [{ inline: !0 }],
                                                                3 === (a = i).startContainer.nodeType && a.startContainer.nodeValue.length >= a.startOffset && " " === a.startContainer.nodeValue[a.startOffset]
                                                            )),
                                                            i.setStart(s.startContainer, s.startOffset),
                                                            i.setEnd(s.endContainer, s.endOffset),
                                                            o.selection.setRng(i)),
                                                        e.selection.getRng().collapsed)
                                                    ) {
                                                        var c = $c(e.getDoc(), r, t, n.decorate);
                                                        sa(c, " "), e.selection.getRng().insertNode(c.dom()), e.selection.select(c.dom());
                                                    } else {
                                                        var l = Rs.getPersistentBookmark(e.selection, !1),
                                                            d = e.selection.getRng();
                                                        Nc(e, d, t, n.decorate, r), e.selection.moveToBookmark(l);
                                                    }
                                                });
                                            })(e, t, r, n);
                                        });
                                    },
                                    annotationChanged: function (e, t) {
                                        o.addListener(e, t);
                                    },
                                    remove: function (t) {
                                        ea(e, N.some(t)).each(function (e) {
                                            var t = e.elements;
                                            V(t, Pi);
                                        });
                                    },
                                    getAll: function (t) {
                                        var n,
                                            r,
                                            o,
                                            i,
                                            a,
                                            s,
                                            u =
                                                ((n = e),
                                                (r = t),
                                                (o = ar.fromDom(n.getBody())),
                                                (i = zi(o, "[" + Qi() + '="' + r + '"]')),
                                                (a = {}),
                                                V(i, function (e) {
                                                    var t = _r(e, Zi()),
                                                        n = a.hasOwnProperty(t) ? a[t] : [];
                                                    a[t] = n.concat([e]);
                                                }),
                                                a);
                                        return (
                                            (s = function (e) {
                                                return q(e, function (e) {
                                                    return e.dom();
                                                });
                                            }),
                                            (function (e, t) {
                                                var n = {};
                                                return (
                                                    gr(e, function (e, r) {
                                                        var o = t(e, r);
                                                        n[o.k] = o.v;
                                                    }),
                                                    n
                                                );
                                            })(u, function (e, t) {
                                                return { k: t, v: s(e) };
                                            })
                                        );
                                    },
                                };
                            }
                            var Oc = function (e) {
                                    return 0 < e.length &&
                                        (!(t = e[e.length - 1]).firstChild ||
                                            (function (e) {
                                                return e && e.firstChild && e.firstChild === e.lastChild && (" " === (t = e.firstChild).data || Io.isBr(t));
                                                var t;
                                            })(t))
                                        ? e.slice(0, -1)
                                        : e;
                                    var t;
                                },
                                Dc = function (e, t) {
                                    var n = e.getParent(t, e.isBlock);
                                    return n && "LI" === n.nodeName ? n : null;
                                },
                                Rc = function (e, t) {
                                    var n = fs.after(e),
                                        r = Du(t).prev(n);
                                    return r ? r.toRange() : null;
                                },
                                Bc = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p,
                                        m,
                                        h,
                                        g,
                                        v,
                                        b,
                                        y,
                                        w,
                                        C,
                                        x =
                                            ((o = t),
                                            (i = r),
                                            (c = e.serialize(i)),
                                            (s = (a = o.createFragment(c)).firstChild),
                                            (u = a.lastChild),
                                            s && "META" === s.nodeName && s.parentNode.removeChild(s),
                                            u && "mce_marker" === u.id && u.parentNode.removeChild(u),
                                            a),
                                        _ = Dc(t, n.startContainer),
                                        k = Oc(
                                            (function (e) {
                                                return Yt.grep(e.childNodes, function (e) {
                                                    return "LI" === e.nodeName;
                                                });
                                            })(x.firstChild)
                                        ),
                                        T = t.getRoot(),
                                        E = function (e) {
                                            var r = fs.fromRangeStart(n),
                                                o = Du(t.getRoot()),
                                                i = 1 === e ? o.prev(r) : o.next(r);
                                            return !i || Dc(t, i.getNode()) !== _;
                                        };
                                    return E(1)
                                        ? (function (e, t, n) {
                                              var r,
                                                  o,
                                                  i,
                                                  a,
                                                  s = e.parentNode;
                                              return (
                                                  Yt.each(t, function (t) {
                                                      s.insertBefore(t, e);
                                                  }),
                                                  (r = e),
                                                  (o = n),
                                                  (i = fs.before(r)),
                                                  (a = Du(o).next(i)) ? a.toRange() : null
                                              );
                                          })(_, k, T)
                                        : E(2)
                                        ? ((l = _), (d = k), (f = T), t.insertAfter(d.reverse(), l), Rc(d[0], f))
                                        : ((m = k),
                                          (h = T),
                                          (g = p = _),
                                          (b = (v = n).cloneRange()),
                                          (y = v.cloneRange()),
                                          b.setStartBefore(g),
                                          y.setEndAfter(g),
                                          (w = [b.cloneContents(), y.cloneContents()]),
                                          (C = p.parentNode).insertBefore(w[0], p),
                                          Yt.each(m, function (e) {
                                              C.insertBefore(e, p);
                                          }),
                                          C.insertBefore(w[1], p),
                                          C.removeChild(p),
                                          Rc(m[m.length - 1], h));
                                },
                                Pc = Yt.each,
                                Ic = function (e) {
                                    this.compare = function (t, n) {
                                        if (t.nodeName !== n.nodeName) return !1;
                                        var r = function (t) {
                                                var n = {};
                                                return (
                                                    Pc(e.getAttribs(t), function (r) {
                                                        var o = r.nodeName.toLowerCase();
                                                        0 !== o.indexOf("_") && "style" !== o && 0 !== o.indexOf("data-") && (n[o] = e.getAttrib(t, o));
                                                    }),
                                                    n
                                                );
                                            },
                                            o = function (e, t) {
                                                var n, r;
                                                for (r in e)
                                                    if (e.hasOwnProperty(r)) {
                                                        if (void 0 === (n = t[r])) return !1;
                                                        if (e[r] !== n) return !1;
                                                        delete t[r];
                                                    }
                                                for (r in t) if (t.hasOwnProperty(r)) return !1;
                                                return !0;
                                            };
                                        return !(!o(r(t), r(n)) || !o(e.parseStyle(e.getAttrib(t, "style")), e.parseStyle(e.getAttrib(n, "style"))) || Ju(t) || Ju(n));
                                    };
                                },
                                Lc = function (e) {
                                    Ri(e), Oi(e, ar.fromHtml('<br data-mce-bogus="1">'));
                                },
                                Mc = function (e) {
                                    Wr(e).each(function (t) {
                                        jr(t).each(function (n) {
                                            ho(e) && vo(t) && ho(n) && Bi(t);
                                        });
                                    });
                                },
                                jc = Yt.makeMap;
                            function Fc(e) {
                                var t,
                                    n,
                                    r,
                                    o,
                                    i,
                                    a = [];
                                return (
                                    (t = (e = e || {}).indent),
                                    (n = jc(e.indent_before || "")),
                                    (r = jc(e.indent_after || "")),
                                    (o = Xo.getEncodeFunc(e.entity_encoding || "raw", e.entities)),
                                    (i = "html" === e.element_format),
                                    {
                                        start: function (e, s, u) {
                                            var c, l, d, f;
                                            if ((t && n[e] && 0 < a.length && 0 < (f = a[a.length - 1]).length && "\n" !== f && a.push("\n"), a.push("<", e), s))
                                                for (c = 0, l = s.length; c < l; c++) (d = s[c]), a.push(" ", d.name, '="', o(d.value, !0), '"');
                                            (a[a.length] = !u || i ? ">" : " />"), u && t && r[e] && 0 < a.length && 0 < (f = a[a.length - 1]).length && "\n" !== f && a.push("\n");
                                        },
                                        end: function (e) {
                                            var n;
                                            a.push("</", e, ">"), t && r[e] && 0 < a.length && 0 < (n = a[a.length - 1]).length && "\n" !== n && a.push("\n");
                                        },
                                        text: function (e, t) {
                                            0 < e.length && (a[a.length] = t ? e : o(e));
                                        },
                                        cdata: function (e) {
                                            a.push("<![CDATA[", e, "]]>");
                                        },
                                        comment: function (e) {
                                            a.push("\x3c!--", e, "--\x3e");
                                        },
                                        pi: function (e, n) {
                                            n ? a.push("<?", e, " ", o(n), "?>") : a.push("<?", e, "?>"), t && a.push("\n");
                                        },
                                        doctype: function (e) {
                                            a.push("<!DOCTYPE", e, ">", t ? "\n" : "");
                                        },
                                        reset: function () {
                                            a.length = 0;
                                        },
                                        getContent: function () {
                                            return a.join("").replace(/\n$/, "");
                                        },
                                    }
                                );
                            }
                            function Uc(e, t) {
                                void 0 === t && (t = si());
                                var n = Fc(e);
                                return (
                                    ((e = e || {}).validate = !("validate" in e) || e.validate),
                                    {
                                        serialize: function (r) {
                                            var o, i;
                                            (i = e.validate),
                                                (o = {
                                                    3: function (e) {
                                                        n.text(e.value, e.raw);
                                                    },
                                                    8: function (e) {
                                                        n.comment(e.value);
                                                    },
                                                    7: function (e) {
                                                        n.pi(e.name, e.value);
                                                    },
                                                    10: function (e) {
                                                        n.doctype(e.value);
                                                    },
                                                    4: function (e) {
                                                        n.cdata(e.value);
                                                    },
                                                    11: function (e) {
                                                        if ((e = e.firstChild)) for (; a(e), (e = e.next); );
                                                    },
                                                }),
                                                n.reset();
                                            var a = function (e) {
                                                var r,
                                                    s,
                                                    u,
                                                    c,
                                                    l,
                                                    d,
                                                    f,
                                                    p,
                                                    m,
                                                    h = o[e.type];
                                                if (h) h(e);
                                                else {
                                                    if (((r = e.name), (s = e.shortEnded), (u = e.attributes), i && u && 1 < u.length && (((d = []).map = {}), (m = t.getElementRule(e.name))))) {
                                                        for (f = 0, p = m.attributesOrder.length; f < p; f++) (c = m.attributesOrder[f]) in u.map && ((l = u.map[c]), (d.map[c] = l), d.push({ name: c, value: l }));
                                                        for (f = 0, p = u.length; f < p; f++) (c = u[f].name) in d.map || ((l = u.map[c]), (d.map[c] = l), d.push({ name: c, value: l }));
                                                        u = d;
                                                    }
                                                    if ((n.start(e.name, u, s), !s)) {
                                                        if ((e = e.firstChild)) for (; a(e), (e = e.next); );
                                                        n.end(r);
                                                    }
                                                }
                                            };
                                            return 1 !== r.type || e.inner ? o[11](r) : a(r), n.getContent();
                                        },
                                    }
                                );
                            }
                            var Hc = function (e) {
                                    return e.collapsed
                                        ? e
                                        : (function (e) {
                                              var n = fs.fromRangeStart(e),
                                                  r = fs.fromRangeEnd(e),
                                                  o = e.commonAncestorContainer;
                                              return Hu.fromPosition(!1, o, r)
                                                  .map(function (i) {
                                                      return !uu(n, r, o) && uu(n, i, o) ? ((a = n.container()), (s = n.offset()), (u = i.container()), (c = i.offset()), (l = t.document.createRange()).setStart(a, s), l.setEnd(u, c), l) : e;
                                                      var a, s, u, c, l;
                                                  })
                                                  .getOr(e);
                                          })(e);
                                },
                                zc = Io.matchNodeNames("td th"),
                                qc = function (e, t) {
                                    var n,
                                        r,
                                        o = e.selection.getRng(),
                                        i = o.startContainer,
                                        a = o.startOffset;
                                    o.collapsed && ((n = i), (r = a), Io.isText(n) && " " === n.nodeValue[r - 1]) && Io.isText(i) && (i.insertData(a - 1, " "), i.deleteData(a, 1), o.setStart(i, a), o.setEnd(i, a), e.selection.setRng(o)),
                                        e.selection.setContent(t);
                                },
                                Vc = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p,
                                        m = e.selection,
                                        h = e.dom;
                                    if (
                                        (/^ | $/.test(t) &&
                                            (t = (function (e, t) {
                                                var n, r;
                                                (n = e.startContainer), (r = e.startOffset);
                                                var o = function (e) {
                                                    return n[e] && 3 === n[e].nodeType;
                                                };
                                                return (
                                                    3 === n.nodeType &&
                                                        (0 < r ? (t = t.replace(/^&nbsp;/, " ")) : o("previousSibling") || (t = t.replace(/^ /, "&nbsp;")),
                                                        r < n.length ? (t = t.replace(/&nbsp;(<br>|)$/, " ")) : o("nextSibling") || (t = t.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))),
                                                    t
                                                );
                                            })(m.getRng(), t)),
                                        (r = e.parser),
                                        (p = n.merge),
                                        (o = Uc({ validate: e.settings.validate }, e.schema)),
                                        (f = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>'),
                                        (u = { content: t, format: "html", selection: !0, paste: n.paste }),
                                        (u = e.fire("BeforeSetContent", u)).isDefaultPrevented())
                                    )
                                        e.fire("SetContent", { content: u.content, format: "html", selection: !0, paste: n.paste });
                                    else {
                                        -1 === (t = u.content).indexOf("{$caret}") && (t += "{$caret}"), (t = t.replace(/\{\$caret\}/, f));
                                        var g,
                                            v,
                                            b,
                                            y,
                                            w,
                                            C,
                                            x = (l = m.getRng()).startContainer || (l.parentElement ? l.parentElement() : null),
                                            _ = e.getBody();
                                        x === _ &&
                                            m.isCollapsed() &&
                                            h.isBlock(_.firstChild) &&
                                            ((g = e), (v = _.firstChild) && !g.schema.getShortEndedElements()[v.nodeName]) &&
                                            h.isEmpty(_.firstChild) &&
                                            ((l = h.createRng()).setStart(_.firstChild, 0), l.setEnd(_.firstChild, 0), m.setRng(l)),
                                            m.isCollapsed() ||
                                                (e.selection.setRng(Hc(e.selection.getRng())),
                                                e.getDoc().execCommand("Delete", !1, null),
                                                (y = t),
                                                (w = (b = e.selection.getRng()).startContainer),
                                                (C = b.startOffset),
                                                3 === w.nodeType &&
                                                    b.collapsed &&
                                                    (" " === w.data[C] ? (w.deleteData(C, 1), /[\u00a0| ]$/.test(y) || (y += " ")) : " " === w.data[C - 1] && (w.deleteData(C - 1, 1), /[\u00a0| ]$/.test(y) || (y = " " + y))),
                                                (t = y));
                                        var k,
                                            T,
                                            E,
                                            S = { context: (i = m.getNode()).nodeName.toLowerCase(), data: n.data, insert: !0 };
                                        if (
                                            ((s = r.parse(t, S)),
                                            !0 === n.paste &&
                                                (function (e, t) {
                                                    var n,
                                                        r,
                                                        o,
                                                        i,
                                                        a,
                                                        s,
                                                        u = t.firstChild,
                                                        c = t.lastChild;
                                                    return (
                                                        u && "meta" === u.name && (u = u.next),
                                                        c && "mce_marker" === c.attr("id") && (c = c.prev),
                                                        (r = c),
                                                        (s = (n = e).getNonEmptyElements()),
                                                        r &&
                                                            (r.isEmpty(s) || ((o = r), n.getBlockElements()[o.name] && (a = o).firstChild && a.firstChild === a.lastChild && ("br" === (i = o.firstChild).name || " " === i.value))) &&
                                                            (c = c.prev),
                                                        !(!u || u !== c || ("ul" !== u.name && "ol" !== u.name))
                                                    );
                                                })(e.schema, s) &&
                                                (function (e, t) {
                                                    return !!Dc(e, t);
                                                })(h, i))
                                        )
                                            return (l = Bc(o, h, e.selection.getRng(), s)), e.selection.setRng(l), void e.fire("SetContent", u);
                                        if (
                                            ((function (e) {
                                                for (var t = e; (t = t.walk()); ) 1 === t.type && t.attr("data-mce-fragment", "1");
                                            })(s),
                                            "mce_marker" === (d = s.lastChild).attr("id"))
                                        )
                                            for (d = (c = d).prev; d; d = d.walk(!0))
                                                if (3 === d.type || !h.isBlock(d.name)) {
                                                    e.schema.isValidChild(d.parent.name, "span") && d.parent.insert(c, d, "br" === d.name);
                                                    break;
                                                }
                                        if ((e._selectionOverrides.showBlockCaretContainer(i), S.invalid)) {
                                            for (qc(e, f), i = m.getNode(), a = e.getBody(), 9 === i.nodeType ? (i = d = a) : (d = i); d !== a; ) d = (i = d).parentNode;
                                            (t = i === a ? a.innerHTML : h.getOuterHTML(i)),
                                                (t = o.serialize(
                                                    r.parse(
                                                        t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function () {
                                                            return o.serialize(s);
                                                        })
                                                    )
                                                )),
                                                i === a ? h.setHTML(a, t) : h.setOuterHTML(i, t);
                                        } else
                                            !(function (e, t, n) {
                                                if ("all" === n.getAttribute("data-mce-bogus")) n.parentNode.insertBefore(e.dom.createFragment(t), n);
                                                else {
                                                    var r = n.firstChild,
                                                        o = n.lastChild;
                                                    !r || (r === o && "BR" === r.nodeName) ? e.dom.setHTML(n, t) : qc(e, t);
                                                }
                                            })(e, (t = o.serialize(s)), i);
                                        !(function (e, t) {
                                            var n = e.schema.getTextInlineElements(),
                                                r = e.dom;
                                            if (t) {
                                                var o = e.getBody(),
                                                    i = new Ic(r);
                                                Yt.each(r.select("*[data-mce-fragment]"), function (e) {
                                                    for (var t = e.parentNode; t && t !== o; t = t.parentNode) n[e.nodeName.toLowerCase()] && i.compare(t, e) && r.remove(e, !0);
                                                });
                                            }
                                        })(e, p),
                                            (function (e, t) {
                                                var n,
                                                    r,
                                                    o,
                                                    i,
                                                    a,
                                                    s = e.dom,
                                                    u = e.selection;
                                                if (t) {
                                                    if (
                                                        (e.selection.scrollIntoView(t),
                                                        (n = (function (t) {
                                                            for (var n = e.getBody(); t && t !== n; t = t.parentNode) if ("false" === e.dom.getContentEditable(t)) return t;
                                                            return null;
                                                        })(t)))
                                                    )
                                                        return s.remove(t), u.select(n);
                                                    var c = s.createRng();
                                                    (i = t.previousSibling) && 3 === i.nodeType
                                                        ? (c.setStart(i, i.nodeValue.length), fe.ie || ((a = t.nextSibling) && 3 === a.nodeType && (i.appendData(a.data), a.parentNode.removeChild(a))))
                                                        : (c.setStartBefore(t), c.setEndBefore(t)),
                                                        (r = s.getParent(t, s.isBlock)),
                                                        s.remove(t),
                                                        r &&
                                                            s.isEmpty(r) &&
                                                            (e.$(r).empty(),
                                                            c.setStart(r, 0),
                                                            c.setEnd(r, 0),
                                                            zc(r) ||
                                                            r.getAttribute("data-mce-fragment") ||
                                                            !(o = (function (t) {
                                                                var n = fs.fromRangeStart(t);
                                                                if ((n = Du(e.getBody()).next(n))) return n.toRange();
                                                            })(c))
                                                                ? s.add(r, s.create("br", { "data-mce-bogus": "1" }))
                                                                : ((c = o), s.remove(r))),
                                                        u.setRng(c);
                                                }
                                            })(e, h.get("mce_marker")),
                                            (k = e.getBody()),
                                            Yt.each(k.getElementsByTagName("*"), function (e) {
                                                e.removeAttribute("data-mce-fragment");
                                            }),
                                            (T = e.dom),
                                            (E = e.selection.getStart()),
                                            N.from(T.getParent(E, "td,th")).map(ar.fromDom).each(Mc),
                                            e.fire("SetContent", u),
                                            e.addVisual();
                                    }
                                },
                                Wc = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
                                Kc = function (e, t, n) {
                                    var r = e.getParam(t, n);
                                    if (-1 !== r.indexOf("=")) {
                                        var o = e.getParam(t, "", "hash");
                                        return o.hasOwnProperty(e.id) ? o[e.id] : n;
                                    }
                                    return r;
                                },
                                Gc = function (e) {
                                    return e.getParam("content_security_policy", "");
                                },
                                Yc = function (e) {
                                    if (e.getParam("force_p_newlines", !1)) return "p";
                                    var t = e.getParam("forced_root_block", "p");
                                    return !1 === t ? "" : t;
                                },
                                Xc = function (e) {
                                    return e.getParam("forced_root_block_attrs", {});
                                },
                                Jc = function (e) {
                                    return e.getParam("automatic_uploads", !0, "boolean");
                                },
                                Qc = function (e) {
                                    return e.getParam("images_reuse_filename", !1, "boolean");
                                },
                                Zc = function (e) {
                                    return e.getParam("images_upload_url", "", "string");
                                },
                                el = function (e) {
                                    return e.getParam("images_upload_base_path", "", "string");
                                },
                                tl = function (e) {
                                    return e.getParam("images_upload_credentials", !1, "boolean");
                                },
                                nl = function (e) {
                                    return e.getParam("images_upload_handler", null, "function");
                                },
                                rl = function (e) {
                                    return e.getParam("content_css_cors", !1, "boolean");
                                },
                                ol = function (e, t) {
                                    if (!t) return t;
                                    var n = t.container(),
                                        r = t.offset();
                                    return e
                                        ? ma(n)
                                            ? Io.isText(n.nextSibling)
                                                ? fs(n.nextSibling, 0)
                                                : fs.after(n)
                                            : va(t)
                                            ? fs(n, r + 1)
                                            : t
                                        : ma(n)
                                        ? Io.isText(n.previousSibling)
                                            ? fs(n.previousSibling, n.previousSibling.data.length)
                                            : fs.before(n)
                                        : ba(t)
                                        ? fs(n, r - 1)
                                        : t;
                                },
                                il = {
                                    isInlineTarget: function (e, t) {
                                        return Dr(
                                            ar.fromDom(t),
                                            (function (e) {
                                                return e.getParam("inline_boundaries_selector", "a[href],code,.mce-annotation", "string");
                                            })(e)
                                        );
                                    },
                                    findRootInline: function (e, t, n) {
                                        var r,
                                            o,
                                            i,
                                            a = ((r = e), (o = t), (i = n), K(yi.DOM.getParents(i.container(), "*", o), r));
                                        return N.from(a[a.length - 1]);
                                    },
                                    isRtl: function (e) {
                                        return "rtl" === yi.DOM.getStyle(e, "direction", !0) || ((t = e.textContent), Wc.test(t));
                                        var t;
                                    },
                                    isAtZwsp: function (e) {
                                        return va(e) || ba(e);
                                    },
                                    normalizePosition: ol,
                                    normalizeForwards: a(ol, !0),
                                    normalizeBackwards: a(ol, !1),
                                    hasSameParentBlock: function (e, t, n) {
                                        var r = su(t, e),
                                            o = su(n, e);
                                        return r && r === o;
                                    },
                                },
                                al = function (e, t) {
                                    return Pr(e, t)
                                        ? Ki(
                                              t,
                                              function (e) {
                                                  return bo(e) || wo(e);
                                              },
                                              ((n = e),
                                              function (e) {
                                                  return Br(n, ar.fromDom(e.dom().parentNode));
                                              })
                                          )
                                        : N.none();
                                    var n;
                                },
                                sl = function (e) {
                                    var t, n, r;
                                    e.dom.isEmpty(e.getBody()) && (e.setContent(""), (r = (n = (t = e).getBody()).firstChild && t.dom.isBlock(n.firstChild) ? n.firstChild : n), t.selection.setCursorLocation(r, 0));
                                },
                                ul = function (e, t) {
                                    return (
                                        (Aa(t) &&
                                            !1 ===
                                                ((r = e),
                                                (o = t),
                                                Io.isText(o) &&
                                                    /^[ \t\r\n]*$/.test(o.data) &&
                                                    !1 ===
                                                        (function (e, t) {
                                                            var n,
                                                                r,
                                                                o = ar.fromDom(e);
                                                            return (n = ar.fromDom(t)), (r = a(Br, o)), Gi(n, "pre,code", r).isSome();
                                                        })(r, o))) ||
                                        ((n = t), Io.isElement(n) && "A" === n.nodeName && n.hasAttribute("name")) ||
                                        cl(t)
                                    );
                                    var n, r, o;
                                },
                                cl = Io.hasAttribute("data-mce-bookmark"),
                                ll = Io.hasAttribute("data-mce-bogus"),
                                dl = Io.hasAttributeValue("data-mce-bogus", "all"),
                                fl = function (e) {
                                    return (function (e) {
                                        var t,
                                            n,
                                            r = 0;
                                        if (ul(e, e)) return !1;
                                        if (!(n = e.firstChild)) return !0;
                                        t = new uo(n, e);
                                        do {
                                            if (dl(n)) n = t.next(!0);
                                            else if (ll(n)) n = t.next();
                                            else if (Io.isBr(n)) r++, (n = t.next());
                                            else {
                                                if (ul(e, n)) return !1;
                                                n = t.next();
                                            }
                                        } while (n);
                                        return r <= 1;
                                    })(e.dom());
                                },
                                pl = Sr("block", "position"),
                                ml = Sr("from", "to"),
                                hl = function (e, t) {
                                    var n = ar.fromDom(e),
                                        r = ar.fromDom(t.container());
                                    return al(n, r).map(function (e) {
                                        return pl(e, t);
                                    });
                                },
                                gl = function (e, t, n) {
                                    return n.collapsed
                                        ? (function (e, t, n) {
                                              var r = hl(e, fs.fromRangeStart(n)),
                                                  o = r.bind(function (n) {
                                                      return Hu.fromPosition(t, e, n.position()).bind(function (n) {
                                                          return hl(e, n).map(function (n) {
                                                              return (
                                                                  (r = e),
                                                                  (o = t),
                                                                  (i = n),
                                                                  Io.isBr(i.position().getNode()) && !1 === fl(i.block())
                                                                      ? Hu.positionIn(!1, i.block().dom())
                                                                            .bind(function (e) {
                                                                                return e.isEqual(i.position())
                                                                                    ? Hu.fromPosition(o, r, e).bind(function (e) {
                                                                                          return hl(r, e);
                                                                                      })
                                                                                    : N.some(i);
                                                                            })
                                                                            .getOr(i)
                                                                      : i
                                                              );
                                                              var r, o, i;
                                                          });
                                                      });
                                                  });
                                              return qa(r, o, ml).filter(function (e) {
                                                  return (
                                                      !1 === Br((r = e).from().block(), r.to().block()) &&
                                                      Mr((n = e).from().block())
                                                          .bind(function (e) {
                                                              return Mr(n.to().block()).filter(function (t) {
                                                                  return Br(e, t);
                                                              });
                                                          })
                                                          .isSome() &&
                                                      ((t = e), !1 === Io.isContentEditableFalse(t.from().block().dom()) && !1 === Io.isContentEditableFalse(t.to().block().dom()))
                                                  );
                                                  var t, n, r;
                                              });
                                          })(e, t, n)
                                        : N.none();
                                },
                                vl = function (e, t) {
                                    return (function (e, t, n) {
                                        return Pr(t, e)
                                            ? (function (e, t) {
                                                  for (var n = I(t) ? t : k, r = e.dom(), o = []; null !== r.parentNode && void 0 !== r.parentNode; ) {
                                                      var i = r.parentNode,
                                                          a = ar.fromDom(i);
                                                      if ((o.push(a), !0 === n(a))) break;
                                                      r = i;
                                                  }
                                                  return o;
                                              })(e, function (e) {
                                                  return n(e) || Br(e, t);
                                              }).slice(0, -1)
                                            : [];
                                    })(e, t, o(!1));
                                },
                                bl = vl,
                                yl = function (e, t) {
                                    return [e].concat(vl(e, t));
                                },
                                wl = function (e) {
                                    var t,
                                        n =
                                            ((t = zr(e)),
                                            X(t, ho).fold(
                                                function () {
                                                    return t;
                                                },
                                                function (e) {
                                                    return t.slice(0, e);
                                                }
                                            ));
                                    return V(n, Bi), n;
                                },
                                Cl = function (e, t) {
                                    var n = yl(t, e);
                                    return Y(n.reverse(), fl).each(Bi);
                                },
                                xl = function (e, t, n, r) {
                                    if (fl(n)) return Lc(n), Hu.firstPositionIn(n.dom());
                                    0 ===
                                        K(Ur(r), function (e) {
                                            return !fl(e);
                                        }).length &&
                                        fl(t) &&
                                        $i(r, ar.fromTag("br"));
                                    var o = Hu.prevPosition(n.dom(), fs.before(r.dom()));
                                    return (
                                        V(wl(t), function (e) {
                                            $i(r, e);
                                        }),
                                        Cl(e, t),
                                        o
                                    );
                                },
                                _l = function (e, t, n) {
                                    if (fl(n)) return Bi(n), fl(t) && Lc(t), Hu.firstPositionIn(t.dom());
                                    var r = Hu.lastPositionIn(n.dom());
                                    return (
                                        V(wl(t), function (e) {
                                            Oi(n, e);
                                        }),
                                        Cl(e, t),
                                        r
                                    );
                                },
                                kl = function (e, t) {
                                    Hu.positionIn(e, t.dom())
                                        .map(function (e) {
                                            return e.getNode();
                                        })
                                        .map(ar.fromDom)
                                        .filter(vo)
                                        .each(Bi);
                                },
                                Tl = function (e, t, n) {
                                    return (
                                        kl(!0, t),
                                        kl(!1, n),
                                        (function (e, t) {
                                            return Pr(t, e) ? ((n = yl(e, t)), N.from(n[n.length - 1])) : N.none();
                                            var n;
                                        })(t, n).fold(a(_l, e, t, n), a(xl, e, t, n))
                                    );
                                },
                                El = function (e, t, n, r) {
                                    return t ? Tl(e, r, n) : Tl(e, n, r);
                                },
                                Sl = function (e, t) {
                                    var n,
                                        r = ar.fromDom(e.getBody());
                                    return (
                                        (n = gl(r.dom(), t, e.selection.getRng()).bind(function (e) {
                                            return El(r, t, e.from().block(), e.to().block());
                                        })).each(function (t) {
                                            e.selection.setRng(t.toRange());
                                        }),
                                        n.isSome()
                                    );
                                },
                                $l = function (e, t) {
                                    var n = ar.fromDom(t),
                                        r = a(Br, e);
                                    return Wi(n, _o, r).isSome();
                                },
                                Nl = function (e) {
                                    var t,
                                        n,
                                        r,
                                        o,
                                        i = ar.fromDom(e.getBody());
                                    return (function (e, t) {
                                        var n,
                                            r,
                                            o = Hu.prevPosition(e.dom(), fs.fromRangeStart(t)).isNone(),
                                            i = Hu.nextPosition(e.dom(), fs.fromRangeEnd(t)).isNone();
                                        return !($l((n = e), (r = t).startContainer) || $l(n, r.endContainer)) && o && i;
                                    })(i, e.selection.getRng())
                                        ? ((o = e).setContent(""), o.selection.setCursorLocation(), !0)
                                        : ((t = i),
                                          (n = e.selection),
                                          (r = n.getRng()),
                                          qa(al(t, ar.fromDom(r.startContainer)), al(t, ar.fromDom(r.endContainer)), function (e, o) {
                                              return (
                                                  !1 === Br(e, o) &&
                                                  (r.deleteContents(),
                                                  El(t, !0, e, o).each(function (e) {
                                                      n.setRng(e.toRange());
                                                  }),
                                                  !0)
                                              );
                                          }).getOr(!1));
                                },
                                Al = function (e, t) {
                                    return !e.selection.isCollapsed() && Nl(e);
                                },
                                Ol = function (e) {
                                    if (!R(e)) throw new Error("cases must be an array");
                                    if (0 === e.length) throw new Error("there must be at least one case");
                                    var n = [],
                                        r = {};
                                    return (
                                        V(e, function (o, i) {
                                            var a = mr(o);
                                            if (1 !== a.length) throw new Error("one and only one name per case");
                                            var s = a[0],
                                                u = o[s];
                                            if (void 0 !== r[s]) throw new Error("duplicate key detected:" + s);
                                            if ("cata" === s) throw new Error("cannot have a case named cata (sorry)");
                                            if (!R(u)) throw new Error("case arguments must be an array");
                                            n.push(s),
                                                (r[s] = function () {
                                                    var r = arguments.length;
                                                    if (r !== u.length) throw new Error("Wrong number of arguments to case " + s + ". Expected " + u.length + " (" + u + "), got " + r);
                                                    for (var o = new Array(r), a = 0; a < o.length; a++) o[a] = arguments[a];
                                                    return {
                                                        fold: function () {
                                                            if (arguments.length !== e.length) throw new Error("Wrong number of arguments to fold. Expected " + e.length + ", got " + arguments.length);
                                                            return arguments[i].apply(null, o);
                                                        },
                                                        match: function (e) {
                                                            var t = mr(e);
                                                            if (n.length !== t.length) throw new Error("Wrong number of arguments to match. Expected: " + n.join(",") + "\nActual: " + t.join(","));
                                                            if (
                                                                !Q(n, function (e) {
                                                                    return H(t, e);
                                                                })
                                                            )
                                                                throw new Error("Not all branches were specified when using match. Specified: " + t.join(", ") + "\nRequired: " + n.join(", "));
                                                            return e[s].apply(null, o);
                                                        },
                                                        log: function (e) {
                                                            t.console.log(e, { constructors: n, constructor: s, params: o });
                                                        },
                                                    };
                                                });
                                        }),
                                        r
                                    );
                                },
                                Dl = function (e) {
                                    return vu(e).exists(vo);
                                },
                                Rl = function (e, t, n) {
                                    var r = K(yl(ar.fromDom(n.container()), t), ho),
                                        o = ee(r).getOr(t);
                                    return Hu.fromPosition(e, o.dom(), n).filter(Dl);
                                },
                                Bl = function (e, t) {
                                    return vu(t).exists(vo) || Rl(!0, e, t).isSome();
                                },
                                Pl = function (e, t) {
                                    return ((n = t), N.from(n.getNode(!0)).map(ar.fromDom)).exists(vo) || Rl(!1, e, t).isSome();
                                    var n;
                                },
                                Il = a(Rl, !1),
                                Ll = a(Rl, !0),
                                Ml =
                                    (" ",
                                    function (e) {
                                        return " " === e;
                                    }),
                                jl = function (e) {
                                    return /^[\r\n\t ]$/.test(e);
                                },
                                Fl = function (e) {
                                    return !jl(e) && !Ml(e);
                                },
                                Ul = function (e, t, n) {
                                    return N.from(n.container())
                                        .filter(Io.isText)
                                        .exists(function (r) {
                                            var o = e ? 0 : -1;
                                            return t(r.data.charAt(n.offset() + o));
                                        });
                                },
                                Hl = a(Ul, !0, jl),
                                zl = a(Ul, !1, jl),
                                ql = function (e) {
                                    var t = e.container();
                                    return Io.isText(t) && 0 === t.data.length;
                                },
                                Vl = function (e, t) {
                                    var n = cu(e, t);
                                    return Io.isContentEditableFalse(n) && !Io.isBogusAll(n);
                                },
                                Wl = a(Vl, 0),
                                Kl = a(Vl, -1),
                                Gl = function (e, t) {
                                    return Io.isTable(cu(e, t));
                                },
                                Yl = a(Gl, 0),
                                Xl = a(Gl, -1),
                                Jl = Ol([{ remove: ["element"] }, { moveToElement: ["element"] }, { moveToPosition: ["position"] }]),
                                Ql = function (e, t, n, r) {
                                    var o = r.getNode(!1 === t);
                                    return al(ar.fromDom(e), ar.fromDom(n.getNode()))
                                        .map(function (e) {
                                            return fl(e) ? Jl.remove(e.dom()) : Jl.moveToElement(o);
                                        })
                                        .orThunk(function () {
                                            return N.some(Jl.moveToElement(o));
                                        });
                                },
                                Zl = function (e, t, n) {
                                    return Hu.fromPosition(t, e, n).bind(function (r) {
                                        return (
                                            (l = r.getNode()),
                                            _o(ar.fromDom(l)) || wo(ar.fromDom(l))
                                                ? N.none()
                                                : ((i = e),
                                                  (u = r),
                                                  (c = function (e) {
                                                      return go(ar.fromDom(e)) && !uu(s, u, i);
                                                  }),
                                                  hu(!(a = t), (s = n)).fold(function () {
                                                      return hu(a, u).fold(o(!1), c);
                                                  }, c)
                                                      ? N.none()
                                                      : (t && Io.isContentEditableFalse(r.getNode())) || (!1 === t && Io.isContentEditableFalse(r.getNode(!0)))
                                                      ? Ql(e, t, n, r)
                                                      : (t && Kl(n)) || (!1 === t && Wl(n))
                                                      ? N.some(Jl.moveToPosition(r))
                                                      : N.none())
                                        );
                                        var i, a, s, u, c, l;
                                    });
                                },
                                ed = function (e, t, n) {
                                    if (0 !== n) {
                                        var r,
                                            o,
                                            i,
                                            a = e.data.slice(t, t + n),
                                            s = t + n >= e.data.length,
                                            u = 0 === t;
                                        e.replaceData(
                                            t,
                                            n,
                                            ((o = u),
                                            (i = s),
                                            G(
                                                (r = a).split(""),
                                                function (e, t) {
                                                    return -1 !== " \f\n\r\t\v".indexOf(t) || " " === t
                                                        ? e.previousCharIsSpace || ("" === e.str && o) || (e.str.length === r.length - 1 && i)
                                                            ? { previousCharIsSpace: !1, str: e.str + " " }
                                                            : { previousCharIsSpace: !0, str: e.str + " " }
                                                        : { previousCharIsSpace: !1, str: e.str + t };
                                                },
                                                { previousCharIsSpace: !1, str: "" }
                                            ).str)
                                        );
                                    }
                                },
                                td = function (e, t) {
                                    var n,
                                        r = e.data.slice(t),
                                        o = r.length - ((n = r), n.replace(/^\s+/g, "")).length;
                                    return ed(e, t, o);
                                },
                                nd = function (e, t) {
                                    return (r = e), (o = (n = t).container()), (i = n.offset()), !1 === fs.isTextPosition(n) && o === r.parentNode && i > fs.before(r).offset() ? fs(t.container(), t.offset() - 1) : t;
                                    var n, r, o, i;
                                },
                                rd = function (e) {
                                    return Aa(e.previousSibling) ? N.some(((t = e.previousSibling), Io.isText(t) ? fs(t, t.data.length) : fs.after(t))) : e.previousSibling ? Hu.lastPositionIn(e.previousSibling) : N.none();
                                    var t;
                                },
                                od = function (e) {
                                    return Aa(e.nextSibling) ? N.some(((t = e.nextSibling), Io.isText(t) ? fs(t, 0) : fs.before(t))) : e.nextSibling ? Hu.firstPositionIn(e.nextSibling) : N.none();
                                    var t;
                                },
                                id = function (e, t, n) {
                                    return ((r = e),
                                    (o = t),
                                    (i = n),
                                    r
                                        ? (function (e, t) {
                                              return od(t)
                                                  .orThunk(function () {
                                                      return rd(t);
                                                  })
                                                  .orThunk(function () {
                                                      return (
                                                          (n = e),
                                                          (r = t),
                                                          Hu.nextPosition(n, fs.after(r)).fold(function () {
                                                              return Hu.prevPosition(n, fs.before(r));
                                                          }, N.some)
                                                      );
                                                      var n, r;
                                                  });
                                          })(o, i)
                                        : (function (e, t) {
                                              return rd(t)
                                                  .orThunk(function () {
                                                      return od(t);
                                                  })
                                                  .orThunk(function () {
                                                      return (
                                                          (n = e),
                                                          (r = t),
                                                          (o = fs.before(r.previousSibling ? r.previousSibling : r.parentNode)),
                                                          Hu.prevPosition(n, o).fold(function () {
                                                              return Hu.nextPosition(n, fs.after(r));
                                                          }, N.some)
                                                      );
                                                      var n, r, o;
                                                  });
                                          })(o, i)).map(a(nd, n));
                                    var r, o, i;
                                },
                                ad = function (e, t, n) {
                                    n.fold(
                                        function () {
                                            e.focus();
                                        },
                                        function (n) {
                                            e.selection.setRng(n.toRange(), t);
                                        }
                                    );
                                },
                                sd = function (e, t) {
                                    return t && e.schema.getBlockElements().hasOwnProperty(lr(t));
                                },
                                ud = function (e) {
                                    if (fl(e)) {
                                        var t = ar.fromHtml('<br data-mce-bogus="1">');
                                        return Ri(e), Oi(e, t), N.some(fs.before(t.dom()));
                                    }
                                    return N.none();
                                },
                                cd = function (e, t, n, r) {
                                    void 0 === r && (r = !0);
                                    var o,
                                        i,
                                        s = id(t, e.getBody(), n.dom()),
                                        u = Wi(
                                            n,
                                            a(sd, e),
                                            ((o = e.getBody()),
                                            function (e) {
                                                return e.dom() === o;
                                            })
                                        ),
                                        c = (function (e, t, n) {
                                            var r,
                                                o,
                                                i,
                                                a,
                                                s = jr(e).filter(pr),
                                                u = Fr(e).filter(pr);
                                            return (
                                                Bi(e),
                                                ((r = s),
                                                (o = u),
                                                (i = t),
                                                (a = function (e, t, r) {
                                                    var o,
                                                        i,
                                                        a,
                                                        s,
                                                        u = e.dom(),
                                                        c = t.dom(),
                                                        l = u.data.length;
                                                    return (i = c), (a = n), (s = Jn((o = u).data).length), o.appendData(i.data), Bi(ar.fromDom(i)), a && td(o, s), r.container() === c ? fs(u, l) : r;
                                                }),
                                                r.isSome() && o.isSome() && i.isSome() ? N.some(a(r.getOrDie(), o.getOrDie(), i.getOrDie())) : N.none()).orThunk(function () {
                                                    return (
                                                        n &&
                                                            (s.each(function (e) {
                                                                return (t = e.dom()), (n = e.dom().length), (o = (r = t.data.slice(0, n)).length - Jn(r).length), ed(t, n - o, o);
                                                                var t, n, r, o;
                                                            }),
                                                            u.each(function (e) {
                                                                return td(e.dom(), 0);
                                                            })),
                                                        t
                                                    );
                                                })
                                            );
                                        })(n, s, ((i = n), br(e.schema.getTextInlineElements(), lr(i))));
                                    e.dom.isEmpty(e.getBody())
                                        ? (e.setContent(""), e.selection.setCursorLocation())
                                        : u.bind(ud).fold(
                                              function () {
                                                  r && ad(e, t, c);
                                              },
                                              function (n) {
                                                  r && ad(e, t, N.some(n));
                                              }
                                          );
                                },
                                ld = function (e, t) {
                                    var n, r, o, i, a, s;
                                    return ((n = e.getBody()),
                                    (r = t),
                                    (o = e.selection.getRng()),
                                    (i = mu(r ? 1 : -1, n, o)),
                                    (a = fs.fromRangeStart(i)),
                                    (s = ar.fromDom(n)),
                                    !1 === r && Kl(a)
                                        ? N.some(Jl.remove(a.getNode(!0)))
                                        : r && Wl(a)
                                        ? N.some(Jl.remove(a.getNode()))
                                        : !1 === r && Wl(a) && Pl(s, a)
                                        ? Il(s, a).map(function (e) {
                                              return Jl.remove(e.getNode());
                                          })
                                        : r && Kl(a) && Bl(s, a)
                                        ? Ll(s, a).map(function (e) {
                                              return Jl.remove(e.getNode());
                                          })
                                        : (function (e, t, n) {
                                              return (
                                                  (i = t),
                                                  (a = n.getNode(!1 === i)),
                                                  (s = i ? "after" : "before"),
                                                  Io.isElement(a) && a.getAttribute("data-mce-caret") === s
                                                      ? ((r = t),
                                                        (o = n.getNode(!1 === t)),
                                                        r && Io.isContentEditableFalse(o.nextSibling)
                                                            ? N.some(Jl.moveToElement(o.nextSibling))
                                                            : !1 === r && Io.isContentEditableFalse(o.previousSibling)
                                                            ? N.some(Jl.moveToElement(o.previousSibling))
                                                            : N.none()).fold(function () {
                                                            return Zl(e, t, n);
                                                        }, N.some)
                                                      : Zl(e, t, n).bind(function (t) {
                                                            return (
                                                                (r = e),
                                                                (o = n),
                                                                t.fold(
                                                                    function (e) {
                                                                        return N.some(Jl.remove(e));
                                                                    },
                                                                    function (e) {
                                                                        return N.some(Jl.moveToElement(e));
                                                                    },
                                                                    function (e) {
                                                                        return uu(o, e, r) ? N.none() : N.some(Jl.moveToPosition(e));
                                                                    }
                                                                )
                                                            );
                                                            var r, o;
                                                        })
                                              );
                                              var r, o, i, a, s;
                                          })(n, r, a))
                                        .map(function (n) {
                                            return n.fold(
                                                ((a = e),
                                                (s = t),
                                                function (e) {
                                                    return a._selectionOverrides.hideFakeCaret(), cd(a, s, ar.fromDom(e)), !0;
                                                }),
                                                ((o = e),
                                                (i = t),
                                                function (e) {
                                                    var t = i ? fs.before(e) : fs.after(e);
                                                    return o.selection.setRng(t.toRange()), !0;
                                                }),
                                                ((r = e),
                                                function (e) {
                                                    return r.selection.setRng(e.toRange()), !0;
                                                })
                                            );
                                            var r, o, i, a, s;
                                        })
                                        .getOr(!1);
                                },
                                dd = function (e, t) {
                                    return e.selection.isCollapsed()
                                        ? ld(e, t)
                                        : (function (e, t) {
                                              var n,
                                                  r = e.selection.getNode();
                                              return !!Io.isContentEditableFalse(r) && ((n = ar.fromDom(e.getBody())), V(zi(n, ".mce-offscreen-selection"), Bi), cd(e, t, ar.fromDom(e.selection.getNode())), sl(e), !0);
                                          })(e, t);
                                },
                                fd = function (e) {
                                    var t,
                                        n = (function (e, t) {
                                            for (; t && t !== e; ) {
                                                if (Io.isContentEditableTrue(t) || Io.isContentEditableFalse(t)) return t;
                                                t = t.parentNode;
                                            }
                                            return null;
                                        })(e.getBody(), e.selection.getNode());
                                    return (
                                        Io.isContentEditableTrue(n) &&
                                            e.dom.isBlock(n) &&
                                            e.dom.isEmpty(n) &&
                                            ((t = e.dom.create("br", { "data-mce-bogus": "1" })), e.dom.setHTML(n, ""), n.appendChild(t), e.selection.setRng(fs.before(t).toRange())),
                                        !0
                                    );
                                },
                                pd = Io.isText,
                                md = function (e) {
                                    return pd(e) && e.data[0] === ca;
                                },
                                hd = function (e) {
                                    return pd(e) && e.data[e.data.length - 1] === ca;
                                },
                                gd = function (e) {
                                    return e.ownerDocument.createTextNode(ca);
                                },
                                vd = function (e, t) {
                                    return e
                                        ? (function (e) {
                                              if (pd(e.previousSibling)) return hd(e.previousSibling) || e.previousSibling.appendData(ca), e.previousSibling;
                                              if (pd(e)) return md(e) || e.insertData(0, ca), e;
                                              var t = gd(e);
                                              return e.parentNode.insertBefore(t, e), t;
                                          })(t)
                                        : (function (e) {
                                              if (pd(e.nextSibling)) return md(e.nextSibling) || e.nextSibling.insertData(0, ca), e.nextSibling;
                                              if (pd(e)) return hd(e) || e.appendData(ca), e;
                                              var t = gd(e);
                                              return e.nextSibling ? e.parentNode.insertBefore(t, e.nextSibling) : e.parentNode.appendChild(t), t;
                                          })(t);
                                },
                                bd = a(vd, !0),
                                yd = a(vd, !1),
                                wd = function (e, t) {
                                    return Io.isText(e.container()) ? vd(t, e.container()) : vd(t, e.getNode());
                                },
                                Cd = function (e, t) {
                                    var n = t.get();
                                    return n && e.container() === n && ma(n);
                                },
                                xd = function (e, t) {
                                    return t.fold(
                                        function (t) {
                                            qs.remove(e.get());
                                            var n = bd(t);
                                            return e.set(n), N.some(fs(n, n.length - 1));
                                        },
                                        function (t) {
                                            return Hu.firstPositionIn(t).map(function (t) {
                                                if (Cd(t, e)) return fs(e.get(), 1);
                                                qs.remove(e.get());
                                                var n = wd(t, !0);
                                                return e.set(n), fs(n, 1);
                                            });
                                        },
                                        function (t) {
                                            return Hu.lastPositionIn(t).map(function (t) {
                                                if (Cd(t, e)) return fs(e.get(), e.get().length - 1);
                                                qs.remove(e.get());
                                                var n = wd(t, !1);
                                                return e.set(n), fs(n, n.length - 1);
                                            });
                                        },
                                        function (t) {
                                            qs.remove(e.get());
                                            var n = yd(t);
                                            return e.set(n), N.some(fs(n, 1));
                                        }
                                    );
                                },
                                _d = function (e, t) {
                                    for (var n = 0; n < e.length; n++) {
                                        var r = e[n].apply(null, t);
                                        if (r.isSome()) return r;
                                    }
                                    return N.none();
                                },
                                kd = Ol([{ before: ["element"] }, { start: ["element"] }, { end: ["element"] }, { after: ["element"] }]),
                                Td = function (e, t) {
                                    return su(t, e) || e;
                                },
                                Ed = function (e, t, n) {
                                    var r = il.normalizeForwards(n),
                                        o = Td(t, r.container());
                                    return il.findRootInline(e, o, r).fold(function () {
                                        return Hu.nextPosition(o, r)
                                            .bind(a(il.findRootInline, e, o))
                                            .map(function (e) {
                                                return kd.before(e);
                                            });
                                    }, N.none);
                                },
                                Sd = function (e, t) {
                                    return null === Is(e, t);
                                },
                                $d = function (e, t, n) {
                                    return il.findRootInline(e, t, n).filter(a(Sd, t));
                                },
                                Nd = function (e, t, n) {
                                    var r = il.normalizeBackwards(n);
                                    return $d(e, t, r).bind(function (e) {
                                        return Hu.prevPosition(e, r).isNone() ? N.some(kd.start(e)) : N.none();
                                    });
                                },
                                Ad = function (e, t, n) {
                                    var r = il.normalizeForwards(n);
                                    return $d(e, t, r).bind(function (e) {
                                        return Hu.nextPosition(e, r).isNone() ? N.some(kd.end(e)) : N.none();
                                    });
                                },
                                Od = function (e, t, n) {
                                    var r = il.normalizeBackwards(n),
                                        o = Td(t, r.container());
                                    return il.findRootInline(e, o, r).fold(function () {
                                        return Hu.prevPosition(o, r)
                                            .bind(a(il.findRootInline, e, o))
                                            .map(function (e) {
                                                return kd.after(e);
                                            });
                                    }, N.none);
                                },
                                Dd = function (e) {
                                    return !1 === il.isRtl(Bd(e));
                                },
                                Rd = function (e, t, n) {
                                    return _d([Ed, Nd, Ad, Od], [e, t, n]).filter(Dd);
                                },
                                Bd = function (e) {
                                    return e.fold(i, i, i, i);
                                },
                                Pd = function (e) {
                                    return e.fold(o("before"), o("start"), o("end"), o("after"));
                                },
                                Id = function (e) {
                                    return e.fold(kd.before, kd.before, kd.after, kd.after);
                                },
                                Ld = function (e, t, n, r, o, i) {
                                    return qa(il.findRootInline(t, n, r), il.findRootInline(t, n, o), function (t, r) {
                                        return t !== r && il.hasSameParentBlock(n, t, r) ? kd.after(e ? t : r) : i;
                                    }).getOr(i);
                                },
                                Md = function (e, t) {
                                    return e.fold(o(!0), function (e) {
                                        return (r = t), !(Pd((n = e)) === Pd(r) && Bd(n) === Bd(r));
                                        var n, r;
                                    });
                                },
                                jd = function (e, t) {
                                    return e ? t.fold(r(N.some, kd.start), N.none, r(N.some, kd.after), N.none) : t.fold(N.none, r(N.some, kd.before), N.none, r(N.some, kd.end));
                                },
                                Fd = function (e, t, n, r) {
                                    var o = il.normalizePosition(e, r),
                                        i = Rd(t, n, o);
                                    return Rd(t, n, o)
                                        .bind(a(jd, e))
                                        .orThunk(function () {
                                            return (
                                                (o = e),
                                                (s = t),
                                                (u = n),
                                                (c = i),
                                                (l = r),
                                                (d = il.normalizePosition(o, l)),
                                                Hu.fromPosition(o, u, d)
                                                    .map(a(il.normalizePosition, o))
                                                    .fold(
                                                        function () {
                                                            return c.map(Id);
                                                        },
                                                        function (e) {
                                                            return Rd(s, u, e).map(a(Ld, o, s, u, d, e)).filter(a(Md, c));
                                                        }
                                                    )
                                                    .filter(Dd)
                                            );
                                            var o, s, u, c, l, d;
                                        });
                                },
                                Ud = Rd,
                                Hd = Fd,
                                zd = (a(Fd, !1), a(Fd, !0), Id),
                                qd = function (e) {
                                    return e.fold(kd.start, kd.start, kd.end, kd.end);
                                },
                                Vd = function (e, t, n) {
                                    var r = e ? 1 : -1;
                                    return t.setRng(fs(n.container(), n.offset() + r).toRange()), t.getSel().modify("move", e ? "forward" : "backward", "word"), !0;
                                },
                                Wd = function (e, t) {
                                    var n = t.selection.getRng(),
                                        r = e ? fs.fromRangeEnd(n) : fs.fromRangeStart(n);
                                    return (
                                        !!(function (e) {
                                            return I(e.selection.getSel().modify);
                                        })(t) && (e && va(r) ? Vd(!0, t.selection, r) : !(e || !ba(r)) && Vd(!1, t.selection, r))
                                    );
                                },
                                Kd = function (e, t) {
                                    var n = e.dom.createRng();
                                    n.setStart(t.container(), t.offset()), n.setEnd(t.container(), t.offset()), e.selection.setRng(n);
                                },
                                Gd = function (e) {
                                    return !1 !== e.settings.inline_boundaries;
                                },
                                Yd = function (e, t) {
                                    e ? t.setAttribute("data-mce-selected", "inline-boundary") : t.removeAttribute("data-mce-selected");
                                },
                                Xd = function (e, t, n) {
                                    return xd(t, n).map(function (t) {
                                        return Kd(e, t), n;
                                    });
                                },
                                Jd = function (e, t, n) {
                                    return function () {
                                        return !!Gd(t) && Wd(e, t);
                                    };
                                },
                                Qd = {
                                    move: function (e, t, n) {
                                        return function () {
                                            return (
                                                !!Gd(e) &&
                                                ((r = e),
                                                (o = t),
                                                (i = n),
                                                (s = r.getBody()),
                                                (u = fs.fromRangeStart(r.selection.getRng())),
                                                (c = a(il.isInlineTarget, r)),
                                                Hd(i, c, s, u).bind(function (e) {
                                                    return Xd(r, o, e);
                                                })).isSome()
                                            );
                                            var r, o, i, s, u, c;
                                        };
                                    },
                                    moveNextWord: a(Jd, !0),
                                    movePrevWord: a(Jd, !1),
                                    setupSelectedState: function (e) {
                                        var t = Li(null),
                                            n = a(il.isInlineTarget, e);
                                        return (
                                            e.on("NodeChange", function (r) {
                                                var o, i, s, u, c;
                                                Gd(e) &&
                                                    ((o = n),
                                                    (i = e.dom),
                                                    (s = r.parents),
                                                    (u = K(i.select('*[data-mce-selected="inline-boundary"]'), o)),
                                                    (c = K(s, o)),
                                                    V(Z(u, c), a(Yd, !1)),
                                                    V(Z(c, u), a(Yd, !0)),
                                                    (function (e, t) {
                                                        if (e.selection.isCollapsed() && !0 !== e.composing && t.get()) {
                                                            var n = fs.fromRangeStart(e.selection.getRng());
                                                            fs.isTextPosition(n) && !1 === il.isAtZwsp(n) && (Kd(e, qs.removeAndReposition(t.get(), n)), t.set(null));
                                                        }
                                                    })(e, t),
                                                    (function (e, t, n, r) {
                                                        if (t.selection.isCollapsed()) {
                                                            var o = K(r, e);
                                                            V(o, function (r) {
                                                                var o = fs.fromRangeStart(t.selection.getRng());
                                                                Ud(e, t.getBody(), o).bind(function (e) {
                                                                    return Xd(t, n, e);
                                                                });
                                                            });
                                                        }
                                                    })(n, e, t, r.parents));
                                            }),
                                            t
                                        );
                                    },
                                    setCaretPosition: Kd,
                                },
                                Zd = function (e, t) {
                                    return function (n) {
                                        return xd(t, n)
                                            .map(function (t) {
                                                return Qd.setCaretPosition(e, t), !0;
                                            })
                                            .getOr(!1);
                                    };
                                },
                                ef = function (e, n, r, o) {
                                    var i = e.getBody(),
                                        s = a(il.isInlineTarget, e);
                                    e.undoManager.ignore(function () {
                                        var a, u, c;
                                        e.selection.setRng(((a = r), (u = o), (c = t.document.createRange()).setStart(a.container(), a.offset()), c.setEnd(u.container(), u.offset()), c)),
                                            e.execCommand("Delete"),
                                            Ud(s, i, fs.fromRangeStart(e.selection.getRng())).map(qd).map(Zd(e, n));
                                    }),
                                        e.nodeChanged();
                                },
                                tf = function (e, t, n) {
                                    if (e.selection.isCollapsed() && !1 !== e.settings.inline_boundaries) {
                                        var r = fs.fromRangeStart(e.selection.getRng());
                                        return (function (e, t, n, r) {
                                            var i,
                                                s,
                                                u = ((i = e.getBody()), (s = r.container()), su(s, i) || i),
                                                c = a(il.isInlineTarget, e),
                                                l = Ud(c, u, r);
                                            return l
                                                .bind(function (e) {
                                                    return n ? e.fold(o(N.some(qd(e))), N.none, o(N.some(zd(e))), N.none) : e.fold(N.none, o(N.some(zd(e))), N.none, o(N.some(qd(e))));
                                                })
                                                .map(Zd(e, t))
                                                .getOrThunk(function () {
                                                    var o = Hu.navigate(n, u, r),
                                                        i = o.bind(function (e) {
                                                            return Ud(c, u, e);
                                                        });
                                                    return l.isSome() && i.isSome()
                                                        ? il
                                                              .findRootInline(c, u, r)
                                                              .map(function (t) {
                                                                  return (
                                                                      (r = t),
                                                                      !!qa(Hu.firstPositionIn(r), Hu.lastPositionIn(r), function (e, t) {
                                                                          var n = il.normalizePosition(!0, e),
                                                                              o = il.normalizePosition(!1, t);
                                                                          return Hu.nextPosition(r, n)
                                                                              .map(function (e) {
                                                                                  return e.isEqual(o);
                                                                              })
                                                                              .getOr(!0);
                                                                      }).getOr(!0) && (cd(e, n, ar.fromDom(t)), !0)
                                                                  );
                                                                  var r;
                                                              })
                                                              .getOr(!1)
                                                        : i
                                                              .bind(function (i) {
                                                                  return o.map(function (o) {
                                                                      return n ? ef(e, t, r, o) : ef(e, t, o, r), !0;
                                                                  });
                                                              })
                                                              .getOr(!1);
                                                });
                                        })(e, t, n, r);
                                    }
                                    return !1;
                                },
                                nf = Sr("start", "end"),
                                rf = Sr("rng", "table", "cells"),
                                of = Ol([{ removeTable: ["element"] }, { emptyCells: ["cells"] }]),
                                af = function (e, t) {
                                    return Xi(ar.fromDom(e), "td,th", t);
                                },
                                sf = function (e, t) {
                                    return Gi(e, "table", t);
                                },
                                uf = function (e) {
                                    return !1 === Br(e.start(), e.end());
                                },
                                cf = function (e, t) {
                                    return sf(e.start(), t).bind(function (n) {
                                        return sf(e.end(), t).bind(function (e) {
                                            return Br(n, e) ? N.some(n) : N.none();
                                        });
                                    });
                                },
                                lf = function (e) {
                                    return zi(e, "td,th");
                                },
                                df = function (e, t) {
                                    return cf(t, e).isSome();
                                },
                                ff = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        s = a(Br, e);
                                    return ((n = t),
                                    (r = s),
                                    (o = af(n.startContainer, r)),
                                    (i = af(n.endContainer, r)),
                                    qa(o, i, nf)
                                        .filter(uf)
                                        .filter(function (e) {
                                            return df(r, e);
                                        })
                                        .orThunk(function () {
                                            return (function (e, t) {
                                                var n = af(t.startContainer, e),
                                                    r = af(t.endContainer, e);
                                                return t.collapsed
                                                    ? N.none()
                                                    : qa(n, r, nf).fold(
                                                          function () {
                                                              return n.fold(
                                                                  function () {
                                                                      return r.bind(function (t) {
                                                                          return sf(t, e).bind(function (e) {
                                                                              return ee(lf(e)).map(function (e) {
                                                                                  return nf(e, t);
                                                                              });
                                                                          });
                                                                      });
                                                                  },
                                                                  function (t) {
                                                                      return sf(t, e).bind(function (e) {
                                                                          return te(lf(e)).map(function (e) {
                                                                              return nf(t, e);
                                                                          });
                                                                      });
                                                                  }
                                                              );
                                                          },
                                                          function (t) {
                                                              return df(e, t)
                                                                  ? N.none()
                                                                  : ((r = e),
                                                                    sf((n = t).start(), r).bind(function (e) {
                                                                        return te(lf(e)).map(function (e) {
                                                                            return nf(n.start(), e);
                                                                        });
                                                                    }));
                                                              var n, r;
                                                          }
                                                      );
                                            })(r, n);
                                        })).bind(function (e) {
                                        return cf((t = e), s).map(function (e) {
                                            return rf(t, e, lf(e));
                                        });
                                        var t;
                                    });
                                },
                                pf = function (e, t) {
                                    return X(e, function (e) {
                                        return Br(e, t);
                                    });
                                },
                                mf = function (e) {
                                    return ((t = e),
                                    qa(pf(t.cells(), t.rng().start()), pf(t.cells(), t.rng().end()), function (e, n) {
                                        return t.cells().slice(e, n + 1);
                                    })).map(function (t) {
                                        var n = e.cells();
                                        return t.length === n.length ? of.removeTable(e.table()) : of.emptyCells(t);
                                    });
                                    var t;
                                },
                                hf = function (e) {
                                    var t = [];
                                    if (e) for (var n = 0; n < e.rangeCount; n++) t.push(e.getRangeAt(n));
                                    return t;
                                },
                                gf = hf,
                                vf = function (e) {
                                    return K(
                                        (function (e) {
                                            return J(e, function (e) {
                                                var t = Fa(e);
                                                return t ? [ar.fromDom(t)] : [];
                                            });
                                        })(e),
                                        _o
                                    );
                                },
                                bf = function (e, t) {
                                    var n = (function (e) {
                                            return zi(e, "td[data-mce-selected],th[data-mce-selected]");
                                        })(t),
                                        r = vf(e);
                                    return 0 < n.length ? n : r;
                                },
                                yf = bf,
                                wf = function (e) {
                                    return bf(gf(e.selection.getSel()), ar.fromDom(e.getBody()));
                                },
                                Cf = function (e, t) {
                                    return V(t, Lc), e.selection.setCursorLocation(t[0].dom(), 0), !0;
                                },
                                xf = function (e, t) {
                                    return cd(e, !1, t), !0;
                                },
                                _f = function (e, t, n, r) {
                                    return Tf(t, r)
                                        .fold(
                                            function () {
                                                return (
                                                    (r = e),
                                                    (function (e, t) {
                                                        return ff(e, t).bind(mf);
                                                    })(t, n).map(function (e) {
                                                        return e.fold(a(xf, r), a(Cf, r));
                                                    })
                                                );
                                                var r;
                                            },
                                            function (t) {
                                                return Ef(e, t);
                                            }
                                        )
                                        .getOr(!1);
                                },
                                kf = function (e, t) {
                                    return Y(yl(t, e), _o);
                                },
                                Tf = function (e, t) {
                                    return Y(yl(t, e), function (e) {
                                        return "caption" === lr(e);
                                    });
                                },
                                Ef = function (e, t) {
                                    return Lc(t), e.selection.setCursorLocation(t.dom(), 0), N.some(!0);
                                },
                                Sf = function (e, t, n) {
                                    var r = ar.fromDom(e.getBody());
                                    return Tf(r, n)
                                        .fold(
                                            function () {
                                                return (function (e, t, n, r) {
                                                    var o = fs.fromRangeStart(e.selection.getRng());
                                                    return kf(n, r).bind(function (r) {
                                                        return fl(r)
                                                            ? Ef(e, r)
                                                            : ((i = e),
                                                              (a = n),
                                                              (s = t),
                                                              (u = r),
                                                              (c = o),
                                                              Hu.navigate(s, i.getBody(), c).bind(function (e) {
                                                                  return kf(a, ar.fromDom(e.getNode())).map(function (e) {
                                                                      return !1 === Br(e, u);
                                                                  });
                                                              }));
                                                        var i, a, s, u, c;
                                                    });
                                                })(e, t, r, n);
                                            },
                                            function (n) {
                                                return (
                                                    (o = e),
                                                    (i = t),
                                                    (a = r),
                                                    (s = n),
                                                    (u = fs.fromRangeStart(o.selection.getRng())),
                                                    fl(s)
                                                        ? Ef(o, s)
                                                        : (function (e, t, n, r, o) {
                                                              return Hu.navigate(n, e.getBody(), o)
                                                                  .bind(function (i) {
                                                                      return (
                                                                          (u = r),
                                                                          (c = n),
                                                                          (l = o),
                                                                          (d = i),
                                                                          Hu.firstPositionIn(u.dom())
                                                                              .bind(function (e) {
                                                                                  return Hu.lastPositionIn(u.dom()).map(function (t) {
                                                                                      return c ? l.isEqual(e) && d.isEqual(t) : l.isEqual(t) && d.isEqual(e);
                                                                                  });
                                                                              })
                                                                              .getOr(!0)
                                                                              ? Ef(e, r)
                                                                              : ((a = r),
                                                                                (s = i),
                                                                                Tf(t, ar.fromDom(s.getNode())).map(function (e) {
                                                                                    return !1 === Br(e, a);
                                                                                }))
                                                                      );
                                                                      var a, s, u, c, l, d;
                                                                  })
                                                                  .or(N.some(!0));
                                                          })(o, a, i, s, u)
                                                );
                                                var o, i, a, s, u;
                                            }
                                        )
                                        .getOr(!1);
                                },
                                $f = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s = ar.fromDom(e.selection.getStart(!0)),
                                        u = wf(e);
                                    return e.selection.isCollapsed() && 0 === u.length ? Sf(e, t, s) : ((n = e), (r = s), (o = ar.fromDom(n.getBody())), (i = n.selection.getRng()), 0 !== (a = wf(n)).length ? Cf(n, a) : _f(n, o, i, r));
                                },
                                Nf = sc,
                                Af = function (e, t, n) {
                                    var r = e.formatter.get(n);
                                    if (r) for (var o = 0; o < r.length; o++) if (!1 === r[o].inherit && e.dom.is(t, r[o].selector)) return !0;
                                    return !1;
                                },
                                Of = function (e, t, n, r) {
                                    var o = e.dom.getRoot();
                                    return (
                                        t !== o &&
                                        ((t = e.dom.getParent(t, function (t) {
                                            return !!Af(e, t, n) || t.parentNode === o || !!Bf(e, t, n, r, !0);
                                        })),
                                        Bf(e, t, n, r))
                                    );
                                },
                                Df = function (e, t, n) {
                                    return !!Nf(t, n.inline) || !!Nf(t, n.block) || (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0);
                                },
                                Rf = function (e, t, n, r, o, i) {
                                    var a,
                                        s,
                                        u,
                                        c = n[r];
                                    if (n.onmatch) return n.onmatch(t, n, r);
                                    if (c)
                                        if (void 0 === c.length) {
                                            for (a in c)
                                                if (c.hasOwnProperty(a)) {
                                                    if (((s = "attributes" === r ? e.getAttrib(t, a) : cc(e, t, a)), o && !s && !n.exact)) return;
                                                    if ((!o || n.exact) && !Nf(s, uc(e, ac(c[a], i), a))) return;
                                                }
                                        } else for (u = 0; u < c.length; u++) if ("attributes" === r ? e.getAttrib(t, c[u]) : cc(e, t, c[u])) return n;
                                    return n;
                                },
                                Bf = function (e, t, n, r, o) {
                                    var i,
                                        a,
                                        s,
                                        u,
                                        c = e.formatter.get(n),
                                        l = e.dom;
                                    if (c && t)
                                        for (a = 0; a < c.length; a++)
                                            if (((i = c[a]), Df(e.dom, t, i) && Rf(l, t, i, "attributes", o, r) && Rf(l, t, i, "styles", o, r))) {
                                                if ((u = i.classes)) for (s = 0; s < u.length; s++) if (!e.dom.hasClass(t, u[s])) return;
                                                return i;
                                            }
                                },
                                Pf = {
                                    matchNode: Bf,
                                    matchName: Df,
                                    match: function (e, t, n, r) {
                                        var o;
                                        return r ? Of(e, r, t, n) : ((r = e.selection.getNode()), !!Of(e, r, t, n) || !((o = e.selection.getStart()) === r || !Of(e, o, t, n)));
                                    },
                                    matchAll: function (e, t, n) {
                                        var r,
                                            o = [],
                                            i = {};
                                        return (
                                            (r = e.selection.getStart()),
                                            e.dom.getParent(
                                                r,
                                                function (r) {
                                                    var a, s;
                                                    for (a = 0; a < t.length; a++) (s = t[a]), !i[s] && Bf(e, r, s, n) && ((i[s] = !0), o.push(s));
                                                },
                                                e.dom.getRoot()
                                            ),
                                            o
                                        );
                                    },
                                    canApply: function (e, t) {
                                        var n,
                                            r,
                                            o,
                                            i,
                                            a,
                                            s = e.formatter.get(t),
                                            u = e.dom;
                                        if (s)
                                            for (n = e.selection.getStart(), r = dc(u, n), i = s.length - 1; 0 <= i; i--) {
                                                if (!(a = s[i].selector) || s[i].defaultBlock) return !0;
                                                for (o = r.length - 1; 0 <= o; o--) if (u.is(r[o], a)) return !0;
                                            }
                                        return !1;
                                    },
                                    matchesUnInheritedFormatSelector: Af,
                                },
                                If = function (e, t) {
                                    return e.splitText(t);
                                },
                                Lf = function (e) {
                                    var t = e.startContainer,
                                        n = e.startOffset,
                                        r = e.endContainer,
                                        o = e.endOffset;
                                    return (
                                        t === r && Io.isText(t)
                                            ? 0 < n && n < t.nodeValue.length && ((t = (r = If(t, n)).previousSibling), n < o ? ((t = r = If(r, (o -= n)).previousSibling), (o = r.nodeValue.length), (n = 0)) : (o = 0))
                                            : (Io.isText(t) && 0 < n && n < t.nodeValue.length && ((t = If(t, n)), (n = 0)), Io.isText(r) && 0 < o && o < r.nodeValue.length && (o = (r = If(r, o).previousSibling).nodeValue.length)),
                                        { startContainer: t, startOffset: n, endContainer: r, endOffset: o }
                                    );
                                },
                                Mf = ca,
                                jf = "_mce_caret",
                                Ff = function (e) {
                                    return (
                                        0 <
                                        (function (e) {
                                            for (var t = []; e; ) {
                                                if ((3 === e.nodeType && e.nodeValue !== Mf) || 1 < e.childNodes.length) return [];
                                                1 === e.nodeType && t.push(e), (e = e.firstChild);
                                            }
                                            return t;
                                        })(e).length
                                    );
                                },
                                Uf = function (e) {
                                    var t;
                                    if (e) for (e = (t = new uo(e, e)).current(); e; e = t.next()) if (3 === e.nodeType) return e;
                                    return null;
                                },
                                Hf = function (e) {
                                    var t = ar.fromTag("span");
                                    return xr(t, { id: jf, "data-mce-bogus": "1", "data-mce-type": "format-caret" }), e && Oi(t, ar.fromText(Mf)), t;
                                },
                                zf = function (e, t, n) {
                                    void 0 === n && (n = !0);
                                    var r,
                                        o = e.dom,
                                        i = e.selection;
                                    if (Ff(t)) cd(e, !1, ar.fromDom(t), n);
                                    else {
                                        var a = i.getRng(),
                                            s = o.getParent(t, o.isBlock),
                                            u = ((r = Uf(t)) && r.nodeValue.charAt(0) === Mf && r.deleteData(0, 1), r);
                                        a.startContainer === u && 0 < a.startOffset && a.setStart(u, a.startOffset - 1),
                                            a.endContainer === u && 0 < a.endOffset && a.setEnd(u, a.endOffset - 1),
                                            o.remove(t, !0),
                                            s && o.isEmpty(s) && Lc(ar.fromDom(s)),
                                            i.setRng(a);
                                    }
                                },
                                qf = function (e, t, n) {
                                    void 0 === n && (n = !0);
                                    var r = e.dom,
                                        o = e.selection;
                                    if (t) zf(e, t, n);
                                    else if (!(t = Is(e.getBody(), o.getStart()))) for (; (t = r.get(jf)); ) zf(e, t, !1);
                                },
                                Vf = function (e, t, n) {
                                    var r = e.dom,
                                        o = r.getParent(n, a(rc, e));
                                    o && r.isEmpty(o)
                                        ? n.parentNode.replaceChild(t, n)
                                        : ((function (e) {
                                              var t = zi(e, "br"),
                                                  n = K(
                                                      (function (e) {
                                                          for (var t = [], n = e.dom(); n; ) t.push(ar.fromDom(n)), (n = n.lastChild);
                                                          return t;
                                                      })(e).slice(-1),
                                                      vo
                                                  );
                                              t.length === n.length && V(n, Bi);
                                          })(ar.fromDom(n)),
                                          r.isEmpty(n) ? n.parentNode.replaceChild(t, n) : r.insertAfter(t, n));
                                },
                                Wf = function (e, t) {
                                    return e.appendChild(t), t;
                                },
                                Kf = function (e, t) {
                                    var n,
                                        r,
                                        o =
                                            ((n = function (e, t) {
                                                return Wf(e, t.cloneNode(!1));
                                            }),
                                            (r = t),
                                            (function (e, t) {
                                                for (var n = e.length - 1; 0 <= n; n--) t(e[n]);
                                            })(e, function (e) {
                                                r = n(r, e);
                                            }),
                                            r);
                                    return Wf(o, o.ownerDocument.createTextNode(Mf));
                                },
                                Gf = function (e, t) {
                                    return e.schema.getTextInlineElements().hasOwnProperty(lr(t)) && !Ps(t.dom()) && !Io.isBogus(t.dom());
                                },
                                Yf = function (e) {
                                    return 1 === zr(e).length;
                                },
                                Xf = function (e, t) {
                                    var n,
                                        r = ar.fromDom(e.getBody()),
                                        i = ar.fromDom(e.selection.getStart()),
                                        s = K(
                                            ((n = yl(i, r)),
                                            X(n, ho).fold(o(n), function (e) {
                                                return n.slice(0, e);
                                            })),
                                            Yf
                                        );
                                    return te(s)
                                        .map(function (n) {
                                            var r,
                                                o = fs.fromRangeStart(e.selection.getRng());
                                            return !(
                                                !(function (e, t, n) {
                                                    return qa(Hu.firstPositionIn(n), Hu.lastPositionIn(n), function (r, o) {
                                                        var i = il.normalizePosition(!0, r),
                                                            a = il.normalizePosition(!1, o),
                                                            s = il.normalizePosition(!1, t);
                                                        return e
                                                            ? Hu.nextPosition(n, s)
                                                                  .map(function (e) {
                                                                      return e.isEqual(a) && t.isEqual(i);
                                                                  })
                                                                  .getOr(!1)
                                                            : Hu.prevPosition(n, s)
                                                                  .map(function (e) {
                                                                      return e.isEqual(i) && t.isEqual(a);
                                                                  })
                                                                  .getOr(!1);
                                                    }).getOr(!0);
                                                })(t, o, n.dom()) ||
                                                (Ps((r = n).dom()) && Ff(r.dom())) ||
                                                ((function (e, t, n, r) {
                                                    var o,
                                                        i,
                                                        s,
                                                        u,
                                                        c = a(Gf, t),
                                                        l = q(K(r, c), function (e) {
                                                            return e.dom();
                                                        });
                                                    if (0 === l.length) cd(t, e, n);
                                                    else {
                                                        var d = ((o = n.dom()), (i = l), (s = Hf(!1)), (u = Kf(i, s.dom())), $i(ar.fromDom(o), s), Bi(ar.fromDom(o)), fs(u, 0));
                                                        t.selection.setRng(d.toRange());
                                                    }
                                                })(t, e, n, s),
                                                0)
                                            );
                                        })
                                        .getOr(!1);
                                },
                                Jf = function (e, t) {
                                    return !!e.selection.isCollapsed() && Xf(e, t);
                                },
                                Qf = function (e) {
                                    for (var t = 0, n = 0, r = e; r && r.nodeType; ) (t += r.offsetLeft || 0), (n += r.offsetTop || 0), (r = r.offsetParent);
                                    return { x: t, y: n };
                                },
                                Zf = Io.isContentEditableTrue,
                                ep = Io.isContentEditableFalse,
                                tp = function (e, t, n, r, o) {
                                    return t._selectionOverrides.showCaret(e, n, r, o);
                                },
                                np = function (e, t) {
                                    var n, r;
                                    return e.fire("BeforeObjectSelected", { target: t }).isDefaultPrevented() ? null : ((r = (n = t).ownerDocument.createRange()).selectNode(n), r);
                                },
                                rp = function (e, t, n) {
                                    var r = mu(1, e.getBody(), t),
                                        o = fs.fromRangeStart(r),
                                        i = o.getNode();
                                    if (ep(i)) return tp(1, e, i, !o.isAtEnd(), !1);
                                    var a = o.getNode(!0);
                                    if (ep(a)) return tp(1, e, a, !1, !1);
                                    var s = e.dom.getParent(o.getNode(), function (e) {
                                        return ep(e) || Zf(e);
                                    });
                                    return ep(s) ? tp(1, e, s, !1, n) : null;
                                },
                                op = function (e, t, n) {
                                    return (t && t.collapsed && rp(e, t, n)) || t;
                                },
                                ip = function (e, t) {
                                    e.selection.setRng(t),
                                        (function (e, t) {
                                            ee(cs.fromRangeStart(t).getClientRects()).each(function (t) {
                                                var n,
                                                    r,
                                                    o,
                                                    i,
                                                    a,
                                                    s,
                                                    u,
                                                    c,
                                                    l,
                                                    d = (function (e) {
                                                        if (e.inline) return e.getBody().getBoundingClientRect();
                                                        var t = e.getWin();
                                                        return { left: 0, right: t.innerWidth, top: 0, bottom: t.innerHeight, width: t.innerWidth, height: t.innerHeight };
                                                    })(e),
                                                    f = ((a = n = d), (s = r = t).left > a.left && s.right < a.right ? 0 : s.left < a.left ? s.left - a.left : s.right - a.right),
                                                    p = ((o = n), (i = r).top > o.top && i.bottom < o.bottom ? 0 : i.top < o.top ? i.top - o.top : i.bottom - o.bottom);
                                                (c = 0 !== f ? (0 < f ? f + 4 : f - 4) : 0),
                                                    (l = 0 !== p ? (0 < p ? p + 4 : p - 4) : 0),
                                                    (u = e).inline ? ((u.getBody().scrollLeft += c), (u.getBody().scrollTop += l)) : u.getWin().scrollBy(c, l);
                                            });
                                        })(e, e.selection.getRng());
                                },
                                ap = function (e, t, n, r, o, i) {
                                    var a,
                                        s,
                                        u = tp(r, e, i.getNode(!o), o, !0);
                                    if (t.collapsed) {
                                        var c = t.cloneRange();
                                        o ? c.setEnd(u.startContainer, u.startOffset) : c.setStart(u.endContainer, u.endOffset), c.deleteContents();
                                    } else t.deleteContents();
                                    return e.selection.setRng(u), (a = e.dom), (s = n), Io.isText(s) && 0 === s.data.length && a.remove(s), !0;
                                },
                                sp = function (e, t) {
                                    return (function (e, t) {
                                        var n = e.selection.getRng();
                                        if (!Io.isText(n.commonAncestorContainer)) return !1;
                                        var r = t ? ls.Forwards : ls.Backwards,
                                            o = Du(e.getBody()),
                                            i = a(bu, o.next),
                                            s = a(bu, o.prev),
                                            u = t ? i : s,
                                            c = t ? Wl : Kl,
                                            l = gu(r, e.getBody(), n),
                                            d = il.normalizePosition(t, u(l));
                                        if (!d) return !1;
                                        if (c(d)) return ap(e, n, l.getNode(), r, t, d);
                                        var f = u(d);
                                        return !!(f && c(f) && yu(d, f)) && ap(e, n, l.getNode(), r, t, f);
                                    })(e, t);
                                },
                                up = function (e, t) {
                                    e.getDoc().execCommand(t, !1, null);
                                },
                                cp = function (e) {
                                    return function (t, n) {
                                        return N.from(n)
                                            .map(ar.fromDom)
                                            .filter(fr)
                                            .bind(function (n) {
                                                return (function (e, t, n) {
                                                    var r = function (t) {
                                                        return (
                                                            (n = e),
                                                            (r = t.dom()),
                                                            (o = Er(r, n)),
                                                            N.from(o).filter(function (e) {
                                                                return 0 < e.length;
                                                            })
                                                        );
                                                        var n, r, o;
                                                    };
                                                    return Ki(
                                                        ar.fromDom(n),
                                                        function (e) {
                                                            return r(e).isSome();
                                                        },
                                                        function (e) {
                                                            return Br(ar.fromDom(t), e);
                                                        }
                                                    ).bind(r);
                                                })(e, t, n.dom()).or(((r = e), (o = n.dom()), N.from(yi.DOM.getStyle(o, r, !0))));
                                                var r, o;
                                            })
                                            .getOr("");
                                    };
                                },
                                lp = {
                                    getFontSize: cp("font-size"),
                                    getFontFamily: r(function (e) {
                                        return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",");
                                    }, cp("font-family")),
                                    toPt: function (e, t) {
                                        return /[0-9.]+px$/.test(e) ? ((n = (72 * parseInt(e, 10)) / 96), (r = t || 0), (o = Math.pow(10, r)), Math.round(n * o) / o + "pt") : e;
                                        var n, r, o;
                                    },
                                },
                                dp = function (e) {
                                    return Hu.firstPositionIn(e.getBody()).map(function (e) {
                                        var t = e.container();
                                        return Io.isText(t) ? t.parentNode : t;
                                    });
                                },
                                fp = function (e) {
                                    return N.from(e.selection.getRng()).bind(function (t) {
                                        var n, r;
                                        return (r = e.getBody()), (n = t).startContainer === r && 0 === n.startOffset ? N.none() : N.from(e.selection.getStart(!0));
                                    });
                                },
                                pp = function (e, t) {
                                    if (/^[0-9\.]+$/.test(t)) {
                                        var n = parseInt(t, 10);
                                        if (1 <= n && n <= 7) {
                                            var r = (function (e) {
                                                    return Yt.explode(e.getParam("font_size_style_values", ""));
                                                })(e),
                                                o = (function (e) {
                                                    return Yt.explode(e.getParam("font_size_classes", ""));
                                                })(e);
                                            return o ? o[n - 1] || t : r[n - 1] || t;
                                        }
                                        return t;
                                    }
                                    return t;
                                },
                                mp = function (e, t) {
                                    return e && t && e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset;
                                },
                                hp = function (e, t, n) {
                                    return (
                                        null !==
                                        (function (e, t, n) {
                                            for (; e && e !== t; ) {
                                                if (n(e)) return e;
                                                e = e.parentNode;
                                            }
                                            return null;
                                        })(e, t, n)
                                    );
                                },
                                gp = function (e, t, n) {
                                    return hp(e, t, function (e) {
                                        return e.nodeName === n;
                                    });
                                },
                                vp = function (e) {
                                    return e && "TABLE" === e.nodeName;
                                },
                                bp = function (e, t, n) {
                                    for (var r = new uo(t, e.getParent(t.parentNode, e.isBlock) || e.getRoot()); (t = r[n ? "prev" : "next"]()); ) if (Io.isBr(t)) return !0;
                                },
                                yp = function (e, t, n, r, o) {
                                    var i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d = e.getRoot(),
                                        f = e.schema.getNonEmptyElements();
                                    if (((s = e.getParent(o.parentNode, e.isBlock) || d), r && Io.isBr(o) && t && e.isEmpty(s))) return N.some(cs(o.parentNode, e.nodeIndex(o)));
                                    for (i = new uo(o, s); (u = i[r ? "prev" : "next"]()); ) {
                                        if ("false" === e.getContentEditableParent(u) || ((l = d), ha((c = u)) && !1 === hp(c, l, Ps))) return N.none();
                                        if (Io.isText(u) && 0 < u.nodeValue.length) return !1 === gp(u, d, "A") ? N.some(cs(u, r ? u.nodeValue.length : 0)) : N.none();
                                        if (e.isBlock(u) || f[u.nodeName.toLowerCase()]) return N.none();
                                        a = u;
                                    }
                                    return n && a ? N.some(cs(a, 0)) : N.none();
                                },
                                wp = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p = e.getRoot(),
                                        m = !1;
                                    if (((o = r[(n ? "start" : "end") + "Container"]), (i = r[(n ? "start" : "end") + "Offset"]), (l = Io.isElement(o) && i === o.childNodes.length), (u = e.schema.getNonEmptyElements()), (c = n), ha(o)))
                                        return N.none();
                                    if ((Io.isElement(o) && i > o.childNodes.length - 1 && (c = !1), Io.isDocument(o) && ((o = p), (i = 0)), o === p)) {
                                        if (c && (s = o.childNodes[0 < i ? i - 1 : 0])) {
                                            if (ha(s)) return N.none();
                                            if (u[s.nodeName] || vp(s)) return N.none();
                                        }
                                        if (o.hasChildNodes()) {
                                            if (((i = Math.min(!c && 0 < i ? i - 1 : i, o.childNodes.length - 1)), (o = o.childNodes[i]), (i = Io.isText(o) && l ? o.data.length : 0), !t && o === p.lastChild && vp(o))) return N.none();
                                            if (
                                                (function (e, t) {
                                                    for (; t && t !== e; ) {
                                                        if (Io.isContentEditableFalse(t)) return !0;
                                                        t = t.parentNode;
                                                    }
                                                    return !1;
                                                })(p, o) ||
                                                ha(o)
                                            )
                                                return N.none();
                                            if (o.hasChildNodes() && !1 === vp(o)) {
                                                a = new uo((s = o), p);
                                                do {
                                                    if (Io.isContentEditableFalse(s) || ha(s)) {
                                                        m = !1;
                                                        break;
                                                    }
                                                    if (Io.isText(s) && 0 < s.nodeValue.length) {
                                                        (i = c ? 0 : s.nodeValue.length), (o = s), (m = !0);
                                                        break;
                                                    }
                                                    if (u[s.nodeName.toLowerCase()] && (!(d = s) || !/^(TD|TH|CAPTION)$/.test(d.nodeName))) {
                                                        (i = e.nodeIndex(s)), (o = s.parentNode), c || i++, (m = !0);
                                                        break;
                                                    }
                                                } while ((s = c ? a.next() : a.prev()));
                                            }
                                        }
                                    }
                                    return (
                                        t &&
                                            (Io.isText(o) &&
                                                0 === i &&
                                                yp(e, l, t, !0, o).each(function (e) {
                                                    (o = e.container()), (i = e.offset()), (m = !0);
                                                }),
                                            Io.isElement(o) &&
                                                ((s = o.childNodes[i]) || (s = o.childNodes[i - 1]),
                                                !s ||
                                                    !Io.isBr(s) ||
                                                    ("A", (f = s).previousSibling && "A" === f.previousSibling.nodeName) ||
                                                    bp(e, s, !1) ||
                                                    bp(e, s, !0) ||
                                                    yp(e, l, t, !0, s).each(function (e) {
                                                        (o = e.container()), (i = e.offset()), (m = !0);
                                                    }))),
                                        c &&
                                            !t &&
                                            Io.isText(o) &&
                                            i === o.nodeValue.length &&
                                            yp(e, l, t, !1, o).each(function (e) {
                                                (o = e.container()), (i = e.offset()), (m = !0);
                                            }),
                                        m ? N.some(cs(o, i)) : N.none()
                                    );
                                },
                                Cp = function (e, t) {
                                    var n = t.collapsed,
                                        r = t.cloneRange(),
                                        o = cs.fromRangeStart(t);
                                    return (
                                        wp(e, n, !0, r).each(function (e) {
                                            (n && cs.isAbove(o, e)) || r.setStart(e.container(), e.offset());
                                        }),
                                        n ||
                                            wp(e, n, !1, r).each(function (e) {
                                                r.setEnd(e.container(), e.offset());
                                            }),
                                        n && r.collapse(!0),
                                        mp(t, r) ? N.none() : N.some(r)
                                    );
                                },
                                xp = function (e, t, n) {
                                    var r = e.create("span", {}, "&nbsp;");
                                    n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r);
                                },
                                _p = function (e, t, n, r) {
                                    var o = e.createRng();
                                    r ? (o.setStartBefore(n), o.setEndBefore(n)) : (o.setStartAfter(n), o.setEndAfter(n)), t.setRng(o);
                                },
                                kp = function (e, t) {
                                    var n = ar.fromTag("br");
                                    $i(ar.fromDom(t), n), e.undoManager.add();
                                },
                                Tp = function (e, t) {
                                    Ep(e.getBody(), t) || Ni(ar.fromDom(t), ar.fromTag("br"));
                                    var n = ar.fromTag("br");
                                    Ni(ar.fromDom(t), n), xp(e.dom, e.selection, n.dom()), _p(e.dom, e.selection, n.dom(), !1), e.undoManager.add();
                                },
                                Ep = function (e, t) {
                                    return (
                                        (n = fs.after(t)),
                                        !!Io.isBr(n.getNode()) ||
                                            Hu.nextPosition(e, fs.after(t))
                                                .map(function (e) {
                                                    return Io.isBr(e.getNode());
                                                })
                                                .getOr(!1)
                                    );
                                    var n;
                                },
                                Sp = function (e) {
                                    return e && "A" === e.nodeName && "href" in e;
                                },
                                $p = function (e) {
                                    return e.fold(o(!1), Sp, Sp, o(!1));
                                },
                                Np = function (e, t) {
                                    t.fold(n, a(kp, e), a(Tp, e), n);
                                },
                                Ap = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = ((n = e), (r = a(il.isInlineTarget, n)), (o = fs.fromRangeStart(n.selection.getRng())), Ud(r, n.getBody(), o).filter($p));
                                    i.isSome()
                                        ? i.each(a(Np, e))
                                        : (function (e, t) {
                                              var n,
                                                  r,
                                                  o = e.selection,
                                                  i = e.dom,
                                                  a = o.getRng();
                                              Cp(i, a).each(function (e) {
                                                  a.setStart(e.startContainer, e.startOffset), a.setEnd(e.endContainer, e.endOffset);
                                              });
                                              var s = a.startOffset,
                                                  u = a.startContainer;
                                              if (1 === u.nodeType && u.hasChildNodes()) {
                                                  var c = s > u.childNodes.length - 1;
                                                  (u = u.childNodes[Math.min(s, u.childNodes.length - 1)] || u), (s = c && 3 === u.nodeType ? u.nodeValue.length : 0);
                                              }
                                              var l = i.getParent(u, i.isBlock),
                                                  d = l ? i.getParent(l.parentNode, i.isBlock) : null,
                                                  f = d ? d.nodeName.toUpperCase() : "",
                                                  p = t && t.ctrlKey;
                                              "LI" !== f || p || (l = d),
                                                  u &&
                                                      3 === u.nodeType &&
                                                      s >= u.nodeValue.length &&
                                                      ((function (e, t, n) {
                                                          for (var r, o = new uo(t, n), i = e.getNonEmptyElements(); (r = o.next()); ) if (i[r.nodeName.toLowerCase()] || 0 < r.length) return !0;
                                                      })(e.schema, u, l) ||
                                                          ((n = i.create("br")), a.insertNode(n), a.setStartAfter(n), a.setEndAfter(n), (r = !0))),
                                                  (n = i.create("br")),
                                                  _s(i, a, n),
                                                  xp(i, o, n),
                                                  _p(i, o, n, r),
                                                  e.undoManager.add();
                                          })(e, t);
                                },
                                Op = { create: Sr("start", "soffset", "finish", "foffset") },
                                Dp = Ol([{ before: ["element"] }, { on: ["element", "offset"] }, { after: ["element"] }]),
                                Rp =
                                    (Dp.before,
                                    Dp.on,
                                    Dp.after,
                                    function (e) {
                                        return e.fold(i, i, i);
                                    }),
                                Bp = Ol([{ domRange: ["rng"] }, { relative: ["startSitu", "finishSitu"] }, { exact: ["start", "soffset", "finish", "foffset"] }]),
                                Pp = {
                                    domRange: Bp.domRange,
                                    relative: Bp.relative,
                                    exact: Bp.exact,
                                    exactFromRange: function (e) {
                                        return Bp.exact(e.start(), e.soffset(), e.finish(), e.foffset());
                                    },
                                    getWin: function (e) {
                                        var t = e.match({
                                            domRange: function (e) {
                                                return ar.fromDom(e.startContainer);
                                            },
                                            relative: function (e, t) {
                                                return Rp(e);
                                            },
                                            exact: function (e, t, n, r) {
                                                return e;
                                            },
                                        });
                                        return Lr(t);
                                    },
                                    range: Op.create,
                                },
                                Ip = or.detect().browser,
                                Lp = function (e, t) {
                                    var n = pr(t) ? Sc(t).length : zr(t).length + 1;
                                    return n < e ? n : e < 0 ? 0 : e;
                                },
                                Mp = function (e) {
                                    return Pp.range(e.start(), Lp(e.soffset(), e.start()), e.finish(), Lp(e.foffset(), e.finish()));
                                },
                                jp = function (e, t) {
                                    return !Io.isRestrictedNode(t.dom()) && (Pr(e, t) || Br(e, t));
                                },
                                Fp = function (e) {
                                    return function (t) {
                                        return jp(e, t.start()) && jp(e, t.finish());
                                    };
                                },
                                Up = function (e) {
                                    return Pp.range(ar.fromDom(e.startContainer), e.startOffset, ar.fromDom(e.endContainer), e.endOffset);
                                },
                                Hp = function (e) {
                                    return (function (e) {
                                        var t = e.getSelection();
                                        return (t && 0 !== t.rangeCount ? N.from(t.getRangeAt(0)) : N.none()).map(Up);
                                    })(Lr(e).dom()).filter(Fp(e));
                                },
                                zp = function (e, t) {
                                    return N.from(t).filter(Fp(e)).map(Mp);
                                },
                                qp = function (e) {
                                    var n = t.document.createRange();
                                    try {
                                        return n.setStart(e.start().dom(), e.soffset()), n.setEnd(e.finish().dom(), e.foffset()), N.some(n);
                                    } catch (e) {
                                        return N.none();
                                    }
                                },
                                Vp = function (e) {
                                    return (e.bookmark ? e.bookmark : N.none()).bind(a(zp, ar.fromDom(e.getBody()))).bind(qp);
                                },
                                Wp = function (e) {
                                    var t = (function (e) {
                                        return !0 === e.inline || Ip.isIE();
                                    })(e)
                                        ? Hp(ar.fromDom(e.getBody()))
                                        : N.none();
                                    e.bookmark = t.isSome() ? t : e.bookmark;
                                },
                                Kp = Vp,
                                Gp = function (e) {
                                    return yo(e) || wo(e);
                                },
                                Yp = function (e, t) {
                                    var n = e.settings,
                                        r = e.dom,
                                        o = e.selection,
                                        i = e.formatter,
                                        a = /[a-z%]+$/i.exec(n.indentation)[0],
                                        s = parseInt(n.indentation, 10),
                                        u = e.getParam("indent_use_margin", !1);
                                    e.queryCommandState("InsertUnorderedList") || e.queryCommandState("InsertOrderedList") || n.forced_root_block || r.getParent(o.getNode(), r.isBlock) || i.apply("div"),
                                        V(
                                            (function (e) {
                                                return K(q(e.selection.getSelectedBlocks(), ar.fromDom), function (e) {
                                                    return !Gp(e) && !Mr(e).map(Gp).getOr(!1);
                                                });
                                            })(e),
                                            function (e) {
                                                !(function (e, t, n, r, o, i) {
                                                    if ("false" !== e.getContentEditable(i)) {
                                                        var a = n ? "margin" : "padding";
                                                        if (((a = "TABLE" === i.nodeName ? "margin" : a), (a += "rtl" === e.getStyle(i, "direction", !0) ? "Right" : "Left"), "outdent" === t)) {
                                                            var s = Math.max(0, parseInt(i.style[a] || 0, 10) - r);
                                                            e.setStyle(i, a, s ? s + o : "");
                                                        } else (s = parseInt(i.style[a] || 0, 10) + r + o), e.setStyle(i, a, s);
                                                    }
                                                })(r, t, u, s, a, e.dom());
                                            }
                                        );
                                },
                                Xp = Yt.each,
                                Jp = Yt.extend,
                                Qp = Yt.map,
                                Zp = Yt.inArray;
                            function em(e) {
                                var t,
                                    n,
                                    r,
                                    o,
                                    i = { state: {}, exec: {}, value: {} },
                                    a = e.settings;
                                e.on("PreInit", function () {
                                    (t = e.dom), (n = e.selection), (a = e.settings), (r = e.formatter);
                                });
                                var s = function (t) {
                                        var n;
                                        if (!e.quirks.isHidden() && !e.removed) {
                                            if (((t = t.toLowerCase()), (n = i.state[t]))) return n(t);
                                            try {
                                                return e.getDoc().queryCommandState(t);
                                            } catch (e) {}
                                            return !1;
                                        }
                                    },
                                    u = function (e, t) {
                                        (t = t || "exec"),
                                            Xp(e, function (e, n) {
                                                Xp(n.toLowerCase().split(","), function (n) {
                                                    i[t][n] = e;
                                                });
                                            });
                                    },
                                    c = function (t, n, r) {
                                        (t = t.toLowerCase()),
                                            (i.value[t] = function () {
                                                return n.call(r || e);
                                            });
                                    };
                                Jp(this, {
                                    execCommand: function (t, n, r, o) {
                                        var a,
                                            s,
                                            u = !1;
                                        if (!e.removed) {
                                            if (
                                                (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || (o && o.skip_focus)
                                                    ? (function (e) {
                                                          Vp(e).each(function (t) {
                                                              e.selection.setRng(t);
                                                          });
                                                      })(e)
                                                    : e.focus(),
                                                (o = e.fire("BeforeExecCommand", { command: t, ui: n, value: r })).isDefaultPrevented())
                                            )
                                                return !1;
                                            if (((s = t.toLowerCase()), (a = i.exec[s]))) return a(s, n, r), e.fire("ExecCommand", { command: t, ui: n, value: r }), !0;
                                            if (
                                                (Xp(e.plugins, function (o) {
                                                    if (o.execCommand && o.execCommand(t, n, r)) return e.fire("ExecCommand", { command: t, ui: n, value: r }), !(u = !0);
                                                }),
                                                u)
                                            )
                                                return u;
                                            if (e.theme && e.theme.execCommand && e.theme.execCommand(t, n, r)) return e.fire("ExecCommand", { command: t, ui: n, value: r }), !0;
                                            try {
                                                u = e.getDoc().execCommand(t, n, r);
                                            } catch (e) {}
                                            return !!u && (e.fire("ExecCommand", { command: t, ui: n, value: r }), !0);
                                        }
                                    },
                                    queryCommandState: s,
                                    queryCommandValue: function (t) {
                                        var n;
                                        if (!e.quirks.isHidden() && !e.removed) {
                                            if (((t = t.toLowerCase()), (n = i.value[t]))) return n(t);
                                            try {
                                                return e.getDoc().queryCommandValue(t);
                                            } catch (e) {}
                                        }
                                    },
                                    queryCommandSupported: function (t) {
                                        if (((t = t.toLowerCase()), i.exec[t])) return !0;
                                        try {
                                            return e.getDoc().queryCommandSupported(t);
                                        } catch (e) {}
                                        return !1;
                                    },
                                    addCommands: u,
                                    addCommand: function (t, n, r) {
                                        (t = t.toLowerCase()),
                                            (i.exec[t] = function (t, o, i, a) {
                                                return n.call(r || e, o, i, a);
                                            });
                                    },
                                    addQueryStateHandler: function (t, n, r) {
                                        (t = t.toLowerCase()),
                                            (i.state[t] = function () {
                                                return n.call(r || e);
                                            });
                                    },
                                    addQueryValueHandler: c,
                                    hasCustomCommand: function (e) {
                                        return (e = e.toLowerCase()), !!i.exec[e];
                                    },
                                });
                                var l = function (t, n, r) {
                                        return void 0 === n && (n = !1), void 0 === r && (r = null), e.getDoc().execCommand(t, n, r);
                                    },
                                    d = function (e) {
                                        return r.match(e);
                                    },
                                    f = function (t, n) {
                                        r.toggle(t, n ? { value: n } : void 0), e.nodeChanged();
                                    },
                                    p = function (e) {
                                        o = n.getBookmark(e);
                                    },
                                    m = function () {
                                        n.moveToBookmark(o);
                                    };
                                u({
                                    "mceResetDesignMode,mceBeginUndoLevel": function () {},
                                    "mceEndUndoLevel,mceAddUndoLevel": function () {
                                        e.undoManager.add();
                                    },
                                    "Cut,Copy,Paste": function (t) {
                                        var n,
                                            r = e.getDoc();
                                        try {
                                            l(t);
                                        } catch (e) {
                                            n = !0;
                                        }
                                        if (("paste" !== t || r.queryCommandEnabled(t) || (n = !0), n || !r.queryCommandSupported(t))) {
                                            var o = e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");
                                            fe.mac && (o = o.replace(/Ctrl\+/g, "+")), e.notificationManager.open({ text: o, type: "error" });
                                        }
                                    },
                                    unlink: function () {
                                        if (n.isCollapsed()) {
                                            var t = e.dom.getParent(e.selection.getStart(), "a");
                                            t && e.dom.remove(t, !0);
                                        } else r.remove("link");
                                    },
                                    "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function (e) {
                                        var t = e.substring(7);
                                        "full" === t && (t = "justify"),
                                            Xp("left,center,right,justify".split(","), function (e) {
                                                t !== e && r.remove("align" + e);
                                            }),
                                            "none" !== t && f("align" + t);
                                    },
                                    "InsertUnorderedList,InsertOrderedList": function (e) {
                                        var r, o;
                                        l(e), (r = t.getParent(n.getNode(), "ol,ul")) && ((o = r.parentNode), /^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName) && (p(), t.split(o, r), m()));
                                    },
                                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function (e) {
                                        f(e);
                                    },
                                    "ForeColor,HiliteColor": function (e, t, n) {
                                        f(e, n);
                                    },
                                    FontName: function (t, n, r) {
                                        var o, i;
                                        (i = r), (o = e).formatter.toggle("fontname", { value: pp(o, i) }), o.nodeChanged();
                                    },
                                    FontSize: function (t, n, r) {
                                        var o, i;
                                        (i = r), (o = e).formatter.toggle("fontsize", { value: pp(o, i) }), o.nodeChanged();
                                    },
                                    RemoveFormat: function (e) {
                                        r.remove(e);
                                    },
                                    mceBlockQuote: function () {
                                        f("blockquote");
                                    },
                                    FormatBlock: function (e, t, n) {
                                        return f(n || "p");
                                    },
                                    mceCleanup: function () {
                                        var t = n.getBookmark();
                                        e.setContent(e.getContent()), n.moveToBookmark(t);
                                    },
                                    mceRemoveNode: function (t, r, o) {
                                        var i = o || n.getNode();
                                        i !== e.getBody() && (p(), e.dom.remove(i, !0), m());
                                    },
                                    mceSelectNodeDepth: function (r, o, i) {
                                        var a = 0;
                                        t.getParent(
                                            n.getNode(),
                                            function (e) {
                                                if (1 === e.nodeType && a++ === i) return n.select(e), !1;
                                            },
                                            e.getBody()
                                        );
                                    },
                                    mceSelectNode: function (e, t, r) {
                                        n.select(r);
                                    },
                                    mceInsertContent: function (t, n, r) {
                                        !(function (e, t) {
                                            var n,
                                                r,
                                                o = "string" != typeof (n = t) ? ((r = Yt.extend({ paste: n.paste, data: { paste: n.paste } }, n)), { content: n.content, details: r }) : { content: n, details: {} };
                                            Vc(e, o.content, o.details);
                                        })(e, r);
                                    },
                                    mceInsertRawHTML: function (t, r, o) {
                                        n.setContent("tiny_mce_marker");
                                        var i = e.getContent();
                                        e.setContent(
                                            i.replace(/tiny_mce_marker/g, function () {
                                                return o;
                                            })
                                        );
                                    },
                                    mceToggleFormat: function (e, t, n) {
                                        f(n);
                                    },
                                    mceSetContent: function (t, n, r) {
                                        e.setContent(r);
                                    },
                                    "Indent,Outdent": function (t) {
                                        Yp(e, t);
                                    },
                                    mceRepaint: function () {},
                                    InsertHorizontalRule: function () {
                                        e.execCommand("mceInsertContent", !1, "<hr />");
                                    },
                                    mceToggleVisualAid: function () {
                                        (e.hasVisual = !e.hasVisual), e.addVisual();
                                    },
                                    mceReplaceContent: function (t, r, o) {
                                        e.execCommand("mceInsertContent", !1, o.replace(/\{\$selection\}/g, n.getContent({ format: "text" })));
                                    },
                                    mceInsertLink: function (e, o, i) {
                                        var a;
                                        "string" == typeof i && (i = { href: i }), (a = t.getParent(n.getNode(), "a")), (i.href = i.href.replace(" ", "%20")), (a && i.href) || r.remove("link"), i.href && r.apply("link", i, a);
                                    },
                                    selectAll: function () {
                                        var e = t.getParent(n.getStart(), Io.isContentEditableTrue);
                                        if (e) {
                                            var r = t.createRng();
                                            r.selectNodeContents(e), n.setRng(r);
                                        }
                                    },
                                    delete: function () {
                                        !(function (e) {
                                            dd(e, !1) || sp(e, !1) || tf(e, !1) || Sl(e, !1) || $f(e) || Al(e) || Jf(e, !1) || (up(e, "Delete"), sl(e));
                                        })(e);
                                    },
                                    forwardDelete: function () {
                                        !(function (e) {
                                            dd(e, !0) || sp(e, !0) || tf(e, !0) || Sl(e, !0) || $f(e) || Al(e) || Jf(e, !0) || up(e, "ForwardDelete");
                                        })(e);
                                    },
                                    mceNewDocument: function () {
                                        e.setContent("");
                                    },
                                    InsertLineBreak: function (t, n, r) {
                                        return Ap(e, r), !0;
                                    },
                                });
                                var h = function (e) {
                                    return function () {
                                        var o = n.isCollapsed() ? [t.getParent(n.getNode(), t.isBlock)] : n.getSelectedBlocks(),
                                            i = Qp(o, function (t) {
                                                return !!r.matchNode(t, e);
                                            });
                                        return -1 !== Zp(i, !0);
                                    };
                                };
                                u(
                                    {
                                        JustifyLeft: h("alignleft"),
                                        JustifyCenter: h("aligncenter"),
                                        JustifyRight: h("alignright"),
                                        JustifyFull: h("alignjustify"),
                                        "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function (e) {
                                            return d(e);
                                        },
                                        mceBlockQuote: function () {
                                            return d("blockquote");
                                        },
                                        Outdent: function () {
                                            var e;
                                            if (a.inline_styles) {
                                                if ((e = t.getParent(n.getStart(), t.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0;
                                                if ((e = t.getParent(n.getEnd(), t.isBlock)) && 0 < parseInt(e.style.paddingLeft, 10)) return !0;
                                            }
                                            return s("InsertUnorderedList") || s("InsertOrderedList") || (!a.inline_styles && !!t.getParent(n.getNode(), "BLOCKQUOTE"));
                                        },
                                        "InsertUnorderedList,InsertOrderedList": function (e) {
                                            var r = t.getParent(n.getNode(), "ul,ol");
                                            return r && (("insertunorderedlist" === e && "UL" === r.tagName) || ("insertorderedlist" === e && "OL" === r.tagName));
                                        },
                                    },
                                    "state"
                                ),
                                    u({
                                        Undo: function () {
                                            e.undoManager.undo();
                                        },
                                        Redo: function () {
                                            e.undoManager.redo();
                                        },
                                    }),
                                    c(
                                        "FontName",
                                        function () {
                                            return fp((t = e)).fold(
                                                function () {
                                                    return dp(t)
                                                        .map(function (e) {
                                                            return lp.getFontFamily(t.getBody(), e);
                                                        })
                                                        .getOr("");
                                                },
                                                function (e) {
                                                    return lp.getFontFamily(t.getBody(), e);
                                                }
                                            );
                                            var t;
                                        },
                                        this
                                    ),
                                    c(
                                        "FontSize",
                                        function () {
                                            return fp((t = e)).fold(
                                                function () {
                                                    return dp(t)
                                                        .map(function (e) {
                                                            return lp.getFontSize(t.getBody(), e);
                                                        })
                                                        .getOr("");
                                                },
                                                function (e) {
                                                    return lp.getFontSize(t.getBody(), e);
                                                }
                                            );
                                            var t;
                                        },
                                        this
                                    );
                            }
                            var tm = Yt.makeMap(
                                    "focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend",
                                    " "
                                ),
                                nm = function (e) {
                                    var t,
                                        n,
                                        r = this,
                                        o = {},
                                        i = function () {
                                            return !1;
                                        },
                                        a = function () {
                                            return !0;
                                        };
                                    (t = (e = e || {}).scope || r), (n = e.toggleEvent || i);
                                    var s = function (e, t, a, s) {
                                            var u, c, l;
                                            if ((!1 === t && (t = i), t))
                                                for (t = { func: t }, s && Yt.extend(t, s), l = (c = e.toLowerCase().split(" ")).length; l--; ) (e = c[l]), (u = o[e]) || ((u = o[e] = []), n(e, !0)), a ? u.unshift(t) : u.push(t);
                                            return r;
                                        },
                                        u = function (e, t) {
                                            var i, a, s, u, c;
                                            if (e)
                                                for (i = (u = e.toLowerCase().split(" ")).length; i--; ) {
                                                    if (((e = u[i]), (a = o[e]), !e)) {
                                                        for (s in o) n(s, !1), delete o[s];
                                                        return r;
                                                    }
                                                    if (a) {
                                                        if (t) for (c = a.length; c--; ) a[c].func === t && ((a = a.slice(0, c).concat(a.slice(c + 1))), (o[e] = a));
                                                        else a.length = 0;
                                                        a.length || (n(e, !1), delete o[e]);
                                                    }
                                                }
                                            else {
                                                for (e in o) n(e, !1);
                                                o = {};
                                            }
                                            return r;
                                        };
                                    (r.fire = function (n, r) {
                                        var s, c, l, d;
                                        if (
                                            ((n = n.toLowerCase()),
                                            ((r = r || {}).type = n),
                                            r.target || (r.target = t),
                                            r.preventDefault ||
                                                ((r.preventDefault = function () {
                                                    r.isDefaultPrevented = a;
                                                }),
                                                (r.stopPropagation = function () {
                                                    r.isPropagationStopped = a;
                                                }),
                                                (r.stopImmediatePropagation = function () {
                                                    r.isImmediatePropagationStopped = a;
                                                }),
                                                (r.isDefaultPrevented = i),
                                                (r.isPropagationStopped = i),
                                                (r.isImmediatePropagationStopped = i)),
                                            e.beforeFire && e.beforeFire(r),
                                            (s = o[n]))
                                        )
                                            for (c = 0, l = s.length; c < l; c++) {
                                                if (((d = s[c]).once && u(n, d.func), r.isImmediatePropagationStopped())) return r.stopPropagation(), r;
                                                if (!1 === d.func.call(t, r)) return r.preventDefault(), r;
                                            }
                                        return r;
                                    }),
                                        (r.on = s),
                                        (r.off = u),
                                        (r.once = function (e, t, n) {
                                            return s(e, t, n, { once: !0 });
                                        }),
                                        (r.has = function (e) {
                                            return (e = e.toLowerCase()), !(!o[e] || 0 === o[e].length);
                                        });
                                };
                            nm.isNative = function (e) {
                                return !!tm[e.toLowerCase()];
                            };
                            var rm,
                                om = function (e) {
                                    return (
                                        e._eventDispatcher ||
                                            (e._eventDispatcher = new nm({
                                                scope: e,
                                                toggleEvent: function (t, n) {
                                                    nm.isNative(t) && e.toggleNativeEvent && e.toggleNativeEvent(t, n);
                                                },
                                            })),
                                        e._eventDispatcher
                                    );
                                },
                                im = {
                                    fire: function (e, t, n) {
                                        if (this.removed && "remove" !== e && "detach" !== e) return t;
                                        if (((t = om(this).fire(e, t, n)), !1 !== n && this.parent)) for (var r = this.parent(); r && !t.isPropagationStopped(); ) r.fire(e, t, !1), (r = r.parent());
                                        return t;
                                    },
                                    on: function (e, t, n) {
                                        return om(this).on(e, t, n);
                                    },
                                    off: function (e, t) {
                                        return om(this).off(e, t);
                                    },
                                    once: function (e, t) {
                                        return om(this).once(e, t);
                                    },
                                    hasEventListeners: function (e) {
                                        return om(this).has(e);
                                    },
                                },
                                am = function (e, t, n) {
                                    try {
                                        e.getDoc().execCommand(t, !1, n);
                                    } catch (e) {}
                                },
                                sm = function (e, t, n) {
                                    var r, o;
                                    Ui(e, t) && !1 === n
                                        ? ((o = t),
                                          ji((r = e))
                                              ? r.dom().classList.remove(o)
                                              : (function (e, t) {
                                                    return (
                                                        (o = t),
                                                        0 <
                                                        (i = K(Mi((n = e), (r = "class")), function (e) {
                                                            return e !== o;
                                                        })).length
                                                            ? Cr(n, r, i.join(" "))
                                                            : kr(n, r),
                                                        !1
                                                    );
                                                    var n, r, o, i;
                                                })(r, o),
                                          (function (e) {
                                              0 === (ji(e) ? e.dom().classList : Mi(e, "class")).length && kr(e, "class");
                                          })(r))
                                        : n && Fi(e, t);
                                },
                                um = function (e, t) {
                                    sm(ar.fromDom(e.getBody()), "mce-content-readonly", t),
                                        t
                                            ? (e.selection.controlSelection.hideResizeRect(), (e.readonly = !0), (e.getBody().contentEditable = "false"))
                                            : ((e.readonly = !1), (e.getBody().contentEditable = "true"), am(e, "StyleWithCSS", !1), am(e, "enableInlineTableEditing", !1), am(e, "enableObjectResizing", !1), e.focus(), e.nodeChanged());
                                },
                                cm = yi.DOM,
                                lm = function (e, t) {
                                    return "selectionchange" === t
                                        ? e.getDoc()
                                        : !e.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)
                                        ? e.getDoc().documentElement
                                        : e.settings.event_root
                                        ? (e.eventRoot || (e.eventRoot = cm.select(e.settings.event_root)[0]), e.eventRoot)
                                        : e.getBody();
                                },
                                dm = function (e, t, n) {
                                    var r;
                                    (r = e).hidden || r.readonly ? !0 === e.readonly && n.preventDefault() : e.fire(t, n);
                                },
                                fm = function (e, t) {
                                    var n, r;
                                    if ((e.delegates || (e.delegates = {}), !e.delegates[t] && !e.removed))
                                        if (((n = lm(e, t)), e.settings.event_root)) {
                                            if (
                                                (rm ||
                                                    ((rm = {}),
                                                    e.editorManager.on("removeEditor", function () {
                                                        var t;
                                                        if (!e.editorManager.activeEditor && rm) {
                                                            for (t in rm) e.dom.unbind(lm(e, t));
                                                            rm = null;
                                                        }
                                                    })),
                                                rm[t])
                                            )
                                                return;
                                            (r = function (n) {
                                                for (var r = n.target, o = e.editorManager.get(), i = o.length; i--; ) {
                                                    var a = o[i].getBody();
                                                    (a === r || cm.isChildOf(r, a)) && dm(o[i], t, n);
                                                }
                                            }),
                                                (rm[t] = r),
                                                cm.bind(n, t, r);
                                        } else
                                            (r = function (n) {
                                                dm(e, t, n);
                                            }),
                                                cm.bind(n, t, r),
                                                (e.delegates[t] = r);
                                },
                                pm = {
                                    bindPendingEventDelegates: function () {
                                        var e = this;
                                        Yt.each(e._pendingNativeEvents, function (t) {
                                            fm(e, t);
                                        });
                                    },
                                    toggleNativeEvent: function (e, t) {
                                        var n = this;
                                        "focus" !== e &&
                                            "blur" !== e &&
                                            (t
                                                ? n.initialized
                                                    ? fm(n, e)
                                                    : n._pendingNativeEvents
                                                    ? n._pendingNativeEvents.push(e)
                                                    : (n._pendingNativeEvents = [e])
                                                : n.initialized && (n.dom.unbind(lm(n, e), e, n.delegates[e]), delete n.delegates[e]));
                                    },
                                    unbindAllNativeEvents: function () {
                                        var e,
                                            t = this,
                                            n = t.getBody(),
                                            r = t.dom;
                                        if (t.delegates) {
                                            for (e in t.delegates) t.dom.unbind(lm(t, e), e, t.delegates[e]);
                                            delete t.delegates;
                                        }
                                        !t.inline && n && r && ((n.onload = null), r.unbind(t.getWin()), r.unbind(t.getDoc())), r && (r.unbind(n), r.unbind(t.getContainer()));
                                    },
                                },
                                mm = (pm = Yt.extend({}, im, pm)),
                                hm = Sr("sections", "settings"),
                                gm = or.detect().deviceType.isTouch(),
                                vm = ["lists", "autolink", "autosave"],
                                bm = { theme: "mobile" },
                                ym = function (e) {
                                    var t = R(e) ? e.join(" ") : e,
                                        n = q(O(t) ? t.split(" ") : [], Xn);
                                    return K(n, function (e) {
                                        return 0 < e.length;
                                    });
                                },
                                wm = function (e, t) {
                                    return e.sections().hasOwnProperty(t);
                                },
                                Cm = function (e, t, n, r) {
                                    var o,
                                        i = ym(n.forced_plugins),
                                        s = ym(r.plugins),
                                        u = ((o = e && wm(t, "mobile") ? K(s, a(H, vm)) : s), [].concat(ym(i)).concat(ym(o)));
                                    return Yt.extend(r, { plugins: u.join(" ") });
                                },
                                xm = function (e, t, n) {
                                    return N.from(t.settings[n]).filter(e);
                                },
                                _m = Yt.each,
                                km = Yt.explode,
                                Tm = { f1: 112, f2: 113, f3: 114, f4: 115, f5: 116, f6: 117, f7: 118, f8: 119, f9: 120, f10: 121, f11: 122, f12: 123 },
                                Em = Yt.makeMap("alt,ctrl,shift,meta,access");
                            function Sm(e) {
                                var t = {},
                                    n = [],
                                    r = function (e) {
                                        var t,
                                            n,
                                            r = {};
                                        for (n in (_m(km(e, "+"), function (e) {
                                            e in Em ? (r[e] = !0) : /^[0-9]{2,}$/.test(e) ? (r.keyCode = parseInt(e, 10)) : ((r.charCode = e.charCodeAt(0)), (r.keyCode = Tm[e] || e.toUpperCase().charCodeAt(0)));
                                        }),
                                        (t = [r.keyCode]),
                                        Em))
                                            r[n] ? t.push(n) : (r[n] = !1);
                                        return (r.id = t.join(",")), r.access && ((r.alt = !0), fe.mac ? (r.ctrl = !0) : (r.shift = !0)), r.meta && (fe.mac ? (r.meta = !0) : ((r.ctrl = !0), (r.meta = !1))), r;
                                    },
                                    o = function (t, n, o, i) {
                                        var a;
                                        return ((a = Yt.map(km(t, ">"), r))[a.length - 1] = Yt.extend(a[a.length - 1], { func: o, scope: i || e })), Yt.extend(a[0], { desc: e.translate(n), subpatterns: a.slice(1) });
                                    },
                                    i = function (e, t) {
                                        return (
                                            !!t &&
                                            t.ctrl === e.ctrlKey &&
                                            t.meta === e.metaKey &&
                                            t.alt === e.altKey &&
                                            t.shift === e.shiftKey &&
                                            !!(e.keyCode === t.keyCode || (e.charCode && e.charCode === t.charCode)) &&
                                            (e.preventDefault(), !0)
                                        );
                                    },
                                    a = function (e) {
                                        return e.func ? e.func.call(e.scope) : null;
                                    };
                                e.on("keyup keypress keydown", function (e) {
                                    var r, o;
                                    ((o = e).altKey || o.ctrlKey || o.metaKey || ("keydown" === (r = e).type && 112 <= r.keyCode && r.keyCode <= 123)) &&
                                        !e.isDefaultPrevented() &&
                                        (_m(t, function (t) {
                                            if (i(e, t)) return (n = t.subpatterns.slice(0)), "keydown" === e.type && a(t), !0;
                                        }),
                                        i(e, n[0]) && (1 === n.length && "keydown" === e.type && a(n[0]), n.shift()));
                                }),
                                    (this.add = function (n, r, i, a) {
                                        var s;
                                        return (
                                            "string" == typeof (s = i)
                                                ? (i = function () {
                                                      e.execCommand(s, !1, null);
                                                  })
                                                : Yt.isArray(s) &&
                                                  (i = function () {
                                                      e.execCommand(s[0], s[1], s[2]);
                                                  }),
                                            _m(km(Yt.trim(n.toLowerCase())), function (e) {
                                                var n = o(e, r, i, a);
                                                t[n.id] = n;
                                            }),
                                            !0
                                        );
                                    }),
                                    (this.remove = function (e) {
                                        var n = o(e);
                                        return !!t[n.id] && (delete t[n.id], !0);
                                    });
                            }
                            var $m = function (e) {
                                    var t = Ir(e).dom();
                                    return e.dom() === t.activeElement;
                                },
                                Nm = function (e, t) {
                                    (function (e, t) {
                                        return ((n = t), n.collapsed ? N.from(Ua(n.startContainer, n.startOffset)).map(ar.fromDom) : N.none()).bind(function (t) {
                                            return xo(t) ? N.some(t) : !1 === Pr(e, t) ? N.some(e) : N.none();
                                        });
                                        var n;
                                    })(ar.fromDom(e.getBody()), t)
                                        .bind(function (e) {
                                            return Hu.firstPositionIn(e.dom());
                                        })
                                        .fold(
                                            function () {
                                                e.selection.normalize();
                                            },
                                            function (t) {
                                                return e.selection.setRng(t.toRange());
                                            }
                                        );
                                },
                                Am = function (e) {
                                    if (e.setActive)
                                        try {
                                            e.setActive();
                                        } catch (t) {
                                            e.focus();
                                        }
                                    else e.focus();
                                },
                                Om = function (e) {
                                    var n,
                                        r = e.getBody();
                                    return (
                                        r &&
                                        ((n = ar.fromDom(r)),
                                        $m(n) ||
                                            (function (e) {
                                                return ((n = Ir(e)), (r = void 0 !== n ? n.dom() : t.document), N.from(r.activeElement).map(ar.fromDom)).filter(function (t) {
                                                    return e.dom().contains(t.dom());
                                                });
                                                var n, r;
                                            })(n).isSome())
                                    );
                                },
                                Dm = function (e) {
                                    return e.inline ? Om(e) : (t = e).iframeElement && $m(ar.fromDom(t.iframeElement));
                                    var t;
                                },
                                Rm = function (e) {
                                    return e.editorManager.setActive(e);
                                },
                                Bm = Dm,
                                Pm = function (e, t) {
                                    return t.dom()[e];
                                },
                                Im = function (e, t) {
                                    return parseInt(Tr(t, e), 10);
                                },
                                Lm = a(Pm, "clientWidth"),
                                Mm = a(Pm, "clientHeight"),
                                jm = a(Im, "margin-top"),
                                Fm = a(Im, "margin-left"),
                                Um = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p,
                                        m = ar.fromDom(e.getBody()),
                                        h = e.inline ? m : ((r = m), ar.fromDom(r.dom().ownerDocument.documentElement)),
                                        g = ((o = e.inline), (a = t), (s = n), (u = (i = h).dom().getBoundingClientRect()), { x: a - (o ? u.left + i.dom().clientLeft + Fm(i) : 0), y: s - (o ? u.top + i.dom().clientTop + jm(i) : 0) });
                                    return (l = g.x), (d = g.y), (f = Lm((c = h))), (p = Mm(c)), 0 <= l && 0 <= d && l <= f && d <= p;
                                };
                            function Hm(e) {
                                var t,
                                    n = [],
                                    r = function () {
                                        var t,
                                            n = e.theme;
                                        return n && n.getNotificationManagerImpl
                                            ? n.getNotificationManagerImpl()
                                            : {
                                                  open: (t = function () {
                                                      throw new Error("Theme did not provide a NotificationManager implementation.");
                                                  }),
                                                  close: t,
                                                  reposition: t,
                                                  getArgs: t,
                                              };
                                    },
                                    o = function () {
                                        0 < n.length && r().reposition(n);
                                    },
                                    i = function (e) {
                                        X(n, function (t) {
                                            return t === e;
                                        }).each(function (e) {
                                            n.splice(e, 1);
                                        });
                                    },
                                    a = function (t) {
                                        if (
                                            !e.removed &&
                                            (function (e) {
                                                var t;
                                                return ((t = e.inline ? e.getBody() : e.getContentAreaContainer()), N.from(t).map(ar.fromDom))
                                                    .map(function (e) {
                                                        return Pr(Ir(e), e);
                                                    })
                                                    .getOr(!1);
                                            })(e)
                                        )
                                            return Y(n, function (e) {
                                                return (n = r().getArgs(e)), (o = t), !(n.type !== o.type || n.text !== o.text || n.progressBar || n.timeout || o.progressBar || o.timeout);
                                                var n, o;
                                            }).getOrThunk(function () {
                                                e.editorManager.setActive(e);
                                                var a,
                                                    s = r().open(t, function () {
                                                        i(s), o();
                                                    });
                                                return (a = s), n.push(a), o(), s;
                                            });
                                    };
                                return (
                                    (t = e).on("SkinLoaded", function () {
                                        var e = t.settings.service_message;
                                        e && a({ text: e, type: "warning", timeout: 0, icon: "" });
                                    }),
                                    t.on("ResizeEditor ResizeWindow", function () {
                                        ve.requestAnimationFrame(o);
                                    }),
                                    t.on("remove", function () {
                                        V(n.slice(), function (e) {
                                            r().close(e);
                                        });
                                    }),
                                    {
                                        open: a,
                                        close: function () {
                                            N.from(n[0]).each(function (e) {
                                                r().close(e), i(e), o();
                                            });
                                        },
                                        getNotifications: function () {
                                            return n;
                                        },
                                    }
                                );
                            }
                            function zm(e) {
                                var t = [],
                                    n = function () {
                                        var t,
                                            n = e.theme;
                                        return n && n.getWindowManagerImpl
                                            ? n.getWindowManagerImpl()
                                            : {
                                                  open: (t = function () {
                                                      throw new Error("Theme did not provide a WindowManager implementation.");
                                                  }),
                                                  alert: t,
                                                  confirm: t,
                                                  close: t,
                                                  getParams: t,
                                                  setParams: t,
                                              };
                                    },
                                    r = function (e, t) {
                                        return function () {
                                            return t ? t.apply(e, arguments) : void 0;
                                        };
                                    },
                                    o = function (n) {
                                        var r;
                                        t.push(n), (r = n), e.fire("OpenWindow", { win: r });
                                    },
                                    i = function (n) {
                                        X(t, function (e) {
                                            return e === n;
                                        }).each(function (r) {
                                            var o;
                                            t.splice(r, 1), (o = n), e.fire("CloseWindow", { win: o }), 0 === t.length && e.focus();
                                        });
                                    },
                                    a = function () {
                                        return N.from(t[t.length - 1]);
                                    };
                                return (
                                    e.on("remove", function () {
                                        V(t.slice(0), function (e) {
                                            n().close(e);
                                        });
                                    }),
                                    {
                                        windows: t,
                                        open: function (t, r) {
                                            e.editorManager.setActive(e), Wp(e);
                                            var a = n().open(t, r, i);
                                            return o(a), a;
                                        },
                                        alert: function (e, t, a) {
                                            var s = n().alert(e, r(a || this, t), i);
                                            o(s);
                                        },
                                        confirm: function (e, t, a) {
                                            var s = n().confirm(e, r(a || this, t), i);
                                            o(s);
                                        },
                                        close: function () {
                                            a().each(function (e) {
                                                n().close(e), i(e);
                                            });
                                        },
                                        getParams: function () {
                                            return a().map(n().getParams).getOr(null);
                                        },
                                        setParams: function (e) {
                                            a().each(function (t) {
                                                n().setParams(t, e);
                                            });
                                        },
                                        getWindows: function () {
                                            return t;
                                        },
                                    }
                                );
                            }
                            var qm = {},
                                Vm = "en",
                                Wm = {
                                    setCode: function (e) {
                                        e && ((Vm = e), (this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir));
                                    },
                                    getCode: function () {
                                        return Vm;
                                    },
                                    rtl: !1,
                                    add: function (e, t) {
                                        var n = qm[e];
                                        for (var r in (n || (qm[e] = n = {}), t)) n[r] = t[r];
                                        this.setCode(e);
                                    },
                                    translate: function (e) {
                                        var t = qm[Vm] || {},
                                            n = function (e) {
                                                return Yt.is(e, "function") ? Object.prototype.toString.call(e) : r(e) ? "" : "" + e;
                                            },
                                            r = function (e) {
                                                return "" === e || null === e || Yt.is(e, "undefined");
                                            },
                                            o = function (e) {
                                                return (e = n(e)), Yt.hasOwn(t, e) ? n(t[e]) : e;
                                            };
                                        if (r(e)) return "";
                                        if (Yt.is(e, "object") && Yt.hasOwn(e, "raw")) return n(e.raw);
                                        if (Yt.is(e, "array")) {
                                            var i = e.slice(1);
                                            e = o(e[0]).replace(/\{([0-9]+)\}/g, function (e, t) {
                                                return Yt.hasOwn(i, t) ? n(i[t]) : e;
                                            });
                                        }
                                        return o(e).replace(/{context:\w+}$/, "");
                                    },
                                    data: qm,
                                },
                                Km = Si.PluginManager,
                                Gm = function (e, t) {
                                    e.notificationManager.open({ type: "error", text: t });
                                },
                                Ym = function (e, t) {
                                    e._skinLoaded
                                        ? Gm(e, t)
                                        : e.on("SkinLoaded", function () {
                                              Gm(e, t);
                                          });
                                },
                                Xm = function (e) {
                                    for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                                    var o = t.window.console;
                                    o && (o.error ? o.error.apply(o, arguments) : o.log.apply(o, arguments));
                                },
                                Jm = {
                                    pluginLoadError: function (e, t) {
                                        Ym(
                                            e,
                                            (function (e, t) {
                                                var n = (function (e, t) {
                                                    for (var n in Km.urls) if (Km.urls[n] + "/plugin" + t + ".js" === e) return n;
                                                    return null;
                                                })(t, e.suffix);
                                                return n ? Wm.translate(["Failed to load plugin: {0} from url {1}", n, t]) : Wm.translate(["Failed to load plugin url: {0}", t]);
                                            })(e, t)
                                        );
                                    },
                                    pluginInitError: function (e, t, n) {
                                        var r = Wm.translate(["Failed to initialize plugin: {0}", t]);
                                        Xm(r, n), Ym(e, r);
                                    },
                                    uploadError: function (e, t) {
                                        Ym(e, Wm.translate(["Failed to upload image: {0}", t]));
                                    },
                                    displayError: Ym,
                                    initError: Xm,
                                },
                                Qm = Si.PluginManager,
                                Zm = Si.ThemeManager;
                            function eh() {
                                return new (oe.getOrDie("XMLHttpRequest"))();
                            }
                            function th(e, n) {
                                var r = {},
                                    o = function (e, r, o, i) {
                                        var a, s;
                                        (a = eh()).open("POST", n.url),
                                            (a.withCredentials = n.credentials),
                                            (a.upload.onprogress = function (e) {
                                                i((e.loaded / e.total) * 100);
                                            }),
                                            (a.onerror = function () {
                                                o("Image upload failed due to a XHR Transport error. Code: " + a.status);
                                            }),
                                            (a.onload = function () {
                                                var e, t, i;
                                                a.status < 200 || 300 <= a.status
                                                    ? o("HTTP Error: " + a.status)
                                                    : (e = JSON.parse(a.responseText)) && "string" == typeof e.location
                                                    ? r(((t = n.basePath), (i = e.location), t ? t.replace(/\/$/, "") + "/" + i.replace(/^\//, "") : i))
                                                    : o("Invalid JSON: " + a.responseText);
                                            }),
                                            (s = new t.FormData()).append("file", e.blob(), e.filename()),
                                            a.send(s);
                                    },
                                    i = function (e, t) {
                                        return { url: t, blobInfo: e, status: !0 };
                                    },
                                    a = function (e, t) {
                                        return { url: "", blobInfo: e, status: !1, error: t };
                                    },
                                    s = function (e, t) {
                                        Yt.each(r[e], function (e) {
                                            e(t);
                                        }),
                                            delete r[e];
                                    };
                                return (
                                    !1 === I(n.handler) && (n.handler = o),
                                    {
                                        upload: function (t, u) {
                                            return n.url || n.handler !== o
                                                ? (function (t, o) {
                                                      return (
                                                          (t = Yt.grep(t, function (t) {
                                                              return !e.isUploaded(t.blobUri());
                                                          })),
                                                          pe.all(
                                                              Yt.map(t, function (t) {
                                                                  return e.isPending(t.blobUri())
                                                                      ? ((d = t.blobUri()),
                                                                        new pe(function (e) {
                                                                            (r[d] = r[d] || []), r[d].push(e);
                                                                        }))
                                                                      : ((u = t),
                                                                        (c = n.handler),
                                                                        (l = o),
                                                                        e.markPending(u.blobUri()),
                                                                        new pe(function (t) {
                                                                            var n;
                                                                            try {
                                                                                var r = function () {
                                                                                    n && n.close();
                                                                                };
                                                                                c(
                                                                                    u,
                                                                                    function (n) {
                                                                                        r(), e.markUploaded(u.blobUri(), n), s(u.blobUri(), i(u, n)), t(i(u, n));
                                                                                    },
                                                                                    function (n) {
                                                                                        r(), e.removeFailed(u.blobUri()), s(u.blobUri(), a(u, n)), t(a(u, n));
                                                                                    },
                                                                                    function (e) {
                                                                                        e < 0 || 100 < e || (n || (n = l()), n.progressBar.value(e));
                                                                                    }
                                                                                );
                                                                            } catch (e) {
                                                                                t(a(u, e.message));
                                                                            }
                                                                        }));
                                                                  var u, c, l, d;
                                                              })
                                                          )
                                                      );
                                                  })(t, u)
                                                : new pe(function (e) {
                                                      e([]);
                                                  });
                                        },
                                    }
                                );
                            }
                            var nh = function (e) {
                                    var t,
                                        n,
                                        r = decodeURIComponent(e).split(",");
                                    return (n = /data:([^;]+)/.exec(r[0])) && (t = n[1]), { type: t, data: r[1] };
                                },
                                rh = function (e) {
                                    return new pe(function (n) {
                                        var r,
                                            o,
                                            i,
                                            a,
                                            s = nh(e);
                                        try {
                                            r = (function (e) {
                                                return oe.getOrDie("atob")(e);
                                            })(s.data);
                                        } catch (e) {
                                            return void n(new t.Blob([]));
                                        }
                                        for (a = r.length, o = new (oe.getOrDie("Uint8Array"))(a), i = 0; i < o.length; i++) o[i] = r.charCodeAt(i);
                                        n(new t.Blob([o], { type: s.type }));
                                    });
                                },
                                oh = function (e) {
                                    return 0 === e.indexOf("blob:")
                                        ? ((t = e),
                                          new pe(function (e, n) {
                                              var r = function () {
                                                  n("Cannot convert " + t + " to Blob. Resource might not exist or is inaccessible.");
                                              };
                                              try {
                                                  var o = eh();
                                                  o.open("GET", t, !0),
                                                      (o.responseType = "blob"),
                                                      (o.onload = function () {
                                                          200 === this.status ? e(this.response) : r();
                                                      }),
                                                      (o.onerror = r),
                                                      o.send();
                                              } catch (e) {
                                                  r();
                                              }
                                          }))
                                        : 0 === e.indexOf("data:")
                                        ? rh(e)
                                        : null;
                                    var t;
                                },
                                ih = nh,
                                ah = 0,
                                sh = function (e) {
                                    return (e || "blobid") + ah++;
                                },
                                uh = function (e, t, n, r) {
                                    var o, i;
                                    0 !== t.src.indexOf("blob:")
                                        ? ((o = ih(t.src).data),
                                          (i = e.findFirst(function (e) {
                                              return e.base64() === o;
                                          }))
                                              ? n({ image: t, blobInfo: i })
                                              : oh(t.src).then(
                                                    function (r) {
                                                        (i = e.create(sh(), r, o)), e.add(i), n({ image: t, blobInfo: i });
                                                    },
                                                    function (e) {
                                                        r(e);
                                                    }
                                                ))
                                        : (i = e.getByUri(t.src))
                                        ? n({ image: t, blobInfo: i })
                                        : oh(t.src).then(
                                              function (r) {
                                                  (function (e) {
                                                      return new pe(function (t) {
                                                          var n = new (oe.getOrDie("FileReader"))();
                                                          (n.onloadend = function () {
                                                              t(n.result);
                                                          }),
                                                              n.readAsDataURL(e);
                                                      });
                                                  })(r).then(function (a) {
                                                      (o = ih(a).data), (i = e.create(sh(), r, o)), e.add(i), n({ image: t, blobInfo: i });
                                                  });
                                              },
                                              function (e) {
                                                  r(e);
                                              }
                                          );
                                },
                                ch = 0,
                                lh = {
                                    uuid: function (e) {
                                        return (
                                            e +
                                            ch++ +
                                            ((t = function () {
                                                return Math.round(4294967295 * Math.random()).toString(36);
                                            }),
                                            "s" + new Date().getTime().toString(36) + t() + t() + t())
                                        );
                                        var t;
                                    },
                                };
                            function dh(e) {
                                var t,
                                    n,
                                    r,
                                    i,
                                    a,
                                    s,
                                    u,
                                    c,
                                    l,
                                    d =
                                        ((t = []),
                                        (n = function (e) {
                                            var t, n, r;
                                            if (!e.blob || !e.base64) throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
                                            return (
                                                (t = e.id || lh.uuid("blobid")),
                                                (n = e.name || t),
                                                {
                                                    id: o(t),
                                                    name: o(n),
                                                    filename: o(n + "." + ((r = e.blob.type), { "image/jpeg": "jpg", "image/jpg": "jpg", "image/gif": "gif", "image/png": "png" }[r.toLowerCase()] || "dat")),
                                                    blob: o(e.blob),
                                                    base64: o(e.base64),
                                                    blobUri: o(e.blobUri || ae(e.blob)),
                                                    uri: o(e.uri),
                                                }
                                            );
                                        }),
                                        {
                                            create: function (e, t, r, o) {
                                                if (O(e)) return n({ id: e, name: o, blob: t, base64: r });
                                                if (D(e)) return n(e);
                                                throw new Error("Unknown input type");
                                            },
                                            add: function (e) {
                                                r(e.id()) || t.push(e);
                                            },
                                            get: (r = function (e) {
                                                return i(function (t) {
                                                    return t.id() === e;
                                                });
                                            }),
                                            getByUri: function (e) {
                                                return i(function (t) {
                                                    return t.blobUri() === e;
                                                });
                                            },
                                            findFirst: (i = function (e) {
                                                return K(t, e)[0];
                                            }),
                                            removeByUri: function (e) {
                                                t = K(t, function (t) {
                                                    return t.blobUri() !== e || (se(t.blobUri()), !1);
                                                });
                                            },
                                            destroy: function () {
                                                V(t, function (e) {
                                                    se(e.blobUri());
                                                }),
                                                    (t = []);
                                            },
                                        }),
                                    f =
                                        ((u = {}),
                                        (c = function (e, t) {
                                            return { status: e, resultUri: t };
                                        }),
                                        {
                                            hasBlobUri: (l = function (e) {
                                                return e in u;
                                            }),
                                            getResultUri: function (e) {
                                                var t = u[e];
                                                return t ? t.resultUri : null;
                                            },
                                            isPending: function (e) {
                                                return !!l(e) && 1 === u[e].status;
                                            },
                                            isUploaded: function (e) {
                                                return !!l(e) && 2 === u[e].status;
                                            },
                                            markPending: function (e) {
                                                u[e] = c(1, null);
                                            },
                                            markUploaded: function (e, t) {
                                                u[e] = c(2, t);
                                            },
                                            removeFailed: function (e) {
                                                delete u[e];
                                            },
                                            destroy: function () {
                                                u = {};
                                            },
                                        }),
                                    p = [],
                                    m = function (t) {
                                        return function (n) {
                                            return e.selection ? t(n) : [];
                                        };
                                    },
                                    h = function (e, t, n) {
                                        for (var r = 0; -1 !== (r = e.indexOf(t, r)) && ((e = e.substring(0, r) + n + e.substr(r + t.length)), (r += n.length - t.length + 1)), -1 !== r; );
                                        return e;
                                    },
                                    g = function (e, t, n) {
                                        return (e = h(e, 'src="' + t + '"', 'src="' + n + '"')), h(e, 'data-mce-src="' + t + '"', 'data-mce-src="' + n + '"');
                                    },
                                    v = function (t, n) {
                                        V(e.undoManager.data, function (e) {
                                            "fragmented" === e.type
                                                ? (e.fragments = q(e.fragments, function (e) {
                                                      return g(e, t, n);
                                                  }))
                                                : (e.content = g(e.content, t, n));
                                        });
                                    },
                                    b = function () {
                                        return e.notificationManager.open({ text: e.translate("Image uploading..."), type: "info", timeout: -1, progressBar: !0 });
                                    },
                                    y = function (t) {
                                        return (
                                            a || (a = th(f, { url: Zc(e), basePath: el(e), credentials: tl(e), handler: nl(e) })),
                                            x().then(
                                                m(function (n) {
                                                    var r;
                                                    return (
                                                        (r = q(n, function (e) {
                                                            return e.blobInfo;
                                                        })),
                                                        a.upload(r, b).then(
                                                            m(function (r) {
                                                                var o = q(r, function (t, r) {
                                                                    var o = n[r].image;
                                                                    return (
                                                                        t.status &&
                                                                        (function (e) {
                                                                            return e.getParam("images_replace_blob_uris", !0, "boolean");
                                                                        })(e)
                                                                            ? (function (t, n) {
                                                                                  d.removeByUri(t.src), v(t.src, n), e.$(t).attr({ src: Qc(e) ? n + "?" + new Date().getTime() : n, "data-mce-src": e.convertURL(n, "src") });
                                                                              })(o, t.url)
                                                                            : t.error && Jm.uploadError(e, t.error),
                                                                        { element: o, status: t.status }
                                                                    );
                                                                });
                                                                return t && t(o), o;
                                                            })
                                                        )
                                                    );
                                                })
                                            )
                                        );
                                    },
                                    w = function (t) {
                                        if (Jc(e)) return y(t);
                                    },
                                    C = function (t) {
                                        return (
                                            !1 !==
                                                Q(p, function (e) {
                                                    return e(t);
                                                }) &&
                                            (0 !== t.getAttribute("src").indexOf("data:") ||
                                                (function (e) {
                                                    return e.getParam("images_dataimg_filter", o(!0), "function");
                                                })(e)(t))
                                        );
                                    },
                                    x = function () {
                                        var t, n, r;
                                        return (
                                            s ||
                                                ((t = f),
                                                (n = d),
                                                (r = {}),
                                                (s = {
                                                    findAll: function (e, i) {
                                                        var a;
                                                        i || (i = o(!0)),
                                                            (a = K(
                                                                (function (e) {
                                                                    return e ? ne(e.getElementsByTagName("img")) : [];
                                                                })(e),
                                                                function (e) {
                                                                    var n = e.src;
                                                                    return (
                                                                        !!fe.fileApi &&
                                                                        !e.hasAttribute("data-mce-bogus") &&
                                                                        !e.hasAttribute("data-mce-placeholder") &&
                                                                        !(!n || n === fe.transparentSrc) &&
                                                                        (0 === n.indexOf("blob:") ? !t.isUploaded(n) && i(e) : 0 === n.indexOf("data:") && i(e))
                                                                    );
                                                                }
                                                            ));
                                                        var s = q(a, function (e) {
                                                            if (r[e.src])
                                                                return new pe(function (t) {
                                                                    r[e.src].then(function (n) {
                                                                        if ("string" == typeof n) return n;
                                                                        t({ image: e, blobInfo: n.blobInfo });
                                                                    });
                                                                });
                                                            var t = new pe(function (t, r) {
                                                                uh(n, e, t, r);
                                                            })
                                                                .then(function (e) {
                                                                    return delete r[e.image.src], e;
                                                                })
                                                                .catch(function (t) {
                                                                    return delete r[e.src], t;
                                                                });
                                                            return (r[e.src] = t);
                                                        });
                                                        return pe.all(s);
                                                    },
                                                })),
                                            s.findAll(e.getBody(), C).then(
                                                m(function (t) {
                                                    return (
                                                        (t = K(t, function (t) {
                                                            return "string" != typeof t || (Jm.displayError(e, t), !1);
                                                        })),
                                                        V(t, function (e) {
                                                            v(e.image.src, e.blobInfo.blobUri()), (e.image.src = e.blobInfo.blobUri()), e.image.removeAttribute("data-mce-src");
                                                        }),
                                                        t
                                                    );
                                                })
                                            )
                                        );
                                    },
                                    _ = function (t) {
                                        return t.replace(/src="(blob:[^"]+)"/g, function (t, n) {
                                            var r = f.getResultUri(n);
                                            if (r) return 'src="' + r + '"';
                                            var o = d.getByUri(n);
                                            return (
                                                o ||
                                                    (o = G(
                                                        e.editorManager.get(),
                                                        function (e, t) {
                                                            return e || (t.editorUpload && t.editorUpload.blobCache.getByUri(n));
                                                        },
                                                        null
                                                    )),
                                                o ? 'src="data:' + o.blob().type + ";base64," + o.base64() + '"' : t
                                            );
                                        });
                                    };
                                return (
                                    e.on("setContent", function () {
                                        Jc(e) ? w() : x();
                                    }),
                                    e.on("RawSaveContent", function (e) {
                                        e.content = _(e.content);
                                    }),
                                    e.on("getContent", function (e) {
                                        e.source_view || "raw" === e.format || (e.content = _(e.content));
                                    }),
                                    e.on("PostRender", function () {
                                        e.parser.addNodeFilter("img", function (e) {
                                            V(e, function (e) {
                                                var t = e.attr("src");
                                                if (!d.getByUri(t)) {
                                                    var n = f.getResultUri(t);
                                                    n && e.attr("src", n);
                                                }
                                            });
                                        });
                                    }),
                                    {
                                        blobCache: d,
                                        addFilter: function (e) {
                                            p.push(e);
                                        },
                                        uploadImages: y,
                                        uploadImagesAuto: w,
                                        scanForImages: x,
                                        destroy: function () {
                                            d.destroy(), f.destroy(), (s = a = null);
                                        },
                                    }
                                );
                            }
                            var fh = function (e, t) {
                                    return e.hasOwnProperty(t.nodeName);
                                },
                                ph = function (e, t) {
                                    if (Io.isText(t)) {
                                        if (0 === t.nodeValue.length) return !0;
                                        if (/^\s+$/.test(t.nodeValue) && (!t.nextSibling || fh(e, t.nextSibling))) return !0;
                                    }
                                    return !1;
                                },
                                mh = function (e) {
                                    var t,
                                        n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f = e.settings,
                                        p = e.dom,
                                        m = e.selection,
                                        h = e.schema,
                                        g = h.getBlockElements(),
                                        v = m.getStart(),
                                        b = e.getBody();
                                    if (
                                        ((d = f.forced_root_block),
                                        v &&
                                            Io.isElement(v) &&
                                            d &&
                                            ((l = b.nodeName.toLowerCase()),
                                            h.isValidChild(l, d.toLowerCase()) &&
                                                ((y = g),
                                                (w = b),
                                                (C = v),
                                                !z(bl(ar.fromDom(C), ar.fromDom(w)), function (e) {
                                                    return fh(y, e.dom());
                                                }))))
                                    ) {
                                        var y, w, C, x, _;
                                        for (n = (t = m.getRng()).startContainer, r = t.startOffset, o = t.endContainer, i = t.endOffset, c = Bm(e), v = b.firstChild; v; )
                                            if (((x = g), (_ = v), Io.isText(_) || (Io.isElement(_) && !fh(x, _) && !Ju(_)))) {
                                                if (ph(g, v)) {
                                                    (v = (s = v).nextSibling), p.remove(s);
                                                    continue;
                                                }
                                                a || ((a = p.create(d, e.settings.forced_root_block_attrs)), v.parentNode.insertBefore(a, v), (u = !0)), (v = (s = v).nextSibling), a.appendChild(s);
                                            } else (a = null), (v = v.nextSibling);
                                        u && c && (t.setStart(n, r), t.setEnd(o, i), m.setRng(t), e.nodeChanged());
                                    }
                                },
                                hh = function (e) {
                                    e.settings.forced_root_block && e.on("NodeChange", a(mh, e));
                                },
                                gh = function (e) {
                                    return Vr(e).fold(o([e]), function (t) {
                                        return [e].concat(gh(t));
                                    });
                                },
                                vh = function (e) {
                                    return Wr(e).fold(o([e]), function (t) {
                                        return "br" === lr(t)
                                            ? jr(t)
                                                  .map(function (t) {
                                                      return [e].concat(vh(t));
                                                  })
                                                  .getOr([])
                                            : [e].concat(vh(t));
                                    });
                                },
                                bh = function (e, t, n, r) {
                                    var o = n,
                                        i = new uo(n, o),
                                        a = e.schema.getNonEmptyElements();
                                    do {
                                        if (3 === n.nodeType && 0 !== Yt.trim(n.nodeValue).length) return void (r ? t.setStart(n, 0) : t.setEnd(n, n.nodeValue.length));
                                        if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName)) return void (r ? t.setStartBefore(n) : "BR" === n.nodeName ? t.setEndBefore(n) : t.setEndAfter(n));
                                        if (fe.ie && fe.ie < 11 && e.isBlock(n) && e.isEmpty(n)) return void (r ? t.setStart(n, 0) : t.setEnd(n, 0));
                                    } while ((n = r ? i.next() : i.prev()));
                                    "BODY" === o.nodeName && (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length));
                                },
                                yh = function (e) {
                                    var t = e.selection.getSel();
                                    return t && 0 < t.rangeCount;
                                };
                            function wh(e) {
                                var t,
                                    n = [];
                                "onselectionchange" in e.getDoc() ||
                                    e.on("NodeChange Click MouseUp KeyUp Focus", function (n) {
                                        var r, o;
                                        (o = { startContainer: (r = e.selection.getRng()).startContainer, startOffset: r.startOffset, endContainer: r.endContainer, endOffset: r.endOffset }),
                                            ("nodechange" !== n.type && mp(o, t)) || e.fire("SelectionChange"),
                                            (t = o);
                                    }),
                                    e.on("contextmenu", function () {
                                        e.fire("SelectionChange");
                                    }),
                                    e.on("SelectionChange", function () {
                                        var t = e.selection.getStart(!0);
                                        !t ||
                                            (!fe.range && e.selection.isCollapsed()) ||
                                            (yh(e) &&
                                                !(function (t) {
                                                    var r, o;
                                                    if ((o = e.$(t).parentsUntil(e.getBody()).add(t)).length === n.length) {
                                                        for (r = o.length; 0 <= r && o[r] === n[r]; r--);
                                                        if (-1 === r) return (n = o), !0;
                                                    }
                                                    return (n = o), !1;
                                                })(t) &&
                                                e.dom.isChildOf(t, e.getBody()) &&
                                                e.nodeChanged({ selectionChange: !0 }));
                                    }),
                                    e.on("MouseUp", function (t) {
                                        !t.isDefaultPrevented() &&
                                            yh(e) &&
                                            ("IMG" === e.selection.getNode().nodeName
                                                ? ve.setEditorTimeout(e, function () {
                                                      e.nodeChanged();
                                                  })
                                                : e.nodeChanged());
                                    }),
                                    (this.nodeChanged = function (t) {
                                        var n,
                                            r,
                                            o,
                                            i = e.selection;
                                        e.initialized &&
                                            i &&
                                            !e.settings.disable_nodechange &&
                                            !e.readonly &&
                                            ((o = e.getBody()),
                                            ((n = i.getStart(!0) || o).ownerDocument === e.getDoc() && e.dom.isChildOf(n, o)) || (n = o),
                                            (r = []),
                                            e.dom.getParent(n, function (e) {
                                                if (e === o) return !0;
                                                r.push(e);
                                            }),
                                            ((t = t || {}).element = n),
                                            (t.parents = r),
                                            e.fire("NodeChange", t));
                                    });
                            }
                            var Ch,
                                xh,
                                _h = {
                                    BACKSPACE: 8,
                                    DELETE: 46,
                                    DOWN: 40,
                                    ENTER: 13,
                                    LEFT: 37,
                                    RIGHT: 39,
                                    SPACEBAR: 32,
                                    TAB: 9,
                                    UP: 38,
                                    END: 35,
                                    HOME: 36,
                                    modifierPressed: function (e) {
                                        return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);
                                    },
                                    metaKeyPressed: function (e) {
                                        return fe.mac ? e.metaKey : e.ctrlKey && !e.altKey;
                                    },
                                },
                                kh = function (e) {
                                    return G(
                                        e,
                                        function (e, t) {
                                            return e.concat(
                                                (function (e) {
                                                    var t = function (t) {
                                                        return q(t, function (t) {
                                                            return ((t = Ba(t)).node = e), t;
                                                        });
                                                    };
                                                    if (Io.isElement(e)) return t(e.getClientRects());
                                                    if (Io.isText(e)) {
                                                        var n = e.ownerDocument.createRange();
                                                        return n.setStart(e, 0), n.setEnd(e, e.data.length), t(n.getClientRects());
                                                    }
                                                })(t)
                                            );
                                        },
                                        []
                                    );
                                };
                            ((xh = Ch || (Ch = {}))[(xh.Up = -1)] = "Up"), (xh[(xh.Down = 1)] = "Down");
                            var Th = function (e, t, n, r, o, i) {
                                    var a,
                                        s,
                                        u = 0,
                                        c = [],
                                        l = function (r) {
                                            var i, a, l;
                                            for (l = kh([r]), -1 === e && (l = l.reverse()), i = 0; i < l.length; i++)
                                                if (((a = l[i]), !n(a, s))) {
                                                    if ((0 < c.length && t(a, qt.last(c)) && u++, (a.line = u), o(a))) return !0;
                                                    c.push(a);
                                                }
                                        };
                                    return (
                                        (s = qt.last(i.getClientRects())) &&
                                            (l((a = i.getNode())),
                                            (function (e, t, n, r) {
                                                for (; (r = au(r, e, Da, t)); ) if (n(r)) return;
                                            })(e, r, l, a)),
                                        c
                                    );
                                },
                                Eh = a(Th, Ch.Up, La, Ma),
                                Sh = a(Th, Ch.Down, Ma, La),
                                $h = function (e) {
                                    return function (t) {
                                        return (n = e), t.line > n;
                                        var n;
                                    };
                                },
                                Nh = function (e) {
                                    return function (t) {
                                        return (n = e), t.line === n;
                                        var n;
                                    };
                                },
                                Ah = Io.isContentEditableFalse,
                                Oh = au,
                                Dh = function (e, t) {
                                    return Math.abs(e.left - t);
                                },
                                Rh = function (e, t) {
                                    return Math.abs(e.right - t);
                                },
                                Bh = function (e, t) {
                                    return e >= t.left && e <= t.right;
                                },
                                Ph = function (e, t) {
                                    return qt.reduce(e, function (e, n) {
                                        var r, o;
                                        return (r = Math.min(Dh(e, t), Rh(e, t))), (o = Math.min(Dh(n, t), Rh(n, t))), Bh(t, n) ? n : Bh(t, e) ? e : (o === r && Ah(n.node)) || o < r ? n : e;
                                    });
                                },
                                Ih = function (e, t, n, r) {
                                    for (; (r = Oh(r, e, Da, t)); ) if (n(r)) return;
                                },
                                Lh = function (e, t, n) {
                                    if (n.collapsed) return !1;
                                    if (fe.ie && fe.ie <= 11 && n.startOffset === n.endOffset - 1 && n.startContainer === n.endContainer) {
                                        var r = n.startContainer.childNodes[n.startOffset];
                                        if (Io.isElement(r))
                                            return z(r.getClientRects(), function (n) {
                                                return ja(n, e, t);
                                            });
                                    }
                                    return z(n.getClientRects(), function (n) {
                                        return ja(n, e, t);
                                    });
                                },
                                Mh = function (e) {
                                    var t, n, r, o;
                                    return (o = e.getBoundingClientRect()), (n = (t = e.ownerDocument).documentElement), (r = t.defaultView), { top: o.top + r.pageYOffset - n.clientTop, left: o.left + r.pageXOffset - n.clientLeft };
                                },
                                jh = function (e, t) {
                                    return (
                                        (n = (s = e).inline ? Mh(s.getBody()) : { left: 0, top: 0 }),
                                        (a = (i = e).getBody()),
                                        (r = i.inline ? { left: a.scrollLeft, top: a.scrollTop } : { left: 0, top: 0 }),
                                        {
                                            pageX:
                                                (o = (function (e, t) {
                                                    if (t.target.ownerDocument !== e.getDoc()) {
                                                        var n = Mh(e.getContentAreaContainer()),
                                                            r =
                                                                ((i = (o = e).getBody()),
                                                                (a = o.getDoc().documentElement),
                                                                (s = { left: i.scrollLeft, top: i.scrollTop }),
                                                                (u = { left: i.scrollLeft || a.scrollLeft, top: i.scrollTop || a.scrollTop }),
                                                                o.inline ? s : u);
                                                        return { left: t.pageX - n.left + r.left, top: t.pageY - n.top + r.top };
                                                    }
                                                    var o, i, a, s, u;
                                                    return { left: t.pageX, top: t.pageY };
                                                })(e, t)).left -
                                                n.left +
                                                r.left,
                                            pageY: o.top - n.top + r.top,
                                        }
                                    );
                                    var n, r, o, i, a, s;
                                },
                                Fh = Io.isContentEditableFalse,
                                Uh = Io.isContentEditableTrue,
                                Hh = function (e) {
                                    e && e.parentNode && e.parentNode.removeChild(e);
                                },
                                zh = function (e, t) {
                                    return function (n) {
                                        if (0 === n.button) {
                                            var r = Y(
                                                t.dom.getParents(n.target),
                                                (function () {
                                                    for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
                                                    var n = Va.call(arguments);
                                                    return function (e) {
                                                        for (var t = 0; t < n.length; t++) if (n[t](e)) return !0;
                                                        return !1;
                                                    };
                                                })(Fh, Uh)
                                            ).getOr(null);
                                            if (((s = t.getBody()), Fh((u = r)) && u !== s)) {
                                                var o = t.dom.getPos(r),
                                                    i = t.getBody(),
                                                    a = t.getDoc().documentElement;
                                                (e.element = r),
                                                    (e.screenX = n.screenX),
                                                    (e.screenY = n.screenY),
                                                    (e.maxX = (t.inline ? i.scrollWidth : a.offsetWidth) - 2),
                                                    (e.maxY = (t.inline ? i.scrollHeight : a.offsetHeight) - 2),
                                                    (e.relX = n.pageX - o.x),
                                                    (e.relY = n.pageY - o.y),
                                                    (e.width = r.offsetWidth),
                                                    (e.height = r.offsetHeight),
                                                    (e.ghost = (function (e, t, n, r) {
                                                        var o = t.cloneNode(!0);
                                                        e.dom.setStyles(o, { width: n, height: r }), e.dom.setAttrib(o, "data-mce-selected", null);
                                                        var i = e.dom.create("div", { class: "mce-drag-container", "data-mce-bogus": "all", unselectable: "on", contenteditable: "false" });
                                                        return (
                                                            e.dom.setStyles(i, { position: "absolute", opacity: 0.5, overflow: "hidden", border: 0, padding: 0, margin: 0, width: n, height: r }),
                                                            e.dom.setStyles(o, { margin: 0, boxSizing: "border-box" }),
                                                            i.appendChild(o),
                                                            i
                                                        );
                                                    })(t, r, e.width, e.height));
                                            }
                                        }
                                        var s, u;
                                    };
                                },
                                qh = function (e) {
                                    (e.dragging = !1), (e.element = null), Hh(e.ghost);
                                },
                                Vh = function (e) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p = {};
                                    (n = yi.DOM),
                                        (s = t.document),
                                        (r = zh(p, e)),
                                        (u = p),
                                        (c = e),
                                        (l = ve.throttle(function (e, t) {
                                            c._selectionOverrides.hideFakeCaret(), c.selection.placeCaretAt(e, t);
                                        }, 0)),
                                        (o = function (e) {
                                            var t,
                                                n,
                                                r,
                                                o,
                                                i,
                                                a,
                                                s,
                                                d,
                                                f,
                                                p,
                                                m,
                                                h,
                                                g = Math.max(Math.abs(e.screenX - u.screenX), Math.abs(e.screenY - u.screenY));
                                            if (u.element && !u.dragging && 10 < g) {
                                                if (c.fire("dragstart", { target: u.element }).isDefaultPrevented()) return;
                                                (u.dragging = !0), c.focus();
                                            }
                                            if (u.dragging) {
                                                var v = ((m = u), { pageX: (h = jh(c, e)).pageX - m.relX, pageY: h.pageY + 5 });
                                                (f = u.ghost),
                                                    (p = c.getBody()),
                                                    f.parentNode !== p && p.appendChild(f),
                                                    (t = u.ghost),
                                                    (n = v),
                                                    (r = u.width),
                                                    (o = u.height),
                                                    (i = u.maxX),
                                                    (a = u.maxY),
                                                    (d = s = 0),
                                                    (t.style.left = n.pageX + "px"),
                                                    (t.style.top = n.pageY + "px"),
                                                    n.pageX + r > i && (s = n.pageX + r - i),
                                                    n.pageY + o > a && (d = n.pageY + o - a),
                                                    (t.style.width = r - s + "px"),
                                                    (t.style.height = o - d + "px"),
                                                    l(e.clientX, e.clientY);
                                            }
                                        }),
                                        (i = (function (e, t) {
                                            return function (n) {
                                                if (e.dragging && (s = 3 === (c = (a = t).selection.getSel().getRangeAt(0).startContainer).nodeType ? c.parentNode : c) !== (u = e.element) && !a.dom.isChildOf(s, u) && !Fh(s)) {
                                                    var r = ((i = e.element.cloneNode(!0)).removeAttribute("data-mce-selected"), i),
                                                        o = t.fire("drop", { targetClone: r, clientX: n.clientX, clientY: n.clientY });
                                                    o.isDefaultPrevented() ||
                                                        ((r = o.targetClone),
                                                        t.undoManager.transact(function () {
                                                            Hh(e.element), t.insertContent(t.dom.getOuterHTML(r)), t._selectionOverrides.hideFakeCaret();
                                                        }));
                                                }
                                                var i, a, s, u, c;
                                                qh(e);
                                            };
                                        })(p, e)),
                                        (d = p),
                                        (a = function () {
                                            d.dragging && f.fire("dragend"), qh(d);
                                        }),
                                        (f = e).on("mousedown", r),
                                        e.on("mousemove", o),
                                        e.on("mouseup", i),
                                        n.bind(s, "mousemove", o),
                                        n.bind(s, "mouseup", a),
                                        e.on("remove", function () {
                                            n.unbind(s, "mousemove", o), n.unbind(s, "mouseup", a);
                                        });
                                },
                                Wh = Io.isContentEditableTrue,
                                Kh = Io.isContentEditableFalse,
                                Gh = function (e, t) {
                                    for (var n = e.getBody(); t && t !== n; ) {
                                        if (Wh(t) || Kh(t)) return t;
                                        t = t.parentNode;
                                    }
                                    return null;
                                },
                                Yh = function (e) {
                                    var t,
                                        n,
                                        r,
                                        o = e.getBody(),
                                        i = Gs(
                                            e.getBody(),
                                            function (t) {
                                                return e.dom.isBlock(t);
                                            },
                                            function () {
                                                return Bm(e);
                                            }
                                        ),
                                        s = "sel-" + e.dom.uniqueId(),
                                        u = function (t) {
                                            t && e.selection.setRng(t);
                                        },
                                        c = function () {
                                            return e.selection.getRng();
                                        },
                                        l = function (t, n, r, o) {
                                            return void 0 === o && (o = !0), e.fire("ShowCaret", { target: n, direction: t, before: r }).isDefaultPrevented() ? null : (o && e.selection.scrollIntoView(n, -1 === t), i.show(r, n));
                                        },
                                        d = function (e, t) {
                                            return (t = mu(e, o, t)), -1 === e ? fs.fromRangeStart(t) : fs.fromRangeEnd(t);
                                        },
                                        f = function (e) {
                                            return ha(e) || ya(e) || wa(e);
                                        },
                                        p = function (e) {
                                            return f(e.startContainer) || f(e.endContainer);
                                        },
                                        m = function (n, r) {
                                            var o,
                                                i,
                                                a,
                                                u,
                                                c,
                                                f,
                                                m,
                                                h,
                                                v,
                                                b,
                                                y = e.$,
                                                w = e.dom;
                                            if (!n) return null;
                                            if (n.collapsed) {
                                                if (!p(n))
                                                    if (!1 === r) {
                                                        if (((h = d(-1, n)), Xs(h.getNode(!0)))) return l(-1, h.getNode(!0), !1, !1);
                                                        if (Xs(h.getNode())) return l(-1, h.getNode(), !h.isAtEnd(), !1);
                                                    } else {
                                                        if (((h = d(1, n)), Xs(h.getNode()))) return l(1, h.getNode(), !h.isAtEnd(), !1);
                                                        if (Xs(h.getNode(!0))) return l(1, h.getNode(!0), !1, !1);
                                                    }
                                                return null;
                                            }
                                            return (
                                                (u = n.startContainer),
                                                (c = n.startOffset),
                                                (f = n.endOffset),
                                                3 === u.nodeType && 0 === c && Kh(u.parentNode) && ((u = u.parentNode), (c = w.nodeIndex(u)), (u = u.parentNode)),
                                                1 !== u.nodeType
                                                    ? null
                                                    : (f === c + 1 && u === n.endContainer && (o = u.childNodes[c]),
                                                      Kh(o)
                                                          ? ((v = b = o.cloneNode(!0)),
                                                            (m = e.fire("ObjectSelected", { target: o, targetClone: v })).isDefaultPrevented()
                                                                ? null
                                                                : ((i = Yi(ar.fromDom(e.getBody()), "#" + s).fold(
                                                                      function () {
                                                                          return y([]);
                                                                      },
                                                                      function (e) {
                                                                          return y([e.dom()]);
                                                                      }
                                                                  )),
                                                                  (v = m.targetClone),
                                                                  0 === i.length && (i = y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", s)).appendTo(e.getBody()),
                                                                  (n = e.dom.createRng()),
                                                                  v === b && fe.ie
                                                                      ? (i.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(v), n.setStartAfter(i[0].firstChild.firstChild), n.setEndAfter(v))
                                                                      : (i.empty().append(" ").append(v).append(" "), n.setStart(i[0].firstChild, 1), n.setEnd(i[0].lastChild, 0)),
                                                                  i.css({ top: w.getPos(o, e.getBody()).y }),
                                                                  i[0].focus(),
                                                                  (a = e.selection.getSel()).removeAllRanges(),
                                                                  a.addRange(n),
                                                                  V(zi(ar.fromDom(e.getBody()), "*[data-mce-selected]"), function (e) {
                                                                      kr(e, "data-mce-selected");
                                                                  }),
                                                                  o.setAttribute("data-mce-selected", "1"),
                                                                  (t = o),
                                                                  g(),
                                                                  n))
                                                          : null)
                                            );
                                        },
                                        h = function () {
                                            t && (t.removeAttribute("data-mce-selected"), Yi(ar.fromDom(e.getBody()), "#" + s).each(Bi), (t = null)), Yi(ar.fromDom(e.getBody()), "#" + s).each(Bi), (t = null);
                                        },
                                        g = function () {
                                            i.hide();
                                        };
                                    return (
                                        fe.ceFalse &&
                                            ((function () {
                                                e.on("mouseup", function (t) {
                                                    var n = c();
                                                    n.collapsed && Um(e, t.clientX, t.clientY) && u(rp(e, n, !1));
                                                }),
                                                    e.on("click", function (t) {
                                                        var n;
                                                        (n = Gh(e, t.target)) && (Kh(n) && (t.preventDefault(), e.focus()), Wh(n) && e.dom.isChildOf(n, e.selection.getNode()) && h());
                                                    }),
                                                    e.on("blur NewBlock", function () {
                                                        h();
                                                    }),
                                                    e.on("ResizeWindow FullscreenStateChanged", function () {
                                                        return i.reposition();
                                                    });
                                                var n, r;
                                                (r = !1),
                                                    (n = e).on("touchstart", function () {
                                                        r = !1;
                                                    }),
                                                    n.on("touchmove", function () {
                                                        r = !0;
                                                    }),
                                                    n.on("touchend", function (e) {
                                                        var t = Gh(n, e.target);
                                                        Kh(t) && (r || (e.preventDefault(), m(np(n, t))));
                                                    }),
                                                    e.on("mousedown", function (t) {
                                                        var n,
                                                            r = t.target;
                                                        if ((r === o || "HTML" === r.nodeName || e.dom.isChildOf(r, o)) && !1 !== Um(e, t.clientX, t.clientY))
                                                            if ((n = Gh(e, r)))
                                                                Kh(n)
                                                                    ? (t.preventDefault(), m(np(e, n)))
                                                                    : (h(), (Wh(n) && t.shiftKey) || Lh(t.clientX, t.clientY, e.selection.getRng()) || (g(), e.selection.placeCaretAt(t.clientX, t.clientY)));
                                                            else if (!1 === Xs(r)) {
                                                                h(), g();
                                                                var i = (function (e, t, n) {
                                                                    var r,
                                                                        o,
                                                                        i,
                                                                        s,
                                                                        u,
                                                                        c,
                                                                        l,
                                                                        d = kh(K(ne(e.getElementsByTagName("*")), Xs)),
                                                                        f = K(d, function (e) {
                                                                            return n >= e.top && n <= e.bottom;
                                                                        });
                                                                    return (r = Ph(f, t)) &&
                                                                        (r = Ph(
                                                                            ((s = e),
                                                                            (l = function (e, t) {
                                                                                var n;
                                                                                return (
                                                                                    (n = K(kh([t]), function (t) {
                                                                                        return !e(t, u);
                                                                                    })),
                                                                                    (c = c.concat(n)),
                                                                                    0 === n.length
                                                                                );
                                                                            }),
                                                                            (c = []).push((u = r)),
                                                                            Ih(Ch.Up, s, a(l, La), u.node),
                                                                            Ih(Ch.Down, s, a(l, Ma), u.node),
                                                                            c),
                                                                            t
                                                                        )) &&
                                                                        Xs(r.node)
                                                                        ? ((i = t), { node: (o = r).node, before: Dh(o, i) < Rh(o, i) })
                                                                        : null;
                                                                })(o, t.clientX, t.clientY);
                                                                if (
                                                                    i &&
                                                                    !(function (t, n) {
                                                                        var r,
                                                                            o,
                                                                            i = e.dom.getParent(t, e.dom.isBlock),
                                                                            a = e.dom.getParent(n, e.dom.isBlock);
                                                                        return (
                                                                            !(!i || !e.dom.isChildOf(i, a) || !1 !== Kh(Gh(e, i))) ||
                                                                            (i &&
                                                                                ((r = i), (o = a), !(e.dom.getParent(r, e.dom.isBlock) === e.dom.getParent(o, e.dom.isBlock))) &&
                                                                                (function (e) {
                                                                                    var t = Du(e);
                                                                                    if (!e.firstChild) return !1;
                                                                                    var n = fs.before(e.firstChild),
                                                                                        r = t.next(n);
                                                                                    return r && !Wl(r) && !Kl(r);
                                                                                })(i))
                                                                        );
                                                                    })(t.target, i.node)
                                                                ) {
                                                                    t.preventDefault();
                                                                    var s = l(1, i.node, i.before, !1);
                                                                    e.getBody().focus(), u(s);
                                                                }
                                                            }
                                                    }),
                                                    e.on("keypress", function (t) {
                                                        _h.modifierPressed(t) || (t.keyCode, Kh(e.selection.getNode()) && t.preventDefault());
                                                    }),
                                                    e.on("getSelectionRange", function (e) {
                                                        var n = e.range;
                                                        if (t) {
                                                            if (!t.parentNode) return void (t = null);
                                                            (n = n.cloneRange()).selectNode(t), (e.range = n);
                                                        }
                                                    }),
                                                    e.on("setSelectionRange", function (t) {
                                                        t.range = (function (t) {
                                                            var n = e.schema.getShortEndedElements(),
                                                                r = e.dom.createRng(),
                                                                o = t.startContainer,
                                                                i = t.startOffset,
                                                                a = t.endContainer,
                                                                s = t.endOffset;
                                                            return (
                                                                br(n, o.nodeName.toLowerCase()) ? (0 === i ? r.setStartBefore(o) : r.setStartAfter(o)) : r.setStart(o, i),
                                                                br(n, a.nodeName.toLowerCase()) ? (0 === s ? r.setEndBefore(a) : r.setEndAfter(a)) : r.setEnd(a, s),
                                                                r
                                                            );
                                                        })(t.range);
                                                        var n = m(t.range, t.forward);
                                                        n && (t.range = n);
                                                    }),
                                                    e.on("AfterSetSelectionRange", function (t) {
                                                        var n,
                                                            r = t.range;
                                                        p(r) || "mcepastebin" === r.startContainer.parentNode.id || g(), (n = r.startContainer.parentNode), e.dom.hasClass(n, "mce-offscreen-selection") || h();
                                                    }),
                                                    e.on("copy", function (t) {
                                                        var n,
                                                            r = t.clipboardData;
                                                        if (!t.isDefaultPrevented() && t.clipboardData && !fe.ie) {
                                                            var o = (n = e.dom.get(s)) ? n.getElementsByTagName("*")[0] : n;
                                                            o && (t.preventDefault(), r.clearData(), r.setData("text/html", o.outerHTML), r.setData("text/plain", o.outerText));
                                                        }
                                                    }),
                                                    (function (e) {
                                                        var t;
                                                        Vh(e),
                                                            (t = e).on("drop", function (e) {
                                                                var n = void 0 !== e.clientX ? t.getDoc().elementFromPoint(e.clientX, e.clientY) : null;
                                                                (Fh(n) || Fh(t.dom.getContentEditableParent(n))) && e.preventDefault();
                                                            });
                                                    })(e),
                                                    (function (e) {
                                                        var t = Ii(function () {
                                                            if (!e.removed && e.selection.getRng().collapsed) {
                                                                var t = op(e, e.selection.getRng(), !1);
                                                                e.selection.setRng(t);
                                                            }
                                                        }, 0);
                                                        e.on("focus", function () {
                                                            t.throttle();
                                                        }),
                                                            e.on("blur", function () {
                                                                t.cancel();
                                                            });
                                                    })(e);
                                            })(),
                                            (r = ".mce-content-body"),
                                            (n = e.contentStyles).push(i.getCss()),
                                            n.push(
                                                r +
                                                    " .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}" +
                                                    r +
                                                    " *[contentEditable=false] {cursor: default;}" +
                                                    r +
                                                    " *[contentEditable=true] {cursor: text;}"
                                            )),
                                        {
                                            showCaret: l,
                                            showBlockCaretContainer: function (t) {
                                                t.hasAttribute("data-mce-caret") && (Ca(t), u(c()), e.selection.scrollIntoView(t[0]));
                                            },
                                            hideFakeCaret: g,
                                            destroy: function () {
                                                i.destroy(), (t = null);
                                            },
                                        }
                                    );
                                },
                                Xh = function (e) {
                                    for (var t = e; /<!--|--!?>/g.test(t); ) t = t.replace(/<!--|--!?>/g, "");
                                    return t;
                                },
                                Jh = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s = 1;
                                    for (a = e.getShortEndedElements(), (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n; (o = i.exec(t)); ) {
                                        if (((r = i.lastIndex), "/" === o[1])) s--;
                                        else if (!o[1]) {
                                            if (o[2] in a) continue;
                                            s++;
                                        }
                                        if (0 === s) break;
                                    }
                                    return r;
                                },
                                Qh = function (e, t) {
                                    var n = e.exec(t);
                                    if (n) {
                                        var r = n[1],
                                            o = n[2];
                                        return "string" == typeof r && "data-mce-bogus" === r.toLowerCase() ? o : null;
                                    }
                                    return null;
                                };
                            function Zh(e, t) {
                                void 0 === t && (t = si());
                                var n = function () {};
                                !1 !== (e = e || {}).fix_self_closing && (e.fix_self_closing = !0);
                                var r = e.comment ? e.comment : n,
                                    o = e.cdata ? e.cdata : n,
                                    i = e.text ? e.text : n,
                                    a = e.start ? e.start : n,
                                    s = e.end ? e.end : n,
                                    u = e.pi ? e.pi : n,
                                    c = e.doctype ? e.doctype : n;
                                return {
                                    parse: function (n) {
                                        var l,
                                            d,
                                            f,
                                            p,
                                            m,
                                            h,
                                            g,
                                            v,
                                            b,
                                            y,
                                            w,
                                            C,
                                            x,
                                            _,
                                            k,
                                            T,
                                            E,
                                            S,
                                            $,
                                            N,
                                            A,
                                            O,
                                            D,
                                            R,
                                            B,
                                            P,
                                            I,
                                            L,
                                            M,
                                            j = 0,
                                            F = [],
                                            U = 0,
                                            H = Xo.decode,
                                            z = Yt.makeMap("src,href,data,background,formaction,poster,xlink:href"),
                                            q = /((java|vb)script|mhtml):/i,
                                            V = function (e) {
                                                var t, n;
                                                for (t = F.length; t-- && F[t].name !== e; );
                                                if (0 <= t) {
                                                    for (n = F.length - 1; t <= n; n--) (e = F[n]).valid && s(e.name);
                                                    F.length = t;
                                                }
                                            },
                                            W = function (t, n, r, o, i) {
                                                var a, s, u, c, l;
                                                if (((r = (n = n.toLowerCase()) in w ? n : H(r || o || i || "")), x && !v && 0 == (0 === (u = n).indexOf("data-") || 0 === u.indexOf("aria-")))) {
                                                    if (!(a = S[n]) && $) {
                                                        for (s = $.length; s-- && !(a = $[s]).pattern.test(n); );
                                                        -1 === s && (a = null);
                                                    }
                                                    if (!a) return;
                                                    if (a.validValues && !(r in a.validValues)) return;
                                                }
                                                if (z[n] && !e.allow_script_urls) {
                                                    var d = r.replace(/[\s\u0000-\u001F]+/g, "");
                                                    try {
                                                        d = decodeURIComponent(d);
                                                    } catch (e) {
                                                        d = unescape(d);
                                                    }
                                                    if (q.test(d)) return;
                                                    if (((l = d), !(c = e).allow_html_data_urls && (/^data:image\//i.test(l) ? !1 === c.allow_svg_data_urls && /^data:image\/svg\+xml/i.test(l) : /^data:/i.test(l)))) return;
                                                }
                                                (v && (n in z || 0 === n.indexOf("on"))) || ((p.map[n] = r), p.push({ name: n, value: r }));
                                            };
                                        for (
                                            B = new RegExp(
                                                "<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
                                                "g"
                                            ),
                                                P = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,
                                                y = t.getShortEndedElements(),
                                                R = e.self_closing_elements || t.getSelfClosingElements(),
                                                w = t.getBoolAttrs(),
                                                x = e.validate,
                                                b = e.remove_internals,
                                                M = e.fix_self_closing,
                                                I = t.getSpecialElements(),
                                                D = n + ">";
                                            (l = B.exec(D));

                                        ) {
                                            if ((j < l.index && i(H(n.substr(j, l.index - j))), (d = l[6]))) ":" === (d = d.toLowerCase()).charAt(0) && (d = d.substr(1)), V(d);
                                            else if ((d = l[7])) {
                                                if (l.index + l[0].length > n.length) {
                                                    i(H(n.substr(l.index))), (j = l.index + l[0].length);
                                                    continue;
                                                }
                                                ":" === (d = d.toLowerCase()).charAt(0) && (d = d.substr(1)), (C = d in y), M && R[d] && 0 < F.length && F[F.length - 1].name === d && V(d);
                                                var K = Qh(P, l[8]);
                                                if (null !== K) {
                                                    if ("all" === K) {
                                                        (j = Jh(t, n, B.lastIndex)), (B.lastIndex = j);
                                                        continue;
                                                    }
                                                    k = !1;
                                                }
                                                if (!x || (_ = t.getElementRule(d))) {
                                                    if (
                                                        ((k = !0),
                                                        x && ((S = _.attributes), ($ = _.attributePatterns)),
                                                        (E = l[8]) ? ((v = -1 !== E.indexOf("data-mce-type")) && b && (k = !1), ((p = []).map = {}), E.replace(P, W)) : ((p = []).map = {}),
                                                        x && !v)
                                                    ) {
                                                        if (((N = _.attributesRequired), (A = _.attributesDefault), (O = _.attributesForced), _.removeEmptyAttrs && !p.length && (k = !1), O))
                                                            for (m = O.length; m--; ) (g = (T = O[m]).name), "{$uid}" === (L = T.value) && (L = "mce_" + U++), (p.map[g] = L), p.push({ name: g, value: L });
                                                        if (A) for (m = A.length; m--; ) (g = (T = A[m]).name) in p.map || ("{$uid}" === (L = T.value) && (L = "mce_" + U++), (p.map[g] = L), p.push({ name: g, value: L }));
                                                        if (N) {
                                                            for (m = N.length; m-- && !(N[m] in p.map); );
                                                            -1 === m && (k = !1);
                                                        }
                                                        if ((T = p.map["data-mce-bogus"])) {
                                                            if ("all" === T) {
                                                                (j = Jh(t, n, B.lastIndex)), (B.lastIndex = j);
                                                                continue;
                                                            }
                                                            k = !1;
                                                        }
                                                    }
                                                    k && a(d, p, C);
                                                } else k = !1;
                                                if ((f = I[d])) {
                                                    (f.lastIndex = j = l.index + l[0].length),
                                                        (l = f.exec(n)) ? (k && (h = n.substr(j, l.index - j)), (j = l.index + l[0].length)) : ((h = n.substr(j)), (j = n.length)),
                                                        k && (0 < h.length && i(h, !0), s(d)),
                                                        (B.lastIndex = j);
                                                    continue;
                                                }
                                                C || (E && E.indexOf("/") === E.length - 1 ? k && s(d) : F.push({ name: d, valid: k }));
                                            } else
                                                (d = l[1])
                                                    ? (">" === d.charAt(0) && (d = " " + d), e.allow_conditional_comments || "[if" !== d.substr(0, 3).toLowerCase() || (d = " " + d), r(d))
                                                    : (d = l[2])
                                                    ? o(Xh(d))
                                                    : (d = l[3])
                                                    ? c(d)
                                                    : (d = l[4]) && u(d, l[5]);
                                            j = l.index + l[0].length;
                                        }
                                        for (j < n.length && i(H(n.substr(j))), m = F.length - 1; 0 <= m; m--) (d = F[m]).valid && s(d.name);
                                    },
                                };
                            }
                            (Zh || (Zh = {})).findEndTag = Jh;
                            var eg = Zh,
                                tg = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l = t,
                                        d = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                                        f = e.schema;
                                    for (s = e.getTempAttrs(), u = l, c = new RegExp(["\\s?(" + s.join("|") + ')="[^"]+"'].join("|"), "gi"), l = u.replace(c, ""), a = f.getShortEndedElements(); (i = d.exec(l)); )
                                        (r = d.lastIndex), (o = i[0].length), (n = a[i[1]] ? r : eg.findEndTag(f, l, r)), (l = l.substring(0, r - o) + l.substring(n)), (d.lastIndex = r - o);
                                    return la(l);
                                },
                                ng = tg,
                                rg = tg,
                                og = function (e) {
                                    return Io.isElement(e) ? e.outerHTML : Io.isText(e) ? Xo.encodeRaw(e.data, !1) : Io.isComment(e) ? "\x3c!--" + e.data + "--\x3e" : "";
                                },
                                ig = function (e, n) {
                                    var r, o, i;
                                    return (
                                        (r = (function (e, t) {
                                            var n = e.length + t.length + 2,
                                                r = new Array(n),
                                                o = new Array(n),
                                                i = function (n, r, o, a, u) {
                                                    var c = s(n, r, o, a);
                                                    if (null === c || (c.start === r && c.diag === r - a) || (c.end === n && c.diag === n - o))
                                                        for (var l = n, d = o; l < r || d < a; ) l < r && d < a && e[l] === t[d] ? (u.push([0, e[l]]), ++l, ++d) : a - o < r - n ? (u.push([2, e[l]]), ++l) : (u.push([1, t[d]]), ++d);
                                                    else {
                                                        i(n, c.start, o, c.start - c.diag, u);
                                                        for (var f = c.start; f < c.end; ++f) u.push([0, e[f]]);
                                                        i(c.end, r, c.end - c.diag, a, u);
                                                    }
                                                },
                                                a = function (n, r, o, i) {
                                                    for (var a = n; a - r < i && a < o && e[a] === t[a - r]; ) ++a;
                                                    return { start: n, end: a, diag: r };
                                                },
                                                s = function (n, i, s, u) {
                                                    var c = i - n,
                                                        l = u - s;
                                                    if (0 === c || 0 === l) return null;
                                                    var d,
                                                        f,
                                                        p,
                                                        m,
                                                        h,
                                                        g = c - l,
                                                        v = l + c,
                                                        b = (v % 2 == 0 ? v : v + 1) / 2;
                                                    for (r[1 + b] = n, o[1 + b] = i + 1, d = 0; d <= b; ++d) {
                                                        for (f = -d; f <= d; f += 2) {
                                                            for (p = f + b, f === -d || (f !== d && r[p - 1] < r[p + 1]) ? (r[p] = r[p + 1]) : (r[p] = r[p - 1] + 1), h = (m = r[p]) - n + s - f; m < i && h < u && e[m] === t[h]; )
                                                                (r[p] = ++m), ++h;
                                                            if (g % 2 != 0 && g - d <= f && f <= g + d && o[p - g] <= r[p]) return a(o[p - g], f + n - s, i, u);
                                                        }
                                                        for (f = g - d; f <= g + d; f += 2) {
                                                            for (
                                                                p = f + b - g, f === g - d || (f !== g + d && o[p + 1] <= o[p - 1]) ? (o[p] = o[p + 1] - 1) : (o[p] = o[p - 1]), h = (m = o[p] - 1) - n + s - f;
                                                                n <= m && s <= h && e[m] === t[h];

                                                            )
                                                                (o[p] = m--), h--;
                                                            if (g % 2 == 0 && -d <= f && f <= d && o[p] <= r[p + g]) return a(o[p], f + n - s, i, u);
                                                        }
                                                    }
                                                },
                                                u = [];
                                            return i(0, e.length, 0, t.length, u), u;
                                        })(q(ne(n.childNodes), og), e)),
                                        (o = n),
                                        (i = 0),
                                        V(r, function (e) {
                                            0 === e[0]
                                                ? i++
                                                : 1 === e[0]
                                                ? ((function (e, n, r) {
                                                      var o = (function (e) {
                                                          var n, r, o;
                                                          for (o = t.document.createElement("div"), n = t.document.createDocumentFragment(), e && (o.innerHTML = e); (r = o.firstChild); ) n.appendChild(r);
                                                          return n;
                                                      })(n);
                                                      if (e.hasChildNodes() && r < e.childNodes.length) {
                                                          var i = e.childNodes[r];
                                                          i.parentNode.insertBefore(o, i);
                                                      } else e.appendChild(o);
                                                  })(o, e[1], i),
                                                  i++)
                                                : 2 === e[0] &&
                                                  (function (e, t) {
                                                      if (e.hasChildNodes() && t < e.childNodes.length) {
                                                          var n = e.childNodes[t];
                                                          n.parentNode.removeChild(n);
                                                      }
                                                  })(o, i);
                                        }),
                                        n
                                    );
                                },
                                ag = Li(N.none()),
                                sg = function (e) {
                                    return "fragmented" === e.type ? e.fragments.join("") : e.content;
                                },
                                ug = function (e) {
                                    var n = ar.fromTag(
                                        "body",
                                        ag.get().getOrThunk(function () {
                                            var e = t.document.implementation.createHTMLDocument("undo");
                                            return ag.set(N.some(e)), e;
                                        })
                                    );
                                    return sa(n, sg(e)), V(zi(n, "*[data-mce-bogus]"), Pi), n.dom().innerHTML;
                                },
                                cg = function (e) {
                                    var t, n, r;
                                    return (
                                        (t = (function (e) {
                                            return K(q(ne(e.childNodes), og), function (e) {
                                                return 0 < e.length;
                                            });
                                        })(e.getBody())),
                                        -1 !==
                                        (n = (r = J(t, function (t) {
                                            var n = rg(e.serializer, t);
                                            return 0 < n.length ? [n] : [];
                                        })).join("")).indexOf("</iframe>")
                                            ? (function (e) {
                                                  return { type: "fragmented", fragments: e, content: "", bookmark: null, beforeBookmark: null };
                                              })(r)
                                            : (function (e) {
                                                  return { type: "complete", fragments: null, content: e, bookmark: null, beforeBookmark: null };
                                              })(n)
                                    );
                                },
                                lg = function (e, t, n) {
                                    "fragmented" === t.type ? ig(t.fragments, e.getBody()) : e.setContent(t.content, { format: "raw" }), e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark);
                                },
                                dg = function (e, t) {
                                    return !(!e || !t) && ((r = t), sg(e) === sg(r) || ((n = t), ug(e) === ug(n)));
                                    var n, r;
                                };
                            function fg(e) {
                                var t,
                                    n,
                                    r = this,
                                    o = 0,
                                    i = [],
                                    a = 0,
                                    s = function () {
                                        return 0 === a;
                                    },
                                    u = function (e) {
                                        s() && (r.typing = e);
                                    },
                                    c = function (t) {
                                        e.setDirty(t);
                                    },
                                    l = function (e) {
                                        u(!1), r.add({}, e);
                                    },
                                    d = function () {
                                        r.typing && (u(!1), r.add());
                                    };
                                return (
                                    e.on("init", function () {
                                        r.add();
                                    }),
                                    e.on("BeforeExecCommand", function (e) {
                                        var t = e.command;
                                        "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && (d(), r.beforeChange());
                                    }),
                                    e.on("ExecCommand", function (e) {
                                        var t = e.command;
                                        "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && l(e);
                                    }),
                                    e.on("ObjectResizeStart Cut", function () {
                                        r.beforeChange();
                                    }),
                                    e.on("SaveContent ObjectResized blur", l),
                                    e.on("DragEnd", l),
                                    e.on("KeyUp", function (t) {
                                        var o = t.keyCode;
                                        t.isDefaultPrevented() ||
                                            (((33 <= o && o <= 36) || (37 <= o && o <= 40) || 45 === o || t.ctrlKey) && (l(), e.nodeChanged()),
                                            (46 !== o && 8 !== o) || e.nodeChanged(),
                                            n && r.typing && !1 === dg(cg(e), i[0]) && (!1 === e.isDirty() && (c(!0), e.fire("change", { level: i[0], lastLevel: null })), e.fire("TypingUndo"), (n = !1), e.nodeChanged()));
                                    }),
                                    e.on("KeyDown", function (e) {
                                        var t = e.keyCode;
                                        if (!e.isDefaultPrevented())
                                            if ((33 <= t && t <= 36) || (37 <= t && t <= 40) || 45 === t) r.typing && l(e);
                                            else {
                                                var o = (e.ctrlKey && !e.altKey) || e.metaKey;
                                                !(t < 16 || 20 < t) || 224 === t || 91 === t || r.typing || o || (r.beforeChange(), u(!0), r.add({}, e), (n = !0));
                                            }
                                    }),
                                    e.on("MouseDown", function (e) {
                                        r.typing && l(e);
                                    }),
                                    e.on("input", function (e) {
                                        var t;
                                        e.inputType && ("insertReplacementText" === e.inputType || ("insertText" === (t = e).inputType && null === t.data)) && l(e);
                                    }),
                                    e.addShortcut("meta+z", "", "Undo"),
                                    e.addShortcut("meta+y,meta+shift+z", "", "Redo"),
                                    e.on("AddUndo Undo Redo ClearUndos", function (t) {
                                        t.isDefaultPrevented() || e.nodeChanged();
                                    }),
                                    (r = {
                                        data: i,
                                        typing: !1,
                                        beforeChange: function () {
                                            s() && (t = Rs.getUndoBookmark(e.selection));
                                        },
                                        add: function (n, r) {
                                            var a,
                                                u,
                                                l,
                                                d = e.settings;
                                            if (((l = cg(e)), (n = n || {}), (n = Yt.extend(n, l)), !1 === s() || e.removed)) return null;
                                            if (((u = i[o]), e.fire("BeforeAddUndo", { level: n, lastLevel: u, originalEvent: r }).isDefaultPrevented())) return null;
                                            if (u && dg(u, n)) return null;
                                            if ((i[o] && (i[o].beforeBookmark = t), d.custom_undo_redo_levels && i.length > d.custom_undo_redo_levels)) {
                                                for (a = 0; a < i.length - 1; a++) i[a] = i[a + 1];
                                                i.length--, (o = i.length);
                                            }
                                            (n.bookmark = Rs.getUndoBookmark(e.selection)), o < i.length - 1 && (i.length = o + 1), i.push(n), (o = i.length - 1);
                                            var f = { level: n, lastLevel: u, originalEvent: r };
                                            return e.fire("AddUndo", f), 0 < o && (c(!0), e.fire("change", f)), n;
                                        },
                                        undo: function () {
                                            var t;
                                            return r.typing && (r.add(), (r.typing = !1), u(!1)), 0 < o && ((t = i[--o]), lg(e, t, !0), c(!0), e.fire("undo", { level: t })), t;
                                        },
                                        redo: function () {
                                            var t;
                                            return o < i.length - 1 && ((t = i[++o]), lg(e, t, !1), c(!0), e.fire("redo", { level: t })), t;
                                        },
                                        clear: function () {
                                            (i = []), (o = 0), (r.typing = !1), (r.data = i), e.fire("ClearUndos");
                                        },
                                        hasUndo: function () {
                                            return 0 < o || (r.typing && i[0] && !dg(cg(e), i[0]));
                                        },
                                        hasRedo: function () {
                                            return o < i.length - 1 && !r.typing;
                                        },
                                        transact: function (e) {
                                            return d(), r.beforeChange(), r.ignore(e), r.add();
                                        },
                                        ignore: function (e) {
                                            try {
                                                a++, e();
                                            } finally {
                                                a--;
                                            }
                                        },
                                        extra: function (t, n) {
                                            var a, s;
                                            r.transact(t) && ((s = i[o].bookmark), (a = i[o - 1]), lg(e, a, !0), r.transact(n) && (i[o - 1].beforeBookmark = s));
                                        },
                                    })
                                );
                            }
                            var pg,
                                mg = {},
                                hg = qt.filter,
                                gg = qt.each;
                            (pg = function (e) {
                                var t,
                                    n,
                                    r = e.selection.getRng();
                                (t = Io.matchNodeNames("pre")),
                                    r.collapsed ||
                                        ((n = e.selection.getSelectedBlocks()),
                                        gg(
                                            hg(hg(n, t), function (e) {
                                                return t(e.previousSibling) && -1 !== qt.indexOf(n, e.previousSibling);
                                            }),
                                            function (e) {
                                                var t, n;
                                                (t = e.previousSibling), hn((n = e)).remove(), hn(t).append("<br><br>").append(n.childNodes);
                                            }
                                        ));
                            }),
                                mg["pre"] || (mg.pre = []),
                                mg.pre.push(pg);
                            var vg = /^(src|href|style)$/,
                                bg = Yt.each,
                                yg = sc,
                                wg = function (e, t, n) {
                                    return e.isChildOf(t, n) && t !== n && !e.isBlock(n);
                                },
                                Cg = function (e, t, n) {
                                    var r, o, i;
                                    return (
                                        (r = t[n ? "startContainer" : "endContainer"]),
                                        (o = t[n ? "startOffset" : "endOffset"]),
                                        Io.isElement(r) && ((i = r.childNodes.length - 1), !n && o && o--, (r = r.childNodes[i < o ? i : o])),
                                        Io.isText(r) && n && o >= r.nodeValue.length && (r = new uo(r, e.getBody()).next() || r),
                                        Io.isText(r) && !n && 0 === o && (r = new uo(r, e.getBody()).prev() || r),
                                        r
                                    );
                                },
                                xg = function (e, t, n, r) {
                                    var o = e.create(n, r);
                                    return t.parentNode.insertBefore(o, t), o.appendChild(t), o;
                                },
                                _g = function (e, t, n, r, o) {
                                    var i = ar.fromDom(t),
                                        a = ar.fromDom(e.create(r, o)),
                                        s = n ? Hr(i) : Ur(i);
                                    return Di(a, s), n ? ($i(i, a), Ai(a, i)) : (Ni(i, a), Oi(a, i)), a.dom();
                                },
                                kg = function (e, t, n, r) {
                                    return !(t = nc(t, n, r)) || "BR" === t.nodeName || e.isBlock(t);
                                },
                                Tg = function (e, t, n, r, o) {
                                    var i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p,
                                        m,
                                        h,
                                        g,
                                        v,
                                        b,
                                        y = e.dom;
                                    if (((c = y), !(yg((l = r), (d = t).inline) || yg(l, d.block) || (d.selector ? Io.isElement(l) && c.is(l, d.selector) : void 0) || ((u = r), t.links && "A" === u.tagName)))) return !1;
                                    if ("all" !== t.remove)
                                        for (
                                            bg(t.styles, function (e, i) {
                                                (e = uc(y, ac(e, n), i)), "number" == typeof i && ((i = e), (o = 0)), (t.remove_similar || !o || yg(cc(y, o, i), e)) && y.setStyle(r, i, ""), (s = 1);
                                            }),
                                                s && "" === y.getAttrib(r, "style") && (r.removeAttribute("style"), r.removeAttribute("data-mce-style")),
                                                bg(t.attributes, function (e, t) {
                                                    var i;
                                                    if (((e = ac(e, n)), "number" == typeof t && ((t = e), (o = 0)), !o || yg(y.getAttrib(o, t), e))) {
                                                        if (
                                                            "class" === t &&
                                                            (e = y.getAttrib(r, t)) &&
                                                            ((i = ""),
                                                            bg(e.split(/\s+/), function (e) {
                                                                /mce\-\w+/.test(e) && (i += (i ? " " : "") + e);
                                                            }),
                                                            i)
                                                        )
                                                            return void y.setAttrib(r, t, i);
                                                        "class" === t && r.removeAttribute("className"), vg.test(t) && r.removeAttribute("data-mce-" + t), r.removeAttribute(t);
                                                    }
                                                }),
                                                bg(t.classes, function (e) {
                                                    (e = ac(e, n)), (o && !y.hasClass(o, e)) || y.removeClass(r, e);
                                                }),
                                                a = y.getAttribs(r),
                                                i = 0;
                                            i < a.length;
                                            i++
                                        ) {
                                            var w = a[i].nodeName;
                                            if (0 !== w.indexOf("_") && 0 !== w.indexOf("data-")) return !1;
                                        }
                                    return "none" !== t.remove
                                        ? ((f = e),
                                          (m = t),
                                          (g = (p = r).parentNode),
                                          (v = f.dom),
                                          (b = f.settings.forced_root_block),
                                          m.block &&
                                              (b
                                                  ? g === v.getRoot() &&
                                                    ((m.list_block && yg(p, m.list_block)) ||
                                                        bg(Yt.grep(p.childNodes), function (e) {
                                                            oc(f, b, e.nodeName.toLowerCase()) ? (h ? h.appendChild(e) : ((h = xg(v, e, b)), v.setAttribs(h, f.settings.forced_root_block_attrs))) : (h = 0);
                                                        }))
                                                  : v.isBlock(p) &&
                                                    !v.isBlock(g) &&
                                                    (kg(v, p, !1) || kg(v, p.firstChild, !0, 1) || p.insertBefore(v.create("br"), p.firstChild), kg(v, p, !0) || kg(v, p.lastChild, !1, 1) || p.appendChild(v.create("br")))),
                                          (m.selector && m.inline && !yg(m.inline, p)) || v.remove(p, 1),
                                          !0)
                                        : void 0;
                                },
                                Eg = Tg,
                                Sg = function (e, t, n, r, o) {
                                    var i,
                                        a,
                                        s = e.formatter.get(t),
                                        u = s[0],
                                        c = !0,
                                        l = e.dom,
                                        d = e.selection,
                                        f = function (r) {
                                            var i,
                                                a,
                                                c,
                                                l,
                                                d,
                                                f,
                                                p =
                                                    ((a = r),
                                                    (c = t),
                                                    (l = n),
                                                    (d = o),
                                                    bg(dc((i = e).dom, a.parentNode).reverse(), function (e) {
                                                        var t;
                                                        f || "_start" === e.id || "_end" === e.id || ((t = Pf.matchNode(i, e, c, l, d)) && !1 !== t.split && (f = e));
                                                    }),
                                                    f);
                                            return (function (e, t, n, r, o, i, a, s) {
                                                var u,
                                                    c,
                                                    l,
                                                    d,
                                                    f,
                                                    p,
                                                    m = e.dom;
                                                if (n) {
                                                    for (p = n.parentNode, u = r.parentNode; u && u !== p; u = u.parentNode) {
                                                        for (c = m.clone(u, !1), f = 0; f < t.length; f++)
                                                            if (Tg(e, t[f], s, c, c)) {
                                                                c = 0;
                                                                break;
                                                            }
                                                        c && (l && c.appendChild(l), d || (d = c), (l = c));
                                                    }
                                                    (a.mixed && m.isBlock(n)) || (r = m.split(n, r)), l && (o.parentNode.insertBefore(l, o), d.appendChild(o));
                                                }
                                                return r;
                                            })(e, s, p, r, r, 0, u, n);
                                        },
                                        p = function (t) {
                                            var r, o, i, a, d;
                                            if ((Io.isElement(t) && l.getContentEditable(t) && ((a = c), (c = "true" === l.getContentEditable(t)), (d = !0)), (r = Yt.grep(t.childNodes)), c && !d))
                                                for (o = 0, i = s.length; o < i && !Tg(e, s[o], n, t, t); o++);
                                            if (u.deep && r.length) {
                                                for (o = 0, i = r.length; o < i; o++) p(r[o]);
                                                d && (c = a);
                                            }
                                        },
                                        m = function (e) {
                                            var t,
                                                n = l.get(e ? "_start" : "_end"),
                                                r = n[e ? "firstChild" : "lastChild"];
                                            return (
                                                Ju((t = r)) && Io.isElement(t) && ("_start" === t.id || "_end" === t.id) && (r = r[e ? "firstChild" : "lastChild"]),
                                                Io.isText(r) && 0 === r.data.length && (r = e ? n.previousSibling || n.nextSibling : n.nextSibling || n.previousSibling),
                                                l.remove(n, !0),
                                                r
                                            );
                                        },
                                        h = function (t) {
                                            var n,
                                                r,
                                                o = t.commonAncestorContainer;
                                            if (((t = _c(e, t, s, !0)), u.split)) {
                                                if (((t = Lf(t)), (n = Cg(e, t, !0)) !== (r = Cg(e, t)))) {
                                                    if (
                                                        (/^(TR|TH|TD)$/.test(n.nodeName) && n.firstChild && (n = "TR" === n.nodeName ? n.firstChild.firstChild || n : n.firstChild || n),
                                                        o && /^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName) && /^(TH|TD)$/.test(r.nodeName) && r.firstChild && (r = r.firstChild || r),
                                                        wg(l, n, r))
                                                    ) {
                                                        var i = N.from(n.firstChild).getOr(n);
                                                        return f(_g(l, i, !0, "span", { id: "_start", "data-mce-type": "bookmark" })), void m(!0);
                                                    }
                                                    if (wg(l, r, n)) return (i = N.from(r.lastChild).getOr(r)), f(_g(l, i, !1, "span", { id: "_end", "data-mce-type": "bookmark" })), void m(!1);
                                                    (n = xg(l, n, "span", { id: "_start", "data-mce-type": "bookmark" })), (r = xg(l, r, "span", { id: "_end", "data-mce-type": "bookmark" })), f(n), f(r), (n = m(!0)), (r = m());
                                                } else n = r = f(n);
                                                (t.startContainer = n.parentNode ? n.parentNode : n), (t.startOffset = l.nodeIndex(n)), (t.endContainer = r.parentNode ? r.parentNode : r), (t.endOffset = l.nodeIndex(r) + 1);
                                            }
                                            Tc(l, t, function (t) {
                                                bg(t, function (t) {
                                                    p(t),
                                                        Io.isElement(t) &&
                                                            "underline" === e.dom.getStyle(t, "text-decoration") &&
                                                            t.parentNode &&
                                                            "underline" === lc(l, t.parentNode) &&
                                                            Tg(e, { deep: !1, exact: !0, inline: "span", styles: { textDecoration: "underline" } }, null, t);
                                                });
                                            });
                                        };
                                    if (r) r.nodeType ? ((a = l.createRng()).setStartBefore(r), a.setEndAfter(r), h(a)) : h(r);
                                    else if ("false" !== l.getContentEditable(d.getNode()))
                                        d.isCollapsed() && u.inline && !l.select("td[data-mce-selected],th[data-mce-selected]").length
                                            ? (function (e, t, n, r) {
                                                  var o,
                                                      i,
                                                      a,
                                                      s,
                                                      u,
                                                      c,
                                                      l,
                                                      d = e.dom,
                                                      f = e.selection,
                                                      p = [],
                                                      m = f.getRng();
                                                  for (o = m.startContainer, i = m.startOffset, 3 === (u = o).nodeType && (i !== o.nodeValue.length && (s = !0), (u = u.parentNode)); u; ) {
                                                      if (Pf.matchNode(e, u, t, n, r)) {
                                                          c = u;
                                                          break;
                                                      }
                                                      u.nextSibling && (s = !0), p.push(u), (u = u.parentNode);
                                                  }
                                                  if (c)
                                                      if (s) {
                                                          (a = f.getBookmark()), m.collapse(!0);
                                                          var h = _c(e, m, e.formatter.get(t), !0);
                                                          (h = Lf(h)), e.formatter.remove(t, n, h), f.moveToBookmark(a);
                                                      } else {
                                                          l = Is(e.getBody(), c);
                                                          var g = Hf(!1).dom(),
                                                              v = Kf(p, g);
                                                          Vf(e, g, l || c), zf(e, l, !1), f.setCursorLocation(v, 1), d.isEmpty(c) && d.remove(c);
                                                      }
                                              })(e, t, n, o)
                                            : ((i = Rs.getPersistentBookmark(e.selection, !0)), h(d.getRng()), d.moveToBookmark(i), u.inline && Pf.match(e, t, n, d.getStart()) && tc(l, d, d.getRng()), e.nodeChanged());
                                    else {
                                        r = d.getNode();
                                        for (var g = 0, v = s.length; g < v && (!s[g].ceFalseOverride || !Tg(e, s[g], n, r, r)); g++);
                                    }
                                },
                                $g = Yt.each,
                                Ng = function (e) {
                                    return e && 1 === e.nodeType && !Ju(e) && !Ps(e) && !Io.isBogus(e);
                                },
                                Ag = function (e, t) {
                                    var n;
                                    for (n = e; n; n = n[t]) {
                                        if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
                                        if (1 === n.nodeType && !Ju(n)) return n;
                                    }
                                    return e;
                                },
                                Og = function (e, t, n) {
                                    var r,
                                        o,
                                        i = new Ic(e);
                                    if (t && n && ((t = Ag(t, "previousSibling")), (n = Ag(n, "nextSibling")), i.compare(t, n))) {
                                        for (r = t.nextSibling; r && r !== n; ) (r = (o = r).nextSibling), t.appendChild(o);
                                        return (
                                            e.remove(n),
                                            Yt.each(Yt.grep(n.childNodes), function (e) {
                                                t.appendChild(e);
                                            }),
                                            t
                                        );
                                    }
                                    return n;
                                },
                                Dg = function (e, t, n) {
                                    $g(e.childNodes, function (e) {
                                        Ng(e) && (t(e) && n(e), e.hasChildNodes() && Dg(e, t, n));
                                    });
                                },
                                Rg = function (e, t) {
                                    return a(function (t, n) {
                                        return !(!n || !cc(e, n, t));
                                    }, t);
                                },
                                Bg = function (e, t, n) {
                                    return a(
                                        function (t, n, r) {
                                            e.setStyle(r, t, n), "" === r.getAttribute("style") && r.removeAttribute("style"), Pg(e, r);
                                        },
                                        t,
                                        n
                                    );
                                },
                                Pg = function (e, t) {
                                    "SPAN" === t.nodeName && 0 === e.getAttribs(t).length && e.remove(t, !0);
                                },
                                Ig = function (e, t) {
                                    var n;
                                    1 === t.nodeType &&
                                        t.parentNode &&
                                        1 === t.parentNode.nodeType &&
                                        ((n = lc(e, t.parentNode)), e.getStyle(t, "color") && n ? e.setStyle(t, "text-decoration", n) : e.getStyle(t, "text-decoration") === n && e.setStyle(t, "text-decoration", null));
                                },
                                Lg = Yt.each,
                                Mg = function (e, t, n, r) {
                                    var o,
                                        i,
                                        s = e.formatter.get(t),
                                        u = s[0],
                                        c = !r && e.selection.isCollapsed(),
                                        l = e.dom,
                                        d = e.selection,
                                        f = function (e, t) {
                                            if (((t = t || u), e)) {
                                                if (
                                                    (t.onformat && t.onformat(e, t, n, r),
                                                    Lg(t.styles, function (t, r) {
                                                        l.setStyle(e, r, ac(t, n));
                                                    }),
                                                    t.styles)
                                                ) {
                                                    var o = l.getAttrib(e, "style");
                                                    o && e.setAttribute("data-mce-style", o);
                                                }
                                                Lg(t.attributes, function (t, r) {
                                                    l.setAttrib(e, r, ac(t, n));
                                                }),
                                                    Lg(t.classes, function (t) {
                                                        (t = ac(t, n)), l.hasClass(e, t) || l.addClass(e, t);
                                                    });
                                            }
                                        },
                                        p = function (e, t) {
                                            var n = !1;
                                            return (
                                                !!u.selector &&
                                                (Lg(e, function (e) {
                                                    if (!("collapsed" in e) || e.collapsed === c) return l.is(t, e.selector) && !Ps(t) ? (f(t, e), !(n = !0)) : void 0;
                                                }),
                                                n)
                                            );
                                        },
                                        m = function (r, o, i, a) {
                                            var c,
                                                l,
                                                d = [],
                                                m = !0;
                                            (c = u.inline || u.block),
                                                (l = r.create(c)),
                                                f(l),
                                                Tc(r, o, function (o) {
                                                    var i,
                                                        h = function (o) {
                                                            var g, v, b, y;
                                                            if (
                                                                ((y = m),
                                                                (g = o.nodeName.toLowerCase()),
                                                                (v = o.parentNode.nodeName.toLowerCase()),
                                                                1 === o.nodeType && r.getContentEditable(o) && ((y = m), (m = "true" === r.getContentEditable(o)), (b = !0)),
                                                                sc(g, "br"))
                                                            )
                                                                return (i = 0), void (u.block && r.remove(o));
                                                            if (u.wrapper && Pf.matchNode(e, o, t, n)) i = 0;
                                                            else {
                                                                if (m && !b && u.block && !u.wrapper && rc(e, g) && oc(e, v, c)) return (o = r.rename(o, c)), f(o), d.push(o), void (i = 0);
                                                                if (u.selector) {
                                                                    var w = p(s, o);
                                                                    if (!u.inline || w) return void (i = 0);
                                                                }
                                                                !m || b || !oc(e, c, g) || !oc(e, v, c) || (!a && 3 === o.nodeType && 1 === o.nodeValue.length && 65279 === o.nodeValue.charCodeAt(0)) || Ps(o) || (u.inline && r.isBlock(o))
                                                                    ? ((i = 0), Lg(Yt.grep(o.childNodes), h), b && (m = y), (i = 0))
                                                                    : (i || ((i = r.clone(l, !1)), o.parentNode.insertBefore(i, o), d.push(i)), i.appendChild(o));
                                                            }
                                                        };
                                                    Lg(o, h);
                                                }),
                                                !0 === u.links &&
                                                    Lg(d, function (e) {
                                                        var t = function (e) {
                                                            "A" === e.nodeName && f(e, u), Lg(Yt.grep(e.childNodes), t);
                                                        };
                                                        t(e);
                                                    }),
                                                Lg(d, function (o) {
                                                    var i, a, c, l, p;
                                                    (a = 0),
                                                        Lg(o.childNodes, function (e) {
                                                            ic(e) || Ju(e) || a++;
                                                        }),
                                                        (i = a),
                                                        (!(1 < d.length) && r.isBlock(o)) || 0 !== i
                                                            ? (u.inline || u.wrapper) &&
                                                              (u.exact ||
                                                                  1 !== i ||
                                                                  ((l = (function (e) {
                                                                      var t = !1;
                                                                      return (
                                                                          Lg(e.childNodes, function (e) {
                                                                              if ((n = e) && 1 === n.nodeType && !Ju(n) && !Ps(n) && !Io.isBogus(n)) return (t = e), !1;
                                                                              var n;
                                                                          }),
                                                                          t
                                                                      );
                                                                  })((c = o))) &&
                                                                      !Ju(l) &&
                                                                      Pf.matchName(r, l, u) &&
                                                                      ((p = r.clone(l, !1)), f(p), r.replace(p, c, !0), r.remove(l, 1)),
                                                                  (o = p || c)),
                                                              (function (e, t, n, r) {
                                                                  $g(t, function (t) {
                                                                      $g(e.dom.select(t.inline, r), function (r) {
                                                                          Ng(r) && Eg(e, t, n, r, t.exact ? r : null);
                                                                      }),
                                                                          (function (e, t, n) {
                                                                              if (t.clear_child_styles) {
                                                                                  var r = t.links ? "*:not(a)" : "*";
                                                                                  $g(e.select(r, n), function (n) {
                                                                                      Ng(n) &&
                                                                                          $g(t.styles, function (t, r) {
                                                                                              e.setStyle(n, r, "");
                                                                                          });
                                                                                  });
                                                                              }
                                                                          })(e.dom, t, r);
                                                                  });
                                                              })(e, s, n, o),
                                                              (function (e, t, n, r, o) {
                                                                  (Pf.matchNode(e, o.parentNode, n, r) && Eg(e, t, r, o)) ||
                                                                      (t.merge_with_parents &&
                                                                          e.dom.getParent(o.parentNode, function (i) {
                                                                              if (Pf.matchNode(e, i, n, r)) return Eg(e, t, r, o), !0;
                                                                          }));
                                                              })(e, u, t, n, o),
                                                              (function (e, t, n, r) {
                                                                  t.styles && t.styles.backgroundColor && Dg(r, Rg(e, "fontSize"), Bg(e, "backgroundColor", ac(t.styles.backgroundColor, n)));
                                                              })(r, u, n, o),
                                                              (function (e, t, n, r) {
                                                                  ("sub" !== t.inline && "sup" !== t.inline) || (Dg(r, Rg(e, "fontSize"), Bg(e, "fontSize", "")), e.remove(e.select("sup" === t.inline ? "sub" : "sup", r), !0));
                                                              })(r, u, 0, o),
                                                              (function (e, t, n, r) {
                                                                  r && !1 !== t.merge_siblings && ((r = Og(e, nc(r), r)), (r = Og(e, r, nc(r, !0))));
                                                              })(r, u, 0, o))
                                                            : r.remove(o, 1);
                                                });
                                        };
                                    if ("false" !== l.getContentEditable(d.getNode())) {
                                        if (u) {
                                            if (r) r.nodeType ? p(s, r) || ((i = l.createRng()).setStartBefore(r), i.setEndAfter(r), m(l, _c(e, i, s), 0, !0)) : m(l, r, 0, !0);
                                            else if (c && u.inline && !l.select("td[data-mce-selected],th[data-mce-selected]").length)
                                                !(function (e, t, n) {
                                                    var r,
                                                        o,
                                                        i,
                                                        a,
                                                        s,
                                                        u,
                                                        c = e.selection;
                                                    (a = (r = c.getRng(!0)).startOffset), (u = r.startContainer.nodeValue), (o = Is(e.getBody(), c.getStart())) && (i = Uf(o));
                                                    var l,
                                                        d,
                                                        f = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                                                    u && 0 < a && a < u.length && f.test(u.charAt(a)) && f.test(u.charAt(a - 1))
                                                        ? ((s = c.getBookmark()), r.collapse(!0), (r = _c(e, r, e.formatter.get(t))), (r = Lf(r)), e.formatter.apply(t, n, r), c.moveToBookmark(s))
                                                        : ((o && i.nodeValue === Mf) || ((l = e.getDoc()), (d = Hf(!0).dom()), (i = (o = l.importNode(d, !0)).firstChild), r.insertNode(o), (a = 1)),
                                                          e.formatter.apply(t, n, o),
                                                          c.setCursorLocation(i, a));
                                                })(e, t, n);
                                            else {
                                                var h = e.selection.getNode();
                                                e.settings.forced_root_block || !s[0].defaultBlock || l.getParent(h, l.isBlock) || Mg(e, s[0].defaultBlock),
                                                    e.selection.setRng(Hc(e.selection.getRng())),
                                                    (o = Rs.getPersistentBookmark(e.selection, !0)),
                                                    m(l, _c(e, d.getRng(), s)),
                                                    u.styles &&
                                                        (function (e, t, n, r) {
                                                            (t.styles.color || t.styles.textDecoration) && (Yt.walk(r, a(Ig, e), "childNodes"), Ig(e, r));
                                                        })(l, u, 0, h),
                                                    d.moveToBookmark(o),
                                                    tc(l, d, d.getRng()),
                                                    e.nodeChanged();
                                            }
                                            !(function (e, t) {
                                                gg(mg[e], function (e) {
                                                    e(t);
                                                });
                                            })(t, e);
                                        }
                                    } else {
                                        r = d.getNode();
                                        for (var g = 0, v = s.length; g < v; g++) if (s[g].ceFalseOverride && l.is(r, s[g].selector)) return void f(r, s[g]);
                                    }
                                },
                                jg = { applyFormat: Mg },
                                Fg = Yt.each,
                                Ug = function (e, t, n, r, o) {
                                    var i, a, s, u, c, l, d, f;
                                    null === t.get() &&
                                        ((a = e),
                                        (s = {}),
                                        (i = t).set({}),
                                        a.on("NodeChange", function (e) {
                                            var t = dc(a.dom, e.element),
                                                n = {};
                                            (t = Yt.grep(t, function (e) {
                                                return 1 === e.nodeType && !e.getAttribute("data-mce-bogus");
                                            })),
                                                Fg(i.get(), function (e, r) {
                                                    Fg(t, function (o) {
                                                        return a.formatter.matchNode(o, r, {}, e.similar)
                                                            ? (s[r] ||
                                                                  (Fg(e, function (e) {
                                                                      e(!0, { node: o, format: r, parents: t });
                                                                  }),
                                                                  (s[r] = e)),
                                                              (n[r] = e),
                                                              !1)
                                                            : !Pf.matchesUnInheritedFormatSelector(a, o, r) && void 0;
                                                    });
                                                }),
                                                Fg(s, function (r, o) {
                                                    n[o] ||
                                                        (delete s[o],
                                                        Fg(r, function (n) {
                                                            n(!1, { node: e.element, format: o, parents: t });
                                                        }));
                                                });
                                        })),
                                        (c = n),
                                        (l = r),
                                        (d = o),
                                        (f = (u = t).get()),
                                        Fg(c.split(","), function (e) {
                                            f[e] || ((f[e] = []), (f[e].similar = d)), f[e].push(l);
                                        }),
                                        u.set(f);
                                },
                                Hg = function (e) {
                                    var t = {
                                        valigntop: [{ selector: "td,th", styles: { verticalAlign: "top" } }],
                                        valignmiddle: [{ selector: "td,th", styles: { verticalAlign: "middle" } }],
                                        valignbottom: [{ selector: "td,th", styles: { verticalAlign: "bottom" } }],
                                        alignleft: [
                                            { selector: "figure.image", collapsed: !1, classes: "align-left", ceFalseOverride: !0, preview: "font-family font-size" },
                                            { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "left" }, inherit: !1, preview: !1, defaultBlock: "div" },
                                            { selector: "img,table", collapsed: !1, styles: { float: "left" }, preview: "font-family font-size" },
                                        ],
                                        aligncenter: [
                                            { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "center" }, inherit: !1, preview: "font-family font-size", defaultBlock: "div" },
                                            { selector: "figure.image", collapsed: !1, classes: "align-center", ceFalseOverride: !0, preview: "font-family font-size" },
                                            { selector: "img", collapsed: !1, styles: { display: "block", marginLeft: "auto", marginRight: "auto" }, preview: !1 },
                                            { selector: "table", collapsed: !1, styles: { marginLeft: "auto", marginRight: "auto" }, preview: "font-family font-size" },
                                        ],
                                        alignright: [
                                            { selector: "figure.image", collapsed: !1, classes: "align-right", ceFalseOverride: !0, preview: "font-family font-size" },
                                            { selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "right" }, inherit: !1, preview: "font-family font-size", defaultBlock: "div" },
                                            { selector: "img,table", collapsed: !1, styles: { float: "right" }, preview: "font-family font-size" },
                                        ],
                                        alignjustify: [{ selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li", styles: { textAlign: "justify" }, inherit: !1, defaultBlock: "div", preview: "font-family font-size" }],
                                        bold: [
                                            { inline: "strong", remove: "all" },
                                            { inline: "span", styles: { fontWeight: "bold" } },
                                            { inline: "b", remove: "all" },
                                        ],
                                        italic: [
                                            { inline: "em", remove: "all" },
                                            { inline: "span", styles: { fontStyle: "italic" } },
                                            { inline: "i", remove: "all" },
                                        ],
                                        underline: [
                                            { inline: "span", styles: { textDecoration: "underline" }, exact: !0 },
                                            { inline: "u", remove: "all" },
                                        ],
                                        strikethrough: [
                                            { inline: "span", styles: { textDecoration: "line-through" }, exact: !0 },
                                            { inline: "strike", remove: "all" },
                                        ],
                                        forecolor: { inline: "span", styles: { color: "%value" }, links: !0, remove_similar: !0, clear_child_styles: !0 },
                                        hilitecolor: { inline: "span", styles: { backgroundColor: "%value" }, links: !0, remove_similar: !0, clear_child_styles: !0 },
                                        fontname: { inline: "span", toggle: !1, styles: { fontFamily: "%value" }, clear_child_styles: !0 },
                                        fontsize: { inline: "span", toggle: !1, styles: { fontSize: "%value" }, clear_child_styles: !0 },
                                        fontsize_class: { inline: "span", attributes: { class: "%value" } },
                                        blockquote: { block: "blockquote", wrapper: 1, remove: "all" },
                                        subscript: { inline: "sub" },
                                        superscript: { inline: "sup" },
                                        code: { inline: "code" },
                                        link: {
                                            inline: "a",
                                            selector: "a",
                                            remove: "all",
                                            split: !0,
                                            deep: !0,
                                            onmatch: function () {
                                                return !0;
                                            },
                                            onformat: function (t, n, r) {
                                                Yt.each(r, function (n, r) {
                                                    e.setAttrib(t, r, n);
                                                });
                                            },
                                        },
                                        removeformat: [
                                            { selector: "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins", remove: "all", split: !0, expand: !1, block_expand: !0, deep: !0 },
                                            { selector: "span", attributes: ["style", "class"], remove: "empty", split: !0, expand: !1, deep: !0 },
                                            { selector: "*", attributes: ["style", "class"], split: !1, expand: !1, deep: !0 },
                                        ],
                                    };
                                    return (
                                        Yt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/), function (e) {
                                            t[e] = { block: e, remove: "all" };
                                        }),
                                        t
                                    );
                                },
                                zg = Yt.each,
                                qg = yi.DOM,
                                Vg = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = (t && t.schema) || si({}),
                                        a = function (e) {
                                            var t, n, o;
                                            return (
                                                (r = "string" == typeof e ? { name: e, classes: [], attrs: {} } : e), (n = t = qg.create(r.name)), (o = r).classes.length && qg.addClass(n, o.classes.join(" ")), qg.setAttribs(n, o.attrs), t
                                            );
                                        },
                                        s = function (e, t, n) {
                                            var r,
                                                o,
                                                u,
                                                c,
                                                l,
                                                d,
                                                f,
                                                p,
                                                m = 0 < t.length && t[0],
                                                h = m && m.name;
                                            if (
                                                ((l = h),
                                                (d = "string" != typeof (c = e) ? c.nodeName.toLowerCase() : c),
                                                (u = !(!(p = (f = i.getElementRule(d)) && f.parentsRequired) || !p.length) && (l && -1 !== Yt.inArray(p, l) ? l : p[0])))
                                            )
                                                h === u ? ((o = t[0]), (t = t.slice(1))) : (o = u);
                                            else if (m) (o = t[0]), (t = t.slice(1));
                                            else if (!n) return e;
                                            return (
                                                o && (r = a(o)).appendChild(e),
                                                n &&
                                                    (r || (r = qg.create("div")).appendChild(e),
                                                    Yt.each(n, function (t) {
                                                        var n = a(t);
                                                        r.insertBefore(n, e);
                                                    })),
                                                s(r, t, o && o.siblings)
                                            );
                                        };
                                    return e && e.length ? ((r = e[0]), (n = a(r)), (o = qg.create("div")).appendChild(s(n, e.slice(1), r.siblings)), o) : "";
                                },
                                Wg = function (e) {
                                    var t,
                                        n = { classes: [], attrs: {} };
                                    return (
                                        "*" !== (e = n.selector = Yt.trim(e)) &&
                                            (t = e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function (e, t, r, o, i) {
                                                switch (t) {
                                                    case "#":
                                                        n.attrs.id = r;
                                                        break;
                                                    case ".":
                                                        n.classes.push(r);
                                                        break;
                                                    case ":":
                                                        -1 !== Yt.inArray("checked disabled enabled read-only required".split(" "), r) && (n.attrs[r] = r);
                                                }
                                                if ("[" === o) {
                                                    var a = i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
                                                    a && (n.attrs[a[1]] = a[2]);
                                                }
                                                return "";
                                            })),
                                        (n.name = t || "div"),
                                        n
                                    );
                                },
                                Kg = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u = "";
                                    if (!1 === (s = e.settings.preview_styles)) return "";
                                    "string" != typeof s && (s = "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
                                    var c = function (e) {
                                        return e.replace(/%(\w+)/g, "");
                                    };
                                    if ("string" == typeof t) {
                                        if (!(t = e.formatter.get(t))) return;
                                        t = t[0];
                                    }
                                    return "preview" in t && !1 === (s = t.preview)
                                        ? ""
                                        : ((n = t.block || t.inline || "span"),
                                          (i = (function (e) {
                                              return e && "string" == typeof e
                                                  ? ((e = (e = e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1")),
                                                    Yt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function (e) {
                                                        var t = Yt.map(e.split(/(?:~\+|~|\+)/), Wg),
                                                            n = t.pop();
                                                        return t.length && (n.siblings = t), n;
                                                    }).reverse())
                                                  : [];
                                          })(t.selector)).length
                                              ? (i[0].name || (i[0].name = n), (n = t.selector), (r = Vg(i, e)))
                                              : (r = Vg([n], e)),
                                          (o = qg.select(n, r)[0] || r.firstChild),
                                          zg(t.styles, function (e, t) {
                                              (e = c(e)) && qg.setStyle(o, t, e);
                                          }),
                                          zg(t.attributes, function (e, t) {
                                              (e = c(e)) && qg.setAttrib(o, t, e);
                                          }),
                                          zg(t.classes, function (e) {
                                              (e = c(e)), qg.hasClass(o, e) || qg.addClass(o, e);
                                          }),
                                          e.fire("PreviewFormats"),
                                          qg.setStyles(r, { position: "absolute", left: -65535 }),
                                          e.getBody().appendChild(r),
                                          (a = qg.getStyle(e.getBody(), "fontSize", !0)),
                                          (a = /px$/.test(a) ? parseInt(a, 10) : 0),
                                          zg(s.split(" "), function (t) {
                                              var n = qg.getStyle(o, t, !0);
                                              if (
                                                  !(
                                                      ("background-color" === t && /transparent|rgba\s*\([^)]+,\s*0\)/.test(n) && ((n = qg.getStyle(e.getBody(), t, !0)), "#ffffff" === qg.toHex(n).toLowerCase())) ||
                                                      ("color" === t && "#000000" === qg.toHex(n).toLowerCase())
                                                  )
                                              ) {
                                                  if ("font-size" === t && /em|%$/.test(n)) {
                                                      if (0 === a) return;
                                                      n = (parseFloat(n) / (/%$/.test(n) ? 100 : 1)) * a + "px";
                                                  }
                                                  "border" === t && n && (u += "padding:0 2px;"), (u += t + ":" + n + ";");
                                              }
                                          }),
                                          e.fire("AfterPreviewFormats"),
                                          qg.remove(r),
                                          u);
                                },
                                Gg = function (e, t, n, r, o) {
                                    var i = t.get(n);
                                    !Pf.match(e, n, r, o) || ("toggle" in i[0] && !i[0].toggle) ? jg.applyFormat(e, n, r, o) : Sg(e, n, r, o);
                                };
                            function Yg(e) {
                                var t,
                                    n,
                                    r,
                                    o =
                                        ((n = {}),
                                        (r = function (e, t) {
                                            e &&
                                                ("string" != typeof e
                                                    ? Yt.each(e, function (e, t) {
                                                          r(t, e);
                                                      })
                                                    : ((t = t.length ? t : [t]),
                                                      Yt.each(t, function (e) {
                                                          void 0 === e.deep && (e.deep = !e.selector),
                                                              void 0 === e.split && (e.split = !e.selector || e.inline),
                                                              void 0 === e.remove && e.selector && !e.inline && (e.remove = "none"),
                                                              e.selector && e.inline && ((e.mixed = !0), (e.block_expand = !0)),
                                                              "string" == typeof e.classes && (e.classes = e.classes.split(/\s+/));
                                                      }),
                                                      (n[e] = t)));
                                        })(Hg((t = e).dom)),
                                        r(t.settings.formats),
                                        {
                                            get: function (e) {
                                                return e ? n[e] : n;
                                            },
                                            register: r,
                                            unregister: function (e) {
                                                return e && n[e] && delete n[e], n;
                                            },
                                        }),
                                    i = Li(null);
                                return (
                                    (function (e) {
                                        e.addShortcut("meta+b", "", "Bold"), e.addShortcut("meta+i", "", "Italic"), e.addShortcut("meta+u", "", "Underline");
                                        for (var t = 1; t <= 6; t++) e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
                                        e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]), e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]), e.addShortcut("access+9", "", ["FormatBlock", !1, "address"]);
                                    })(e),
                                    (function (e) {
                                        e.on("mouseup keydown", function (t) {
                                            var n, r, o, i;
                                            (n = e),
                                                (r = t.keyCode),
                                                (o = n.selection),
                                                (i = n.getBody()),
                                                qf(n, null, !1),
                                                (8 !== r && 46 !== r) || !o.isCollapsed() || o.getStart().innerHTML !== Mf || qf(n, Is(i, o.getStart())),
                                                (37 !== r && 39 !== r) || qf(n, Is(i, o.getStart()));
                                        });
                                    })(e),
                                    {
                                        get: o.get,
                                        register: o.register,
                                        unregister: o.unregister,
                                        apply: a(jg.applyFormat, e),
                                        remove: a(Sg, e),
                                        toggle: a(Gg, e, o),
                                        match: a(Pf.match, e),
                                        matchAll: a(Pf.matchAll, e),
                                        matchNode: a(Pf.matchNode, e),
                                        canApply: a(Pf.canApply, e),
                                        formatChanged: a(Ug, e, i),
                                        getCssText: a(Kg, e),
                                    }
                                );
                            }
                            var Xg,
                                Jg = Object.prototype.hasOwnProperty,
                                Qg =
                                    ((Xg = function (e, t) {
                                        return t;
                                    }),
                                    function () {
                                        for (var e = new Array(arguments.length), t = 0; t < e.length; t++) e[t] = arguments[t];
                                        if (0 === e.length) throw new Error("Can't merge zero objects");
                                        for (var n = {}, r = 0; r < e.length; r++) {
                                            var o = e[r];
                                            for (var i in o) Jg.call(o, i) && (n[i] = Xg(n[i], o[i]));
                                        }
                                        return n;
                                    }),
                                Zg = function (e, t, n) {
                                    e.addAttributeFilter("data-mce-tabindex", function (e, t) {
                                        for (var n, r = e.length; r--; ) (n = e[r]).attr("tabindex", n.attributes.map["data-mce-tabindex"]), n.attr(t, null);
                                    }),
                                        e.addAttributeFilter("src,href,style", function (e, r) {
                                            for (var o, i, a = e.length, s = "data-mce-" + r, u = t.url_converter, c = t.url_converter_scope; a--; )
                                                void 0 !== (i = (o = e[a]).attributes.map[s])
                                                    ? (o.attr(r, 0 < i.length ? i : null), o.attr(s, null))
                                                    : ((i = o.attributes.map[r]), "style" === r ? (i = n.serializeStyle(n.parseStyle(i), o.name)) : u && (i = u.call(c, i, r, o.name)), o.attr(r, 0 < i.length ? i : null));
                                        }),
                                        e.addAttributeFilter("class", function (e) {
                                            for (var t, n, r = e.length; r--; ) (n = (t = e[r]).attr("class")) && ((n = t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, "")), t.attr("class", 0 < n.length ? n : null));
                                        }),
                                        e.addAttributeFilter("data-mce-type", function (e, t, n) {
                                            for (var r, o = e.length; o--; )
                                                "bookmark" !== (r = e[o]).attributes.map["data-mce-type"] ||
                                                    n.cleanup ||
                                                    (N.from(r.firstChild).exists(function (e) {
                                                        return !ua(e.value);
                                                    })
                                                        ? r.unwrap()
                                                        : r.remove());
                                        }),
                                        e.addNodeFilter("noscript", function (e) {
                                            for (var t, n = e.length; n--; ) (t = e[n].firstChild) && (t.value = Xo.decode(t.value));
                                        }),
                                        e.addNodeFilter("script,style", function (e, n) {
                                            for (
                                                var r,
                                                    o,
                                                    i,
                                                    a = e.length,
                                                    s = function (e) {
                                                        return e
                                                            .replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n")
                                                            .replace(/^[\r\n]*|[\r\n]*$/g, "")
                                                            .replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "")
                                                            .replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "");
                                                    };
                                                a--;

                                            )
                                                (o = (r = e[a]).firstChild ? r.firstChild.value : ""),
                                                    "script" === n
                                                        ? ((i = r.attr("type")) && r.attr("type", "mce-no/type" === i ? null : i.replace(/^mce\-/, "")),
                                                          "xhtml" === t.element_format && 0 < o.length && (r.firstChild.value = "// <![CDATA[\n" + s(o) + "\n// ]]>"))
                                                        : "xhtml" === t.element_format && 0 < o.length && (r.firstChild.value = "\x3c!--\n" + s(o) + "\n--\x3e");
                                        }),
                                        e.addNodeFilter("#comment", function (e) {
                                            for (var t, n = e.length; n--; )
                                                0 === (t = e[n]).value.indexOf("[CDATA[")
                                                    ? ((t.name = "#cdata"), (t.type = 4), (t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")))
                                                    : 0 === t.value.indexOf("mce:protected ") && ((t.name = "#text"), (t.type = 3), (t.raw = !0), (t.value = unescape(t.value).substr(14)));
                                        }),
                                        e.addNodeFilter("xml:namespace,input", function (e, t) {
                                            for (var n, r = e.length; r--; ) 7 === (n = e[r]).type ? n.remove() : 1 === n.type && ("input" !== t || "type" in n.attributes.map || n.attr("type", "text"));
                                        }),
                                        e.addAttributeFilter("data-mce-type", function (t) {
                                            V(t, function (t) {
                                                "format-caret" === t.attr("data-mce-type") && (t.isEmpty(e.schema.getNonEmptyElements()) ? t.remove() : t.unwrap());
                                            });
                                        }),
                                        e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize", function (e, t) {
                                            for (var n = e.length; n--; ) e[n].attr(t, null);
                                        });
                                },
                                ev = function (e) {
                                    var t,
                                        n,
                                        r = function (e) {
                                            return e && "br" === e.name;
                                        };
                                    r((t = e.lastChild)) && r((n = t.prev)) && (t.remove(), n.remove());
                                },
                                tv = function (e, n, r) {
                                    return (
                                        (f = r),
                                        (d = e) && d.hasEventListeners("PreProcess") && !f.no_events
                                            ? ((i = n),
                                              (a = r),
                                              (l = (o = e).dom),
                                              (i = i.cloneNode(!0)),
                                              (s = t.document.implementation).createHTMLDocument &&
                                                  ((u = s.createHTMLDocument("")),
                                                  Yt.each("BODY" === i.nodeName ? i.childNodes : [i], function (e) {
                                                      u.body.appendChild(u.importNode(e, !0));
                                                  }),
                                                  (i = "BODY" !== i.nodeName ? u.body.firstChild : u.body),
                                                  (c = l.doc),
                                                  (l.doc = u)),
                                              (function (e, t) {
                                                  e.fire("PreProcess", t);
                                              })(o, Qg(a, { node: i })),
                                              c && (l.doc = c),
                                              i)
                                            : n
                                    );
                                    var o, i, a, s, u, c, l, d, f;
                                },
                                nv = function (e, t) {
                                    var n,
                                        r = ci();
                                    t.convert_fonts_to_spans &&
                                        (function (e, t, n) {
                                            e.addNodeFilter("font", function (e) {
                                                V(e, function (e) {
                                                    var r,
                                                        o = t.parse(e.attr("style")),
                                                        i = e.attr("color"),
                                                        a = e.attr("face"),
                                                        s = e.attr("size");
                                                    i && (o.color = i),
                                                        a && (o["font-family"] = a),
                                                        s && (o["font-size"] = n[parseInt(e.attr("size"), 10) - 1]),
                                                        (e.name = "span"),
                                                        e.attr("style", t.serialize(o)),
                                                        (r = e),
                                                        V(["color", "face", "size"], function (e) {
                                                            r.attr(e, null);
                                                        });
                                                });
                                            });
                                        })(e, r, Yt.explode(t.font_size_legacy_values)),
                                        (n = r),
                                        e.addNodeFilter("strike", function (e) {
                                            V(e, function (e) {
                                                var t = n.parse(e.attr("style"));
                                                (t["text-decoration"] = "line-through"), (e.name = "span"), e.attr("style", n.serialize(t));
                                            });
                                        });
                                },
                                rv = {
                                    register: function (e, t) {
                                        t.inline_styles && nv(e, t);
                                    },
                                },
                                ov = /^[ \t\r\n]*$/,
                                iv = { "#text": 3, "#comment": 8, "#cdata": 4, "#pi": 7, "#doctype": 10, "#document-fragment": 11 },
                                av = function (e, t, n) {
                                    var r,
                                        o,
                                        i = n ? "lastChild" : "firstChild",
                                        a = n ? "prev" : "next";
                                    if (e[i]) return e[i];
                                    if (e !== t) {
                                        if ((r = e[a])) return r;
                                        for (o = e.parent; o && o !== t; o = o.parent) if ((r = o[a])) return r;
                                    }
                                },
                                sv = (function () {
                                    function e(e, t) {
                                        (this.name = e), 1 === (this.type = t) && ((this.attributes = []), (this.attributes.map = {}));
                                    }
                                    return (
                                        (e.create = function (t, n) {
                                            var r, o;
                                            if (((r = new e(t, iv[t] || 1)), n)) for (o in n) r.attr(o, n[o]);
                                            return r;
                                        }),
                                        (e.prototype.replace = function (e) {
                                            return e.parent && e.remove(), this.insert(e, this), this.remove(), this;
                                        }),
                                        (e.prototype.attr = function (e, t) {
                                            var n, r;
                                            if ("string" != typeof e) {
                                                for (r in e) this.attr(r, e[r]);
                                                return this;
                                            }
                                            if ((n = this.attributes)) {
                                                if (void 0 !== t) {
                                                    if (null === t) {
                                                        if (e in n.map) for (delete n.map[e], r = n.length; r--; ) if (n[r].name === e) return (n = n.splice(r, 1)), this;
                                                        return this;
                                                    }
                                                    if (e in n.map) {
                                                        for (r = n.length; r--; )
                                                            if (n[r].name === e) {
                                                                n[r].value = t;
                                                                break;
                                                            }
                                                    } else n.push({ name: e, value: t });
                                                    return (n.map[e] = t), this;
                                                }
                                                return n.map[e];
                                            }
                                        }),
                                        (e.prototype.clone = function () {
                                            var t,
                                                n,
                                                r,
                                                o,
                                                i,
                                                a = new e(this.name, this.type);
                                            if ((r = this.attributes)) {
                                                for ((i = []).map = {}, t = 0, n = r.length; t < n; t++) "id" !== (o = r[t]).name && ((i[i.length] = { name: o.name, value: o.value }), (i.map[o.name] = o.value));
                                                a.attributes = i;
                                            }
                                            return (a.value = this.value), (a.shortEnded = this.shortEnded), a;
                                        }),
                                        (e.prototype.wrap = function (e) {
                                            return this.parent.insert(e, this), e.append(this), this;
                                        }),
                                        (e.prototype.unwrap = function () {
                                            var e, t;
                                            for (e = this.firstChild; e; ) (t = e.next), this.insert(e, this, !0), (e = t);
                                            this.remove();
                                        }),
                                        (e.prototype.remove = function () {
                                            var e = this.parent,
                                                t = this.next,
                                                n = this.prev;
                                            return (
                                                e &&
                                                    (e.firstChild === this ? (e.firstChild = t) && (t.prev = null) : (n.next = t),
                                                    e.lastChild === this ? (e.lastChild = n) && (n.next = null) : (t.prev = n),
                                                    (this.parent = this.next = this.prev = null)),
                                                this
                                            );
                                        }),
                                        (e.prototype.append = function (e) {
                                            var t;
                                            return e.parent && e.remove(), (t = this.lastChild) ? (((t.next = e).prev = t), (this.lastChild = e)) : (this.lastChild = this.firstChild = e), (e.parent = this), e;
                                        }),
                                        (e.prototype.insert = function (e, t, n) {
                                            var r;
                                            return (
                                                e.parent && e.remove(),
                                                (r = t.parent || this),
                                                n
                                                    ? (t === r.firstChild ? (r.firstChild = e) : (t.prev.next = e), (e.prev = t.prev), ((e.next = t).prev = e))
                                                    : (t === r.lastChild ? (r.lastChild = e) : (t.next.prev = e), (e.next = t.next), ((e.prev = t).next = e)),
                                                (e.parent = r),
                                                e
                                            );
                                        }),
                                        (e.prototype.getAll = function (e) {
                                            var t,
                                                n = [];
                                            for (t = this.firstChild; t; t = av(t, this)) t.name === e && n.push(t);
                                            return n;
                                        }),
                                        (e.prototype.empty = function () {
                                            var e, t, n;
                                            if (this.firstChild) {
                                                for (e = [], n = this.firstChild; n; n = av(n, this)) e.push(n);
                                                for (t = e.length; t--; ) (n = e[t]).parent = n.firstChild = n.lastChild = n.next = n.prev = null;
                                            }
                                            return (this.firstChild = this.lastChild = null), this;
                                        }),
                                        (e.prototype.isEmpty = function (e, t, n) {
                                            var r,
                                                o,
                                                i = this.firstChild;
                                            if (((t = t || {}), i))
                                                do {
                                                    if (1 === i.type) {
                                                        if (i.attributes.map["data-mce-bogus"]) continue;
                                                        if (e[i.name]) return !1;
                                                        for (r = i.attributes.length; r--; ) if ("name" === (o = i.attributes[r].name) || 0 === o.indexOf("data-mce-bookmark")) return !1;
                                                    }
                                                    if (8 === i.type) return !1;
                                                    if (3 === i.type && !ov.test(i.value)) return !1;
                                                    if (3 === i.type && i.parent && t[i.parent.name] && ov.test(i.value)) return !1;
                                                    if (n && n(i)) return !1;
                                                } while ((i = av(i, this)));
                                            return !0;
                                        }),
                                        (e.prototype.walk = function (e) {
                                            return av(this, null, e);
                                        }),
                                        e
                                    );
                                })(),
                                uv = function (e, t, n, r) {
                                    (e.padd_empty_with_br || t.insert) && n[r.name] ? (r.empty().append(new sv("br", 1)).shortEnded = !0) : (r.empty().append(new sv("#text", 3)).value = " ");
                                },
                                cv = function (e) {
                                    return lv(e, "#text") && " " === e.firstChild.value;
                                },
                                lv = function (e, t) {
                                    return e && e.firstChild && e.firstChild === e.lastChild && e.firstChild.name === t;
                                },
                                dv = function (e, t, n, r) {
                                    return r.isEmpty(t, n, function (t) {
                                        return (n = t), (r = e.getElementRule(n.name)) && r.paddEmpty;
                                        var n, r;
                                    });
                                },
                                fv = function (e, t) {
                                    return e && (t[e.name] || "br" === e.name);
                                },
                                pv = function (e, t) {
                                    var n = e.schema;
                                    t.remove_trailing_brs &&
                                        e.addNodeFilter("br", function (e, r, o) {
                                            var i,
                                                a,
                                                s,
                                                u,
                                                c,
                                                l,
                                                d,
                                                f,
                                                p = e.length,
                                                m = Yt.extend({}, n.getBlockElements()),
                                                h = n.getNonEmptyElements(),
                                                g = n.getWhiteSpaceElements();
                                            for (m.body = 1, i = 0; i < p; i++)
                                                if (((s = (a = e[i]).parent), m[a.parent.name] && a === s.lastChild)) {
                                                    for (c = a.prev; c; ) {
                                                        if ("span" !== (l = c.name) || "bookmark" !== c.attr("data-mce-type")) {
                                                            if ("br" !== l) break;
                                                            if ("br" === l) {
                                                                a = null;
                                                                break;
                                                            }
                                                        }
                                                        c = c.prev;
                                                    }
                                                    a && (a.remove(), dv(n, h, g, s) && (d = n.getElementRule(s.name)) && (d.removeEmpty ? s.remove() : d.paddEmpty && uv(t, o, m, s)));
                                                } else {
                                                    for (u = a; s && s.firstChild === u && s.lastChild === u && !m[(u = s).name]; ) s = s.parent;
                                                    u === s && !0 !== t.padd_empty_with_br && (((f = new sv("#text", 3)).value = " "), a.replace(f));
                                                }
                                        }),
                                        e.addAttributeFilter("href", function (e) {
                                            var n,
                                                r,
                                                o,
                                                i = e.length;
                                            if (!t.allow_unsafe_link_target)
                                                for (; i--; )
                                                    "a" === (n = e[i]).name &&
                                                        "_blank" === n.attr("target") &&
                                                        n.attr(
                                                            "rel",
                                                            ((o = (r = n.attr("rel")) ? Yt.trim(r) : ""),
                                                            /\b(noopener)\b/g.test(o)
                                                                ? o
                                                                : o
                                                                      .split(" ")
                                                                      .filter(function (e) {
                                                                          return 0 < e.length;
                                                                      })
                                                                      .concat(["noopener"])
                                                                      .sort()
                                                                      .join(" "))
                                                        );
                                        }),
                                        t.allow_html_in_named_anchor ||
                                            e.addAttributeFilter("id,name", function (e) {
                                                for (var t, n, r, o, i = e.length; i--; ) if ("a" === (o = e[i]).name && o.firstChild && !o.attr("href")) for (r = o.parent, t = o.lastChild; (n = t.prev), r.insert(t, o), (t = n); );
                                            }),
                                        t.fix_list_elements &&
                                            e.addNodeFilter("ul,ol", function (e) {
                                                for (var t, n, r = e.length; r--; )
                                                    if ("ul" === (n = (t = e[r]).parent).name || "ol" === n.name)
                                                        if (t.prev && "li" === t.prev.name) t.prev.append(t);
                                                        else {
                                                            var o = new sv("li", 1);
                                                            o.attr("style", "list-style-type: none"), t.wrap(o);
                                                        }
                                            }),
                                        t.validate &&
                                            n.getValidClasses() &&
                                            e.addAttributeFilter("class", function (e) {
                                                for (var t, r, o, i, a, s, u, c = e.length, l = n.getValidClasses(); c--; ) {
                                                    for (r = (t = e[c]).attr("class").split(" "), a = "", o = 0; o < r.length; o++)
                                                        (i = r[o]), (u = !1), (s = l["*"]) && s[i] && (u = !0), (s = l[t.name]), !u && s && s[i] && (u = !0), u && (a && (a += " "), (a += i));
                                                    a.length || (a = null), t.attr("class", a);
                                                }
                                            });
                                },
                                mv = Yt.makeMap,
                                hv = Yt.each,
                                gv = Yt.explode,
                                vv = Yt.extend;
                            function bv(e, t) {
                                void 0 === t && (t = si());
                                var n = {},
                                    r = [],
                                    o = {},
                                    i = {};
                                ((e = e || {}).validate = !("validate" in e) || e.validate), (e.root_name = e.root_name || "body");
                                var a = function (e) {
                                        var t, a, s;
                                        (a = e.name) in n && ((s = o[a]) ? s.push(e) : (o[a] = [e])), (t = r.length);
                                        for (; t--; ) (a = r[t].name) in e.attributes.map && ((s = i[a]) ? s.push(e) : (i[a] = [e]));
                                        return e;
                                    },
                                    s = {
                                        schema: t,
                                        addAttributeFilter: function (e, t) {
                                            hv(gv(e), function (e) {
                                                var n;
                                                for (n = 0; n < r.length; n++) if (r[n].name === e) return void r[n].callbacks.push(t);
                                                r.push({ name: e, callbacks: [t] });
                                            });
                                        },
                                        getAttributeFilters: function () {
                                            return [].concat(r);
                                        },
                                        addNodeFilter: function (e, t) {
                                            hv(gv(e), function (e) {
                                                var r = n[e];
                                                r || (n[e] = r = []), r.push(t);
                                            });
                                        },
                                        getNodeFilters: function () {
                                            var e = [];
                                            for (var t in n) n.hasOwnProperty(t) && e.push({ name: t, callbacks: n[t] });
                                            return e;
                                        },
                                        filterNode: a,
                                        parse: function (s, u) {
                                            var c,
                                                l,
                                                d,
                                                f,
                                                p,
                                                m,
                                                h,
                                                g,
                                                v,
                                                b,
                                                y,
                                                w = [];
                                            (u = u || {}), (o = {}), (i = {}), (v = vv(mv("script,style,head,html,body,title,meta,param"), t.getBlockElements()));
                                            var C = t.getNonEmptyElements(),
                                                x = t.children,
                                                _ = e.validate,
                                                k = "forced_root_block" in u ? u.forced_root_block : e.forced_root_block,
                                                T = t.getWhiteSpaceElements(),
                                                E = /^[ \t\r\n]+/,
                                                S = /[ \t\r\n]+$/,
                                                $ = /[ \t\r\n]+/g,
                                                N = /^[ \t\r\n]+$/;
                                            b = T.hasOwnProperty(u.context) || T.hasOwnProperty(e.root_name);
                                            var A = function (e, t) {
                                                    var r,
                                                        i = new sv(e, t);
                                                    return e in n && ((r = o[e]) ? r.push(i) : (o[e] = [i])), i;
                                                },
                                                O = function (e) {
                                                    var n,
                                                        r,
                                                        o,
                                                        i,
                                                        a = t.getBlockElements();
                                                    for (n = e.prev; n && 3 === n.type; ) {
                                                        if (0 < (o = n.value.replace(S, "")).length) return void (n.value = o);
                                                        if ((r = n.next)) {
                                                            if (3 === r.type && r.value.length) {
                                                                n = n.prev;
                                                                continue;
                                                            }
                                                            if (!a[r.name] && "script" !== r.name && "style" !== r.name) {
                                                                n = n.prev;
                                                                continue;
                                                            }
                                                        }
                                                        (i = n.prev), n.remove(), (n = i);
                                                    }
                                                };
                                            c = eg(
                                                {
                                                    validate: _,
                                                    allow_script_urls: e.allow_script_urls,
                                                    allow_conditional_comments: e.allow_conditional_comments,
                                                    self_closing_elements: (function (e) {
                                                        var t,
                                                            n = {};
                                                        for (t in e) "li" !== t && "p" !== t && (n[t] = e[t]);
                                                        return n;
                                                    })(t.getSelfClosingElements()),
                                                    cdata: function (e) {
                                                        y.append(A("#cdata", 4)).value = e;
                                                    },
                                                    text: function (e, t) {
                                                        var n;
                                                        b || ((e = e.replace($, " ")), fv(y.lastChild, v) && (e = e.replace(E, ""))), 0 !== e.length && (((n = A("#text", 3)).raw = !!t), (y.append(n).value = e));
                                                    },
                                                    comment: function (e) {
                                                        y.append(A("#comment", 8)).value = e;
                                                    },
                                                    pi: function (e, t) {
                                                        (y.append(A(e, 7)).value = t), O(y);
                                                    },
                                                    doctype: function (e) {
                                                        (y.append(A("#doctype", 10)).value = e), O(y);
                                                    },
                                                    start: function (e, n, o) {
                                                        var a, s, u, c, l;
                                                        if ((u = _ ? t.getElementRule(e) : {})) {
                                                            for ((a = A(u.outputName || e, 1)).attributes = n, a.shortEnded = o, y.append(a), (l = x[y.name]) && x[a.name] && !l[a.name] && w.push(a), s = r.length; s--; )
                                                                (c = r[s].name) in n.map && ((h = i[c]) ? h.push(a) : (i[c] = [a]));
                                                            v[e] && O(a), o || (y = a), !b && T[e] && (b = !0);
                                                        }
                                                    },
                                                    end: function (n) {
                                                        var r, o, i, a, s;
                                                        if ((o = _ ? t.getElementRule(n) : {})) {
                                                            if (v[n] && !b) {
                                                                if ((r = y.firstChild) && 3 === r.type)
                                                                    if (0 < (i = r.value.replace(E, "")).length) (r.value = i), (r = r.next);
                                                                    else for (a = r.next, r.remove(), r = a; r && 3 === r.type; ) (i = r.value), (a = r.next), (0 === i.length || N.test(i)) && (r.remove(), (r = a)), (r = a);
                                                                if ((r = y.lastChild) && 3 === r.type)
                                                                    if (0 < (i = r.value.replace(S, "")).length) (r.value = i), (r = r.prev);
                                                                    else for (a = r.prev, r.remove(), r = a; r && 3 === r.type; ) (i = r.value), (a = r.prev), (0 === i.length || N.test(i)) && (r.remove(), (r = a)), (r = a);
                                                            }
                                                            if ((b && T[n] && (b = !1), o.removeEmpty && dv(t, C, T, y) && !y.attributes.map.name && !y.attr("id")))
                                                                return (s = y.parent), v[y.name] ? y.empty().remove() : y.unwrap(), void (y = s);
                                                            o.paddEmpty && (cv(y) || dv(t, C, T, y)) && uv(e, u, v, y), (y = y.parent);
                                                        }
                                                    },
                                                },
                                                t
                                            );
                                            var D = (y = new sv(u.context || e.root_name, 11));
                                            if (
                                                (c.parse(s),
                                                _ &&
                                                    w.length &&
                                                    (u.context
                                                        ? (u.invalid = !0)
                                                        : (function (e) {
                                                              var n, r, o, i, s, u, c, l, d, f, p, m, h, g, v, b;
                                                              for (
                                                                  m = mv("tr,td,th,tbody,thead,tfoot,table"), f = t.getNonEmptyElements(), p = t.getWhiteSpaceElements(), h = t.getTextBlockElements(), g = t.getSpecialElements(), n = 0;
                                                                  n < e.length;
                                                                  n++
                                                              )
                                                                  if ((r = e[n]).parent && !r.fixed)
                                                                      if (h[r.name] && "li" === r.parent.name) {
                                                                          for (v = r.next; v && h[v.name]; ) (v.name = "li"), (v.fixed = !0), r.parent.insert(v, r.parent), (v = v.next);
                                                                          r.unwrap(r);
                                                                      } else {
                                                                          for (i = [r], o = r.parent; o && !t.isValidChild(o.name, r.name) && !m[o.name]; o = o.parent) i.push(o);
                                                                          if (o && 1 < i.length) {
                                                                              for (i.reverse(), s = u = a(i[0].clone()), d = 0; d < i.length - 1; d++) {
                                                                                  for (t.isValidChild(u.name, i[d].name) ? ((c = a(i[d].clone())), u.append(c)) : (c = u), l = i[d].firstChild; l && l !== i[d + 1]; )
                                                                                      (b = l.next), c.append(l), (l = b);
                                                                                  u = c;
                                                                              }
                                                                              dv(t, f, p, s) ? o.insert(r, i[0], !0) : (o.insert(s, i[0], !0), o.insert(r, s)), (o = i[0]), (dv(t, f, p, o) || lv(o, "br")) && o.empty().remove();
                                                                          } else if (r.parent) {
                                                                              if ("li" === r.name) {
                                                                                  if ((v = r.prev) && ("ul" === v.name || "ul" === v.name)) {
                                                                                      v.append(r);
                                                                                      continue;
                                                                                  }
                                                                                  if ((v = r.next) && ("ul" === v.name || "ul" === v.name)) {
                                                                                      v.insert(r, v.firstChild, !0);
                                                                                      continue;
                                                                                  }
                                                                                  r.wrap(a(new sv("ul", 1)));
                                                                                  continue;
                                                                              }
                                                                              t.isValidChild(r.parent.name, "div") && t.isValidChild("div", r.name) ? r.wrap(a(new sv("div", 1))) : g[r.name] ? r.empty().remove() : r.unwrap();
                                                                          }
                                                                      }
                                                          })(w)),
                                                k &&
                                                    ("body" === D.name || u.isRootContent) &&
                                                    (function () {
                                                        var n,
                                                            r,
                                                            o = D.firstChild,
                                                            i = function (e) {
                                                                e && ((o = e.firstChild) && 3 === o.type && (o.value = o.value.replace(E, "")), (o = e.lastChild) && 3 === o.type && (o.value = o.value.replace(S, "")));
                                                            };
                                                        if (t.isValidChild(D.name, k.toLowerCase())) {
                                                            for (; o; )
                                                                (n = o.next),
                                                                    3 === o.type || (1 === o.type && "p" !== o.name && !v[o.name] && !o.attr("data-mce-type"))
                                                                        ? (r || ((r = A(k, 1)).attr(e.forced_root_block_attrs), D.insert(r, o)), r.append(o))
                                                                        : (i(r), (r = null)),
                                                                    (o = n);
                                                            i(r);
                                                        }
                                                    })(),
                                                !u.invalid)
                                            ) {
                                                for (g in o) {
                                                    for (h = n[g], p = (l = o[g]).length; p--; ) l[p].parent || l.splice(p, 1);
                                                    for (d = 0, f = h.length; d < f; d++) h[d](l, g, u);
                                                }
                                                for (d = 0, f = r.length; d < f; d++)
                                                    if ((h = r[d]).name in i) {
                                                        for (p = (l = i[h.name]).length; p--; ) l[p].parent || l.splice(p, 1);
                                                        for (p = 0, m = h.callbacks.length; p < m; p++) h.callbacks[p](l, h.name, u);
                                                    }
                                            }
                                            return D;
                                        },
                                    };
                                return pv(s, e), rv.register(s, e), s;
                            }
                            var yv = function (e, t, n) {
                                -1 === Yt.inArray(t, n) &&
                                    (e.addAttributeFilter(n, function (e, t) {
                                        for (var n = e.length; n--; ) e[n].attr(t, null);
                                    }),
                                    t.push(n));
                            };
                            function wv(e, t) {
                                var n,
                                    r,
                                    o,
                                    i,
                                    s,
                                    u,
                                    c =
                                        ((n = e),
                                        (u = ["data-mce-selected"]),
                                        (o = (r = t) && r.dom ? r.dom : yi.DOM),
                                        (i = r && r.schema ? r.schema : si(n)),
                                        (n.entity_encoding = n.entity_encoding || "named"),
                                        (n.remove_trailing_brs = !("remove_trailing_brs" in n) || n.remove_trailing_brs),
                                        (s = bv(n, i)),
                                        Zg(s, n, o),
                                        {
                                            schema: i,
                                            addNodeFilter: s.addNodeFilter,
                                            addAttributeFilter: s.addAttributeFilter,
                                            serialize: function (e, t) {
                                                var a = Qg({ format: "html" }, t || {}),
                                                    u = tv(r, e, a),
                                                    c = (function (e, t, n) {
                                                        var r = la(n.getInner ? t.innerHTML : e.getOuterHTML(t));
                                                        return n.selection || ko(ar.fromDom(t)) ? r : Yt.trim(r);
                                                    })(o, u, a),
                                                    l = (function (e, t, n) {
                                                        var r = n.selection ? Qg({ forced_root_block: !1 }, n) : n,
                                                            o = e.parse(t, r);
                                                        return ev(o), o;
                                                    })(s, c, a);
                                                return "tree" === a.format
                                                    ? l
                                                    : (function (e, t, n, r, o) {
                                                          var i, a, s, u;
                                                          return (
                                                              (a = e),
                                                              (i = r),
                                                              (u = Uc(t, n).serialize(i)),
                                                              !(s = o).no_events && a
                                                                  ? (function (e, t) {
                                                                        return e.fire("PostProcess", t);
                                                                    })(a, Qg(s, { content: u })).content
                                                                  : u
                                                          );
                                                      })(r, n, i, l, a);
                                            },
                                            addRules: function (e) {
                                                i.addValidElements(e);
                                            },
                                            setRules: function (e) {
                                                i.setValidElements(e);
                                            },
                                            addTempAttr: a(yv, s, u),
                                            getTempAttrs: function () {
                                                return u;
                                            },
                                        });
                                return {
                                    schema: c.schema,
                                    addNodeFilter: c.addNodeFilter,
                                    addAttributeFilter: c.addAttributeFilter,
                                    serialize: c.serialize,
                                    addRules: c.addRules,
                                    setRules: c.setRules,
                                    addTempAttr: c.addTempAttr,
                                    getTempAttrs: c.getTempAttrs,
                                };
                            }
                            function Cv(e) {
                                return { getBookmark: a(Yu, e), moveToBookmark: a(Xu, e) };
                            }
                            (Cv || (Cv = {})).isBookmarkNode = Ju;
                            var xv,
                                _v,
                                kv = Cv,
                                Tv = Io.isContentEditableFalse,
                                Ev = Io.isContentEditableTrue,
                                Sv = function (e, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p,
                                        m,
                                        h,
                                        g,
                                        v,
                                        b,
                                        y,
                                        w = n.dom,
                                        C = Yt.each,
                                        x = n.getDoc(),
                                        _ = t.document,
                                        k = Math.abs,
                                        T = Math.round,
                                        E = n.getBody();
                                    a = { nw: [0, 0, -1, -1], ne: [1, 0, 1, -1], se: [1, 1, 1, 1], sw: [0, 1, -1, 1] };
                                    var S = ".mce-content-body";
                                    n.contentStyles.push(
                                        S +
                                            " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" +
                                            S +
                                            " .mce-resizehandle:hover {background: #000}" +
                                            S +
                                            " img[data-mce-selected]," +
                                            S +
                                            " hr[data-mce-selected] {outline: 1px solid black;resize: none}" +
                                            S +
                                            " .mce-clonedresizable {position: absolute;" +
                                            (fe.gecko ? "" : "outline: 1px dashed black;") +
                                            "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" +
                                            S +
                                            " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"
                                    );
                                    var $ = function (e) {
                                            return e && ("IMG" === e.nodeName || n.dom.is(e, "figure.image"));
                                        },
                                        N = function (e) {
                                            var t,
                                                r,
                                                o = e.target;
                                            (t = e), (r = n.selection.getRng()), !$(t.target) || Lh(t.clientX, t.clientY, r) || e.isDefaultPrevented() || n.selection.select(o);
                                        },
                                        A = function (e) {
                                            return n.dom.is(e, "figure.image") ? e.querySelector("img") : e;
                                        },
                                        O = function (e) {
                                            var t = n.settings.object_resizing;
                                            return !1 !== t && !fe.iOS && ("string" != typeof t && (t = "table,img,figure.image,div"), "false" !== e.getAttribute("data-mce-resize") && e !== n.getBody() && Dr(ar.fromDom(e), t));
                                        },
                                        D = function (e) {
                                            var t, a, C, x;
                                            (t = e.screenX - u),
                                                (a = e.screenY - c),
                                                (g = t * s[2] + f),
                                                (v = a * s[3] + p),
                                                (g = g < 5 ? 5 : g),
                                                (v = v < 5 ? 5 : v),
                                                ($(r) && !1 !== n.settings.resize_img_proportional ? !_h.modifierPressed(e) : _h.modifierPressed(e) || ($(r) && s[2] * s[3] != 0)) &&
                                                    (k(t) > k(a) ? ((v = T(g * m)), (g = T(v / m))) : ((g = T(v / m)), (v = T(g * m)))),
                                                w.setStyles(A(o), { width: g, height: v }),
                                                (C = 0 < (C = s.startPos.x + t) ? C : 0),
                                                (x = 0 < (x = s.startPos.y + a) ? x : 0),
                                                w.setStyles(i, { left: C, top: x, display: "block" }),
                                                (i.innerHTML = g + " &times; " + v),
                                                s[2] < 0 && o.clientWidth <= g && w.setStyle(o, "left", l + (f - g)),
                                                s[3] < 0 && o.clientHeight <= v && w.setStyle(o, "top", d + (p - v)),
                                                (t = E.scrollWidth - b) + (a = E.scrollHeight - y) != 0 && w.setStyles(i, { left: C - t, top: x - a }),
                                                h ||
                                                    ((function (e, t, n, r) {
                                                        e.fire("ObjectResizeStart", { target: t, width: n, height: r });
                                                    })(n, r, f, p),
                                                    (h = !0));
                                        },
                                        R = function () {
                                            h = !1;
                                            var e = function (e, t) {
                                                t && (r.style[e] || !n.schema.isValid(r.nodeName.toLowerCase(), e) ? w.setStyle(A(r), e, t) : w.setAttrib(A(r), e, t));
                                            };
                                            e("width", g),
                                                e("height", v),
                                                w.unbind(x, "mousemove", D),
                                                w.unbind(x, "mouseup", R),
                                                _ !== x && (w.unbind(_, "mousemove", D), w.unbind(_, "mouseup", R)),
                                                w.remove(o),
                                                w.remove(i),
                                                B(r),
                                                (function (e, t, n, r) {
                                                    e.fire("ObjectResized", { target: t, width: n, height: r });
                                                })(n, r, g, v),
                                                w.setAttrib(r, "style", w.getAttrib(r, "style")),
                                                n.nodeChanged();
                                        },
                                        B = function (e) {
                                            var t, h, k, T, S;
                                            P(),
                                                M(),
                                                (t = w.getPos(e, E)),
                                                (l = t.x),
                                                (d = t.y),
                                                (S = e.getBoundingClientRect()),
                                                (h = S.width || S.right - S.left),
                                                (k = S.height || S.bottom - S.top),
                                                r !== e && ((r = e), (g = v = 0)),
                                                (T = n.fire("ObjectSelected", { target: e })),
                                                O(e) && !T.isDefaultPrevented()
                                                    ? C(a, function (e, t) {
                                                          var n;
                                                          (n = w.get("mceResizeHandle" + t)) && w.remove(n),
                                                              (n = w.add(E, "div", { id: "mceResizeHandle" + t, "data-mce-bogus": "all", class: "mce-resizehandle", unselectable: !0, style: "cursor:" + t + "-resize; margin:0; padding:0" })),
                                                              11 === fe.ie && (n.contentEditable = !1),
                                                              w.bind(n, "mousedown", function (t) {
                                                                  var n;
                                                                  t.stopImmediatePropagation(),
                                                                      t.preventDefault(),
                                                                      (u = (n = t).screenX),
                                                                      (c = n.screenY),
                                                                      (f = A(r).clientWidth),
                                                                      (p = A(r).clientHeight),
                                                                      (m = p / f),
                                                                      ((s = e).startPos = { x: h * e[0] + l, y: k * e[1] + d }),
                                                                      (b = E.scrollWidth),
                                                                      (y = E.scrollHeight),
                                                                      (o = r.cloneNode(!0)),
                                                                      w.addClass(o, "mce-clonedresizable"),
                                                                      w.setAttrib(o, "data-mce-bogus", "all"),
                                                                      (o.contentEditable = !1),
                                                                      (o.unSelectabe = !0),
                                                                      w.setStyles(o, { left: l, top: d, margin: 0 }),
                                                                      o.removeAttribute("data-mce-selected"),
                                                                      E.appendChild(o),
                                                                      w.bind(x, "mousemove", D),
                                                                      w.bind(x, "mouseup", R),
                                                                      _ !== x && (w.bind(_, "mousemove", D), w.bind(_, "mouseup", R)),
                                                                      (i = w.add(E, "div", { class: "mce-resize-helper", "data-mce-bogus": "all" }, f + " &times; " + p));
                                                              }),
                                                              (e.elm = n),
                                                              w.setStyles(n, { left: h * e[0] + l - n.offsetWidth / 2, top: k * e[1] + d - n.offsetHeight / 2 });
                                                      })
                                                    : P(),
                                                r.setAttribute("data-mce-selected", "1");
                                        },
                                        P = function () {
                                            var e, t;
                                            for (e in (M(), r && r.removeAttribute("data-mce-selected"), a)) (t = w.get("mceResizeHandle" + e)) && (w.unbind(t), w.remove(t));
                                        },
                                        I = function (t) {
                                            var r,
                                                o = function (e, t) {
                                                    if (e)
                                                        do {
                                                            if (e === t) return !0;
                                                        } while ((e = e.parentNode));
                                                };
                                            h ||
                                                n.removed ||
                                                (C(w.select("img[data-mce-selected],hr[data-mce-selected]"), function (e) {
                                                    e.removeAttribute("data-mce-selected");
                                                }),
                                                (r = "mousedown" === t.type ? t.target : e.getNode()),
                                                o((r = w.$(r).closest("table,img,figure.image,hr")[0]), E) && (j(), o(e.getStart(!0), r) && o(e.getEnd(!0), r)) ? B(r) : P());
                                        },
                                        L = function (e) {
                                            return Tv(
                                                (function (e, t) {
                                                    for (; t && t !== e; ) {
                                                        if (Ev(t) || Tv(t)) return t;
                                                        t = t.parentNode;
                                                    }
                                                    return null;
                                                })(n.getBody(), e)
                                            );
                                        },
                                        M = function () {
                                            for (var e in a) {
                                                var t = a[e];
                                                t.elm && (w.unbind(t.elm), delete t.elm);
                                            }
                                        },
                                        j = function () {
                                            try {
                                                n.getDoc().execCommand("enableObjectResizing", !1, !1);
                                            } catch (e) {}
                                        };
                                    return (
                                        n.on("init", function () {
                                            j(),
                                                fe.ie &&
                                                    11 <= fe.ie &&
                                                    (n.on("mousedown click", function (e) {
                                                        var t = e.target,
                                                            r = t.nodeName;
                                                        h || !/^(TABLE|IMG|HR)$/.test(r) || L(t) || (2 !== e.button && n.selection.select(t, "TABLE" === r), "mousedown" === e.type && n.nodeChanged());
                                                    }),
                                                    n.dom.bind(E, "mscontrolselect", function (e) {
                                                        var t = function (e) {
                                                            ve.setEditorTimeout(n, function () {
                                                                n.selection.select(e);
                                                            });
                                                        };
                                                        if (L(e.target)) return e.preventDefault(), void t(e.target);
                                                        /^(TABLE|IMG|HR)$/.test(e.target.nodeName) && (e.preventDefault(), "IMG" === e.target.tagName && t(e.target));
                                                    }));
                                            var e = ve.throttle(function (e) {
                                                n.composing || I(e);
                                            });
                                            n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged", e),
                                                n.on("keyup compositionend", function (t) {
                                                    r && "TABLE" === r.nodeName && e(t);
                                                }),
                                                n.on("hide blur", P),
                                                n.on("contextmenu", N);
                                        }),
                                        n.on("remove", M),
                                        {
                                            isResizable: O,
                                            showResizeRect: B,
                                            hideResizeRect: P,
                                            updateResizeRect: I,
                                            destroy: function () {
                                                r = o = null;
                                            },
                                        }
                                    );
                                },
                                $v = function (e) {
                                    return Io.isContentEditableTrue(e) || Io.isContentEditableFalse(e);
                                },
                                Nv = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u = n;
                                    if (u.caretPositionFromPoint) (o = u.caretPositionFromPoint(e, t)) && ((r = n.createRange()).setStart(o.offsetNode, o.offset), r.collapse(!0));
                                    else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t);
                                    else if (u.body.createTextRange) {
                                        r = u.body.createTextRange();
                                        try {
                                            r.moveToPoint(e, t), r.collapse(!0);
                                        } catch (o) {
                                            r = (function (e, t, n) {
                                                var r, o, i;
                                                if (
                                                    ((r = n.elementFromPoint(e, t)),
                                                    (o = n.body.createTextRange()),
                                                    (r && "HTML" !== r.tagName) || (r = n.body),
                                                    o.moveToElementText(r),
                                                    0 <
                                                        (i = (i = Yt.toArray(o.getClientRects())).sort(function (e, n) {
                                                            return (e = Math.abs(Math.max(e.top - t, e.bottom - t))) - Math.abs(Math.max(n.top - t, n.bottom - t));
                                                        })).length)
                                                ) {
                                                    t = (i[0].bottom + i[0].top) / 2;
                                                    try {
                                                        return o.moveToPoint(e, t), o.collapse(!0), o;
                                                    } catch (e) {}
                                                }
                                                return null;
                                            })(e, t, n);
                                        }
                                        return (
                                            (i = r),
                                            (a = n.body),
                                            (s = i && i.parentElement ? i.parentElement() : null),
                                            Io.isContentEditableFalse(
                                                (function (e, t, n) {
                                                    for (; e && e !== t; ) {
                                                        if (n(e)) return e;
                                                        e = e.parentNode;
                                                    }
                                                    return null;
                                                })(s, a, $v)
                                            )
                                                ? null
                                                : i
                                        );
                                    }
                                    return r;
                                },
                                Av = function (e, t) {
                                    return q(t, function (t) {
                                        var n = e.fire("GetSelectionRange", { range: t });
                                        return n.range !== t ? n.range : t;
                                    });
                                },
                                Ov = function (e, n) {
                                    var r = (n || t.document).createDocumentFragment();
                                    return (
                                        V(e, function (e) {
                                            r.appendChild(e.dom());
                                        }),
                                        ar.fromDom(r)
                                    );
                                },
                                Dv = Sr("element", "width", "rows"),
                                Rv = Sr("element", "cells"),
                                Bv = Sr("x", "y"),
                                Pv = function (e, t) {
                                    var n = parseInt(_r(e, t), 10);
                                    return isNaN(n) ? 1 : n;
                                },
                                Iv = function (e) {
                                    return G(
                                        e,
                                        function (e, t) {
                                            return t.cells().length > e ? t.cells().length : e;
                                        },
                                        0
                                    );
                                },
                                Lv = function (e, t) {
                                    for (var n = e.rows(), r = 0; r < n.length; r++) for (var o = n[r].cells(), i = 0; i < o.length; i++) if (Br(o[i], t)) return N.some(Bv(i, r));
                                    return N.none();
                                },
                                Mv = function (e, t, n, r, o) {
                                    for (var i = [], a = e.rows(), s = n; s <= o; s++) {
                                        var u = a[s].cells(),
                                            c = t < r ? u.slice(t, r + 1) : u.slice(r, t + 1);
                                        i.push(Rv(a[s].element(), c));
                                    }
                                    return i;
                                },
                                jv = function (e) {
                                    return (
                                        (n = q((t = e).rows(), function (e) {
                                            var t = q(e.cells(), function (e) {
                                                    var t = aa(e);
                                                    return kr(t, "colspan"), kr(t, "rowspan"), t;
                                                }),
                                                n = ia(e.element());
                                            return Di(n, t), n;
                                        })),
                                        (r = ia(t.element())),
                                        (o = ar.fromTag("tbody")),
                                        Di(o, n),
                                        Oi(r, o),
                                        r
                                    );
                                    var t, n, r, o;
                                },
                                Fv = function (e, t) {
                                    return Y(e, function (e) {
                                        return (
                                            "li" === lr(e) &&
                                            (function (e, t) {
                                                return qa(
                                                    ((i = t), (s = i.startContainer), (u = i.startOffset), Io.isText(s) ? (0 === u ? N.some(ar.fromDom(s)) : N.none()) : N.from(s.childNodes[u]).map(ar.fromDom)),
                                                    ((n = t), (r = n.endContainer), (o = n.endOffset), Io.isText(r) ? (o === r.data.length ? N.some(ar.fromDom(r)) : N.none()) : N.from(r.childNodes[o - 1]).map(ar.fromDom)),
                                                    function (t, n) {
                                                        var r = Y(gh(e), a(Br, t)),
                                                            o = Y(vh(e), a(Br, n));
                                                        return r.isSome() && o.isSome();
                                                    }
                                                ).getOr(!1);
                                                var n, r, o, i, s, u;
                                            })(e, t)
                                        );
                                    }).fold(o([]), function (t) {
                                        return ((n = e),
                                        Y(n, function (e) {
                                            return "ul" === lr(e) || "ol" === lr(e);
                                        }))
                                            .map(function (e) {
                                                return [ar.fromTag("li"), ar.fromTag(lr(e))];
                                            })
                                            .getOr([]);
                                        var n;
                                    });
                                },
                                Uv = function () {
                                    return Ov([]);
                                },
                                Hv = function (e, t) {
                                    return (
                                        (n = ar.fromDom(t.cloneContents())),
                                        (r = (function (e, t) {
                                            var n,
                                                r = ar.fromDom(t.commonAncestorContainer),
                                                i = yl(r, e),
                                                a = K(i, function (e) {
                                                    return go(e) || mo(e);
                                                }),
                                                s = Fv(i, t),
                                                u = a.concat(
                                                    s.length
                                                        ? s
                                                        : wo((n = r))
                                                        ? Mr(n)
                                                              .filter(yo)
                                                              .fold(o([]), function (e) {
                                                                  return [n, e];
                                                              })
                                                        : yo(n)
                                                        ? [n]
                                                        : []
                                                );
                                            return q(u, ia);
                                        })(e, t)),
                                        (i = G(
                                            r,
                                            function (e, t) {
                                                return Oi(t, e), t;
                                            },
                                            n
                                        )),
                                        0 < r.length ? Ov([i]) : i
                                    );
                                    var n, r, i;
                                },
                                zv = function (e, t) {
                                    return ((n = e), (r = t[0]), Gi(r, "table", a(Br, n)))
                                        .bind(function (e) {
                                            var n = t[0],
                                                r = t[t.length - 1],
                                                o = (function (e) {
                                                    var t = Dv(ia(e), 0, []);
                                                    return (
                                                        V(zi(e, "tr"), function (e, n) {
                                                            V(zi(e, "td,th"), function (r, o) {
                                                                !(function (e, t, n, r, o) {
                                                                    for (var i = Pv(o, "rowspan"), a = Pv(o, "colspan"), s = e.rows(), u = n; u < n + i; u++) {
                                                                        s[u] || (s[u] = Rv(aa(r), []));
                                                                        for (var c = t; c < t + a; c++) s[u].cells()[c] = u === n && c === t ? o : ia(o);
                                                                    }
                                                                })(
                                                                    t,
                                                                    (function (e, t, n) {
                                                                        for (; (r = t), (o = n), (i = void 0), ((i = e.rows())[o] ? i[o].cells() : [])[r]; ) t++;
                                                                        var r, o, i;
                                                                        return t;
                                                                    })(t, o, n),
                                                                    n,
                                                                    e,
                                                                    r
                                                                );
                                                            });
                                                        }),
                                                        Dv(t.element(), Iv(t.rows()), t.rows())
                                                    );
                                                })(e);
                                            return (function (e, t, n) {
                                                return Lv(e, t).bind(function (t) {
                                                    return Lv(e, n).map(function (n) {
                                                        return (r = e), (i = n), (a = (o = t).x()), (s = o.y()), (u = i.x()), (l = s < (c = i.y()) ? Mv(r, a, s, u, c) : Mv(r, a, c, u, s)), Dv(r.element(), Iv(l), l);
                                                        var r, o, i, a, s, u, c, l;
                                                    });
                                                });
                                            })(o, n, r).map(function (e) {
                                                return Ov([jv(e)]);
                                            });
                                        })
                                        .getOrThunk(Uv);
                                    var n, r;
                                },
                                qv = function (e, t) {
                                    if ((void 0 === t && (t = {}), (t.get = !0), (t.format = t.format || "html"), (t.selection = !0), (t = e.fire("BeforeGetContent", t)).isDefaultPrevented())) return e.fire("GetContent", t), t.content;
                                    if ("text" === t.format)
                                        return (
                                            (c = e),
                                            N.from(c.selection.getRng())
                                                .map(function (e) {
                                                    var t = c.dom.add(c.getBody(), "div", { "data-mce-bogus": "all", style: "overflow: hidden; opacity: 0;" }, e.cloneContents()),
                                                        n = la(t.innerText);
                                                    return c.dom.remove(t), n;
                                                })
                                                .getOr("")
                                        );
                                    t.getInner = !0;
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l =
                                            ((r = t),
                                            (i = (n = e).selection.getRng()),
                                            (a = n.dom.create("body")),
                                            (s = n.selection.getSel()),
                                            (u = Av(n, gf(s))),
                                            (o = r.contextual
                                                ? (function (e, t) {
                                                      var n,
                                                          r,
                                                          o = yf(t, e);
                                                      return 0 < o.length ? zv(e, o) : ((n = e), 0 < (r = t).length && r[0].collapsed ? Uv() : Hv(n, r[0]));
                                                  })(ar.fromDom(n.getBody()), u).dom()
                                                : i.cloneContents()) && a.appendChild(o),
                                            n.selection.serializer.serialize(a, r));
                                    return "tree" === t.format ? l : ((t.content = e.selection.isCollapsed() ? "" : l), e.fire("GetContent", t), t.content);
                                },
                                Vv = function (e, t, n, r, o) {
                                    var i = n ? t.startContainer : t.endContainer,
                                        a = n ? t.startOffset : t.endOffset;
                                    return N.from(i)
                                        .map(ar.fromDom)
                                        .map(function (e) {
                                            return r && t.collapsed ? e : qr(e, o(e, a)).getOr(e);
                                        })
                                        .bind(function (e) {
                                            return fr(e) ? N.some(e) : Mr(e);
                                        })
                                        .map(function (e) {
                                            return e.dom();
                                        })
                                        .getOr(e);
                                },
                                Wv = function (e, t, n) {
                                    return Vv(e, t, !0, n, function (e, t) {
                                        return Math.min(e.dom().childNodes.length, t);
                                    });
                                },
                                Kv = function (e, t, n) {
                                    return Vv(e, t, !1, n, function (e, t) {
                                        return 0 < t ? t - 1 : t;
                                    });
                                },
                                Gv = function (e, t) {
                                    for (var n = e; e && Io.isText(e) && 0 === e.length; ) e = t ? e.nextSibling : e.previousSibling;
                                    return e || n;
                                },
                                Yv = Yt.each,
                                Xv = function (e) {
                                    return !!e.select;
                                },
                                Jv = function (e) {
                                    return !(!e || !e.ownerDocument) && Pr(ar.fromDom(e.ownerDocument), ar.fromDom(e));
                                },
                                Qv = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c = function (e, t) {
                                            return (function (e, t, n) {
                                                var r,
                                                    o,
                                                    i,
                                                    a,
                                                    s = ((r = t), na(na({ format: "html" }, n), { set: !0, selection: !0, content: r })),
                                                    u = e.selection.getRng(),
                                                    c = e.getDoc();
                                                if (s.no_events || !(s = e.fire("BeforeSetContent", s)).isDefaultPrevented()) {
                                                    if (
                                                        ((t = (function (e, t) {
                                                            if ("raw" !== t.format) {
                                                                var n = e.parser.parse(t.content, na({ isRootContent: !0, forced_root_block: !1 }, t));
                                                                return Uc({ validate: e.validate }, e.schema).serialize(n);
                                                            }
                                                            return t.content;
                                                        })(e, s)),
                                                        u.insertNode)
                                                    ) {
                                                        (t += '<span id="__caret">_</span>'),
                                                            u.startContainer === c && u.endContainer === c
                                                                ? (c.body.innerHTML = t)
                                                                : (u.deleteContents(),
                                                                  0 === c.body.childNodes.length
                                                                      ? (c.body.innerHTML = t)
                                                                      : u.createContextualFragment
                                                                      ? u.insertNode(u.createContextualFragment(t))
                                                                      : ((i = c.createDocumentFragment()), (a = c.createElement("div")), i.appendChild(a), (a.outerHTML = t), u.insertNode(i))),
                                                            (o = e.dom.get("__caret")),
                                                            (u = c.createRange()).setStartBefore(o),
                                                            u.setEndBefore(o),
                                                            e.selection.setRng(u),
                                                            e.dom.remove("__caret");
                                                        try {
                                                            e.selection.setRng(u);
                                                        } catch (e) {}
                                                    } else {
                                                        var l = u;
                                                        l.item && (c.execCommand("Delete", !1, null), (l = e.selection.getRng())),
                                                            /^\s+/.test(t) ? (l.pasteHTML('<span id="__mce_tmp">_</span>' + t), e.dom.remove("__mce_tmp")) : l.pasteHTML(t);
                                                    }
                                                    s.no_events || e.fire("SetContent", s);
                                                } else e.fire("SetContent", s);
                                            })(r, e, t);
                                        },
                                        l = function (e) {
                                            var t = f();
                                            t.collapse(!!e), p(t);
                                        },
                                        d = function () {
                                            return t.getSelection ? t.getSelection() : t.document.selection;
                                        },
                                        f = function () {
                                            var n,
                                                o,
                                                i,
                                                u,
                                                c = function (e, t, n) {
                                                    try {
                                                        return t.compareBoundaryPoints(e, n);
                                                    } catch (e) {
                                                        return -1;
                                                    }
                                                };
                                            if (!t) return null;
                                            if (null == (u = t.document)) return null;
                                            if (void 0 !== r.bookmark && !1 === Bm(r)) {
                                                var l = Kp(r);
                                                if (l.isSome())
                                                    return l
                                                        .map(function (e) {
                                                            return Av(r, [e])[0];
                                                        })
                                                        .getOr(u.createRange());
                                            }
                                            try {
                                                (n = d()) && !Io.isRestrictedNode(n.anchorNode) && (o = 0 < n.rangeCount ? n.getRangeAt(0) : n.createRange ? n.createRange() : u.createRange());
                                            } catch (e) {}
                                            return (
                                                (o = Av(r, [o])[0]) || (o = u.createRange ? u.createRange() : u.body.createTextRange()),
                                                o.setStart && 9 === o.startContainer.nodeType && o.collapsed && ((i = e.getRoot()), o.setStart(i, 0), o.setEnd(i, 0)),
                                                a && s && (0 === c(o.START_TO_START, o, a) && 0 === c(o.END_TO_END, o, a) ? (o = s) : (s = a = null)),
                                                o
                                            );
                                        },
                                        p = function (e, t) {
                                            var n, o;
                                            if ((i = e) && (Xv(i) || (Jv(i.startContainer) && Jv(i.endContainer)))) {
                                                var i,
                                                    u = Xv(e) ? e : null;
                                                if (u) {
                                                    s = null;
                                                    try {
                                                        u.select();
                                                    } catch (e) {}
                                                } else {
                                                    if (((n = d()), (e = r.fire("SetSelectionRange", { range: e, forward: t }).range), n)) {
                                                        s = e;
                                                        try {
                                                            n.removeAllRanges(), n.addRange(e);
                                                        } catch (e) {}
                                                        !1 === t && n.extend && (n.collapse(e.endContainer, e.endOffset), n.extend(e.startContainer, e.startOffset)), (a = 0 < n.rangeCount ? n.getRangeAt(0) : null);
                                                    }
                                                    e.collapsed ||
                                                        e.startContainer !== e.endContainer ||
                                                        !n.setBaseAndExtent ||
                                                        fe.ie ||
                                                        (e.endOffset - e.startOffset < 2 &&
                                                            e.startContainer.hasChildNodes() &&
                                                            (o = e.startContainer.childNodes[e.startOffset]) &&
                                                            "IMG" === o.tagName &&
                                                            (n.setBaseAndExtent(e.startContainer, e.startOffset, e.endContainer, e.endOffset),
                                                            (n.anchorNode === e.startContainer && n.focusNode === e.endContainer) || n.setBaseAndExtent(o, 0, o, 1))),
                                                        r.fire("AfterSetSelectionRange", { range: e, forward: t });
                                                }
                                            }
                                        },
                                        m = function () {
                                            var t,
                                                n,
                                                r = d();
                                            return (
                                                !(r && r.anchorNode && r.focusNode) ||
                                                ((t = e.createRng()).setStart(r.anchorNode, r.anchorOffset),
                                                t.collapse(!0),
                                                (n = e.createRng()).setStart(r.focusNode, r.focusOffset),
                                                n.collapse(!0),
                                                t.compareBoundaryPoints(t.START_TO_START, n) <= 0)
                                            );
                                        },
                                        h = {
                                            bookmarkManager: null,
                                            controlSelection: null,
                                            dom: e,
                                            win: t,
                                            serializer: n,
                                            editor: r,
                                            collapse: l,
                                            setCursorLocation: function (t, n) {
                                                var o = e.createRng();
                                                t ? (o.setStart(t, n), o.setEnd(t, n), p(o), l(!1)) : (bh(e, o, r.getBody(), !0), p(o));
                                            },
                                            getContent: function (e) {
                                                return qv(r, e);
                                            },
                                            setContent: c,
                                            getBookmark: function (e, t) {
                                                return o.getBookmark(e, t);
                                            },
                                            moveToBookmark: function (e) {
                                                return o.moveToBookmark(e);
                                            },
                                            select: function (t, n) {
                                                var r, o, i;
                                                return (
                                                    ((r = e),
                                                    (o = t),
                                                    (i = n),
                                                    N.from(o).map(function (e) {
                                                        var t = r.nodeIndex(e),
                                                            n = r.createRng();
                                                        return n.setStart(e.parentNode, t), n.setEnd(e.parentNode, t + 1), i && (bh(r, n, e, !0), bh(r, n, e, !1)), n;
                                                    })).each(p),
                                                    t
                                                );
                                            },
                                            isCollapsed: function () {
                                                var e = f(),
                                                    t = d();
                                                return !(!e || e.item) && (e.compareEndPoints ? 0 === e.compareEndPoints("StartToEnd", e) : !t || e.collapsed);
                                            },
                                            isForward: m,
                                            setNode: function (t) {
                                                return c(e.getOuterHTML(t)), t;
                                            },
                                            getNode: function () {
                                                return (
                                                    (e = r.getBody()),
                                                    (t = f())
                                                        ? ((o = t.startContainer),
                                                          (i = t.endContainer),
                                                          (a = t.startOffset),
                                                          (s = t.endOffset),
                                                          (n = t.commonAncestorContainer),
                                                          !t.collapsed &&
                                                          (o === i && s - a < 2 && o.hasChildNodes() && (n = o.childNodes[a]),
                                                          3 === o.nodeType && 3 === i.nodeType && ((o = o.length === a ? Gv(o.nextSibling, !0) : o.parentNode), (i = 0 === s ? Gv(i.previousSibling, !1) : i.parentNode), o && o === i))
                                                              ? o
                                                              : n && 3 === n.nodeType
                                                              ? n.parentNode
                                                              : n)
                                                        : e
                                                );
                                                var e, t, n, o, i, a, s;
                                            },
                                            getSel: d,
                                            setRng: p,
                                            getRng: f,
                                            getStart: function (e) {
                                                return Wv(r.getBody(), f(), e);
                                            },
                                            getEnd: function (e) {
                                                return Kv(r.getBody(), f(), e);
                                            },
                                            getSelectedBlocks: function (t, n) {
                                                return (function (e, t, n, r) {
                                                    var o,
                                                        i,
                                                        a = [];
                                                    if (((i = e.getRoot()), (n = e.getParent(n || Wv(i, t, t.collapsed), e.isBlock)), (r = e.getParent(r || Kv(i, t, t.collapsed), e.isBlock)), n && n !== i && a.push(n), n && r && n !== r))
                                                        for (var s = new uo((o = n), i); (o = s.next()) && o !== r; ) e.isBlock(o) && a.push(o);
                                                    return r && n !== r && r !== i && a.push(r), a;
                                                })(e, f(), t, n);
                                            },
                                            normalize: function () {
                                                var t = f();
                                                if (
                                                    !(function (e) {
                                                        return 1 < hf(e).length;
                                                    })(d()) &&
                                                    yh(r)
                                                ) {
                                                    var n = Cp(e, t);
                                                    return (
                                                        n.each(function (e) {
                                                            p(e, m());
                                                        }),
                                                        n.getOr(t)
                                                    );
                                                }
                                                return t;
                                            },
                                            selectorChanged: function (t, n) {
                                                var o;
                                                return (
                                                    u ||
                                                        ((u = {}),
                                                        (o = {}),
                                                        r.on("NodeChange", function (t) {
                                                            var n = t.element,
                                                                r = e.getParents(n, null, e.getRoot()),
                                                                i = {};
                                                            Yv(u, function (t, n) {
                                                                Yv(r, function (a) {
                                                                    if (e.is(a, n))
                                                                        return (
                                                                            o[n] ||
                                                                                (Yv(t, function (e) {
                                                                                    e(!0, { node: a, selector: n, parents: r });
                                                                                }),
                                                                                (o[n] = t)),
                                                                            (i[n] = t),
                                                                            !1
                                                                        );
                                                                });
                                                            }),
                                                                Yv(o, function (e, t) {
                                                                    i[t] ||
                                                                        (delete o[t],
                                                                        Yv(e, function (e) {
                                                                            e(!1, { node: n, selector: t, parents: r });
                                                                        }));
                                                                });
                                                        })),
                                                    u[t] || (u[t] = []),
                                                    u[t].push(n),
                                                    h
                                                );
                                            },
                                            getScrollContainer: function () {
                                                for (var t, n = e.getRoot(); n && "BODY" !== n.nodeName; ) {
                                                    if (n.scrollHeight > n.clientHeight) {
                                                        t = n;
                                                        break;
                                                    }
                                                    n = n.parentNode;
                                                }
                                                return t;
                                            },
                                            scrollIntoView: function (e, t) {
                                                return (function (e, t, n) {
                                                    var r,
                                                        o,
                                                        i,
                                                        a,
                                                        s,
                                                        u = e.dom,
                                                        c = u.getRoot(),
                                                        l = 0;
                                                    if (((s = { elm: t, alignToTop: n }), e.fire("scrollIntoView", s), !s.isDefaultPrevented() && Io.isElement(t))) {
                                                        if ((!1 === n && (l = t.offsetHeight), "BODY" !== c.nodeName)) {
                                                            var d = e.selection.getScrollContainer();
                                                            if (d) return (r = Qf(t).y - Qf(d).y + l), (a = d.clientHeight), void ((r < (i = d.scrollTop) || i + a < r + 25) && (d.scrollTop = r < i ? r : r - a + 25));
                                                        }
                                                        (o = u.getViewPort(e.getWin())), (r = u.getPos(t).y + l), (i = o.y), (a = o.h), (r < o.y || i + a < r + 25) && e.getWin().scrollTo(0, r < i ? r : r - a + 25);
                                                    }
                                                })(r, e, t);
                                            },
                                            placeCaretAt: function (e, t) {
                                                return p(Nv(e, t, r.getDoc()));
                                            },
                                            getBoundingClientRect: function () {
                                                var e = f();
                                                return e.collapsed ? fs.fromRangeStart(e).getClientRects()[0] : e.getBoundingClientRect();
                                            },
                                            destroy: function () {
                                                (t = a = s = null), i.destroy();
                                            },
                                        };
                                    return (o = kv(h)), (i = Sv(h, r)), (h.bookmarkManager = o), (h.controlSelection = i), h;
                                };
                            ((_v = xv || (xv = {}))[(_v.Br = 0)] = "Br"), (_v[(_v.Block = 1)] = "Block"), (_v[(_v.Wrap = 2)] = "Wrap"), (_v[(_v.Eol = 3)] = "Eol");
                            var Zv = function (e, t) {
                                    return e === ls.Backwards ? t.reverse() : t;
                                },
                                eb = function (e, t, n, r) {
                                    for (var o, i, a, s, u, c, l = Du(n), d = r, f = []; d && ((u = l), (c = d), (o = t === ls.Forwards ? u.next(c) : u.prev(c))); ) {
                                        if (Io.isBr(o.getNode(!1))) return t === ls.Forwards ? { positions: Zv(t, f).concat([o]), breakType: xv.Br, breakAt: N.some(o) } : { positions: Zv(t, f), breakType: xv.Br, breakAt: N.some(o) };
                                        if (o.isVisible()) {
                                            if (e(d, o)) {
                                                var p = ((i = t), (a = d), (s = o), Io.isBr(s.getNode(i === ls.Forwards)) ? xv.Br : !1 === uu(a, s) ? xv.Block : xv.Wrap);
                                                return { positions: Zv(t, f), breakType: p, breakAt: N.some(o) };
                                            }
                                            f.push(o), (d = o);
                                        } else d = o;
                                    }
                                    return { positions: Zv(t, f), breakType: xv.Eol, breakAt: N.none() };
                                },
                                tb = function (e, t, n, r) {
                                    return t(n, r)
                                        .breakAt.map(function (r) {
                                            var o = t(n, r).positions;
                                            return e === ls.Backwards ? o.concat(r) : [r].concat(o);
                                        })
                                        .getOr([]);
                                },
                                nb = function (e, t) {
                                    return G(
                                        e,
                                        function (e, n) {
                                            return e.fold(
                                                function () {
                                                    return N.some(n);
                                                },
                                                function (r) {
                                                    return qa(ee(r.getClientRects()), ee(n.getClientRects()), function (e, o) {
                                                        var i = Math.abs(t - e.left);
                                                        return Math.abs(t - o.left) <= i ? n : r;
                                                    }).or(e);
                                                }
                                            );
                                        },
                                        N.none()
                                    );
                                },
                                rb = function (e, t) {
                                    return ee(t.getClientRects()).bind(function (t) {
                                        return nb(e, t.left);
                                    });
                                },
                                ob = a(eb, cs.isAbove, -1),
                                ib = a(eb, cs.isBelow, 1),
                                ab = a(tb, -1, ob),
                                sb = a(tb, 1, ib),
                                ub = Io.isContentEditableFalse,
                                cb = Fa,
                                lb = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        s,
                                        u = Du(e.getBody()),
                                        c = a(bu, u.next),
                                        l = a(bu, u.prev);
                                    if (n.collapsed && e.settings.forced_root_block) {
                                        if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return;
                                        (1 === t ? c(fs.fromRangeStart(n)) : l(fs.fromRangeStart(n))) ||
                                            ((s = (i = e).dom.create(Yc(i))),
                                            (!fe.ie || 11 <= fe.ie) && (s.innerHTML = '<br data-mce-bogus="1">'),
                                            (o = s),
                                            1 === t ? e.$(r).after(o) : e.$(r).before(o),
                                            e.selection.select(o, !0),
                                            e.selection.collapse());
                                    }
                                },
                                db = function (e, t) {
                                    return function () {
                                        var n,
                                            r,
                                            o,
                                            i,
                                            s,
                                            u,
                                            c,
                                            l,
                                            d,
                                            f =
                                                ((r = t),
                                                (i = Du((n = e).getBody())),
                                                (s = a(bu, i.next)),
                                                (u = a(bu, i.prev)),
                                                (c = r ? ls.Forwards : ls.Backwards),
                                                (l = r ? s : u),
                                                (d = n.selection.getRng()),
                                                (o = (function (e, t, n, r) {
                                                    var o = e === ls.Forwards,
                                                        i = o ? Wl : Kl;
                                                    if (!r.collapsed) {
                                                        var a = cb(r);
                                                        if (ub(a)) return tp(e, t, a, e === ls.Backwards, !0);
                                                    }
                                                    var s = pa(r.startContainer),
                                                        u = gu(e, t.getBody(), r);
                                                    if (i(u)) return np(t, u.getNode(!o));
                                                    var c = il.normalizePosition(o, n(u));
                                                    if (!c) return s ? r : null;
                                                    if (i(c)) return tp(e, t, c.getNode(!o), o, !0);
                                                    var l = n(c);
                                                    return l && i(l) && yu(c, l) ? tp(e, t, l.getNode(!o), o, !0) : s ? op(t, c.toRange(), !0) : null;
                                                })(c, n, l, d))
                                                    ? o
                                                    : (o = lb(n, c, d)) || null);
                                        return !!f && (ip(e, f), !0);
                                    };
                                },
                                fb = function (e, t) {
                                    return function () {
                                        var n,
                                            r,
                                            o,
                                            i,
                                            a,
                                            s,
                                            u =
                                                ((i = (r = t) ? 1 : -1),
                                                (a = r ? Sh : Eh),
                                                (s = (n = e).selection.getRng()),
                                                (o = (function (e, t, n, r) {
                                                    var o, i, a, s, u, c, l, d, f;
                                                    if (
                                                        ((f = cb(r)),
                                                        (o = gu(e, t.getBody(), r)),
                                                        (i = n(t.getBody(), $h(1), o)),
                                                        (a = K(i, Nh(1))),
                                                        (u = qt.last(o.getClientRects())),
                                                        (Wl(o) || Yl(o)) && (f = o.getNode()),
                                                        (Kl(o) || Xl(o)) && (f = o.getNode(!0)),
                                                        !u)
                                                    )
                                                        return null;
                                                    if (((c = u.left), (s = Ph(a, c)) && ub(s.node))) return (l = Math.abs(c - s.left)), (d = Math.abs(c - s.right)), tp(e, t, s.node, l < d, !0);
                                                    if (f) {
                                                        var p = (function (e, t, n, r) {
                                                            var o,
                                                                i,
                                                                a,
                                                                s,
                                                                u,
                                                                c,
                                                                l = Du(t),
                                                                d = [],
                                                                f = 0,
                                                                p = function (e) {
                                                                    return qt.last(e.getClientRects());
                                                                };
                                                            1 === e ? ((o = l.next), (i = Ma), (a = La), (s = fs.after(r))) : ((o = l.prev), (i = La), (a = Ma), (s = fs.before(r))), (c = p(s));
                                                            do {
                                                                if (s.isVisible() && !a((u = p(s)), c)) {
                                                                    if ((0 < d.length && i(u, qt.last(d)) && f++, ((u = Ba(u)).position = s), (u.line = f), n(u))) return d;
                                                                    d.push(u);
                                                                }
                                                            } while ((s = o(s)));
                                                            return d;
                                                        })(e, t.getBody(), $h(1), f);
                                                        if ((s = Ph(K(p, Nh(1)), c))) return op(t, s.position.toRange(), !0);
                                                        if ((s = qt.last(K(p, Nh(0))))) return op(t, s.position.toRange(), !0);
                                                    }
                                                })(i, n, a, s))
                                                    ? o
                                                    : (o = lb(n, i, s)) || null);
                                        return !!u && (ip(e, u), !0);
                                    };
                                },
                                pb = function (e, t) {
                                    return function () {
                                        var n,
                                            r = t ? fs.fromRangeEnd(e.selection.getRng()) : fs.fromRangeStart(e.selection.getRng()),
                                            i = t ? ib(e.getBody(), r) : ob(e.getBody(), r);
                                        return (t ? te(i.positions) : ee(i.positions))
                                            .filter(
                                                ((n = t),
                                                function (e) {
                                                    return n ? Kl(e) : Wl(e);
                                                })
                                            )
                                            .fold(o(!1), function (t) {
                                                return e.selection.setRng(t.toRange()), !0;
                                            });
                                    };
                                },
                                mb = function (e, t, n, r, o) {
                                    var i,
                                        a,
                                        s,
                                        u,
                                        c = zi(ar.fromDom(n), "td,th,caption").map(function (e) {
                                            return e.dom();
                                        }),
                                        l = K(
                                            ((i = e),
                                            J(c, function (e) {
                                                var t,
                                                    n,
                                                    r = ((n = -1), { left: (t = Ba(e.getBoundingClientRect())).left - n, top: t.top - n, right: t.right + -2, bottom: t.bottom + -2, width: t.width + n, height: t.height + n });
                                                return [
                                                    { x: r.left, y: i(r), cell: e },
                                                    { x: r.right, y: i(r), cell: e },
                                                ];
                                            })),
                                            function (e) {
                                                return t(e, o);
                                            }
                                        );
                                    return ((a = l),
                                    (s = r),
                                    (u = o),
                                    G(
                                        a,
                                        function (e, t) {
                                            return e.fold(
                                                function () {
                                                    return N.some(t);
                                                },
                                                function (e) {
                                                    var n = Math.sqrt(Math.abs(e.x - s) + Math.abs(e.y - u)),
                                                        r = Math.sqrt(Math.abs(t.x - s) + Math.abs(t.y - u));
                                                    return N.some(r < n ? t : e);
                                                }
                                            );
                                        },
                                        N.none()
                                    )).map(function (e) {
                                        return e.cell;
                                    });
                                },
                                hb = a(
                                    mb,
                                    function (e) {
                                        return e.bottom;
                                    },
                                    function (e, t) {
                                        return e.y < t;
                                    }
                                ),
                                gb = a(
                                    mb,
                                    function (e) {
                                        return e.top;
                                    },
                                    function (e, t) {
                                        return e.y > t;
                                    }
                                ),
                                vb = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s = e(t, n);
                                    return ((a = s).breakType === xv.Wrap && 0 === a.positions.length) || (!Io.isBr(n.getNode()) && (i = s).breakType === xv.Br && 1 === i.positions.length)
                                        ? ((r = e),
                                          (o = t),
                                          !s.breakAt
                                              .map(function (e) {
                                                  return r(o, e).breakAt.isSome();
                                              })
                                              .getOr(!1))
                                        : s.breakAt.isNone();
                                },
                                bb = a(vb, ob),
                                yb = a(vb, ib),
                                wb = function (e, t, n) {
                                    var r = (function (e, t) {
                                            var n = t.getNode(e);
                                            return Io.isElement(n) && "TABLE" === n.nodeName ? N.some(n) : N.none();
                                        })(!!t, n),
                                        o = !1 === t;
                                    r.fold(
                                        function () {
                                            return ip(e, n.toRange());
                                        },
                                        function (r) {
                                            return Hu.positionIn(o, e.getBody())
                                                .filter(function (e) {
                                                    return e.isEqual(n);
                                                })
                                                .fold(
                                                    function () {
                                                        return ip(e, n.toRange());
                                                    },
                                                    function (o) {
                                                        return (
                                                            (i = t),
                                                            (s = r),
                                                            (u = n),
                                                            void ((c = Yc((a = e)))
                                                                ? a.undoManager.transact(function () {
                                                                      var e = ar.fromTag(c);
                                                                      xr(e, Xc(a)), Oi(e, ar.fromTag("br")), i ? Ni(ar.fromDom(s), e) : $i(ar.fromDom(s), e);
                                                                      var t = a.dom.createRng();
                                                                      t.setStart(e.dom(), 0), t.setEnd(e.dom(), 0), ip(a, t);
                                                                  })
                                                                : ip(a, u.toRange()))
                                                        );
                                                        var i, a, s, u, c;
                                                    }
                                                );
                                        }
                                    );
                                },
                                Cb = function (e, t, n, r) {
                                    var o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l = e.selection.getRng(),
                                        d = fs.fromRangeStart(l),
                                        f = e.getBody();
                                    if (!t && bb(r, d)) {
                                        var p =
                                            ((s = f),
                                            (function (e, t) {
                                                return ee(t.getClientRects())
                                                    .bind(function (t) {
                                                        return hb(e, t.left, t.top);
                                                    })
                                                    .bind(function (e) {
                                                        return rb(
                                                            ((n = e),
                                                            Hu.lastPositionIn(n)
                                                                .map(function (e) {
                                                                    return ob(n, e).positions.concat(e);
                                                                })
                                                                .getOr([])),
                                                            t
                                                        );
                                                        var n;
                                                    });
                                            })((u = n), (c = d))
                                                .orThunk(function () {
                                                    return ee(c.getClientRects()).bind(function (e) {
                                                        return nb(ab(s, fs.before(u)), e.left);
                                                    });
                                                })
                                                .getOr(fs.before(u)));
                                        return wb(e, t, p), !0;
                                    }
                                    return !(
                                        !t ||
                                        !yb(r, d) ||
                                        ((o = f),
                                        (p = (function (e, t) {
                                            return te(t.getClientRects())
                                                .bind(function (t) {
                                                    return gb(e, t.left, t.top);
                                                })
                                                .bind(function (e) {
                                                    return rb(
                                                        ((n = e),
                                                        Hu.firstPositionIn(n)
                                                            .map(function (e) {
                                                                return [e].concat(ib(n, e).positions);
                                                            })
                                                            .getOr([])),
                                                        t
                                                    );
                                                    var n;
                                                });
                                        })((i = n), (a = d))
                                            .orThunk(function () {
                                                return ee(a.getClientRects()).bind(function (e) {
                                                    return nb(sb(o, fs.after(i)), e.left);
                                                });
                                            })
                                            .getOr(fs.after(i))),
                                        wb(e, t, p),
                                        0)
                                    );
                                },
                                xb = function (e, t) {
                                    return function () {
                                        return N.from(e.dom.getParent(e.selection.getNode(), "td,th"))
                                            .bind(function (n) {
                                                return N.from(e.dom.getParent(n, "table")).map(function (n) {
                                                    return (function (e, t, n, r) {
                                                        var o,
                                                            i,
                                                            a,
                                                            s,
                                                            u = e.selection.getRng(),
                                                            c = t ? 1 : -1;
                                                        if (
                                                            Ys() &&
                                                            ((o = t),
                                                            (i = u),
                                                            (a = n),
                                                            (s = fs.fromRangeStart(i)),
                                                            Hu.positionIn(!o, a)
                                                                .map(function (e) {
                                                                    return e.isEqual(s);
                                                                })
                                                                .getOr(!1))
                                                        ) {
                                                            var l = tp(c, e, n, !t, !0);
                                                            return ip(e, l), !0;
                                                        }
                                                        return !1;
                                                    })(e, t, n);
                                                });
                                            })
                                            .getOr(!1);
                                    };
                                },
                                _b = function (e, t) {
                                    return function () {
                                        return N.from(e.dom.getParent(e.selection.getNode(), "td,th"))
                                            .bind(function (n) {
                                                return N.from(e.dom.getParent(n, "table")).map(function (r) {
                                                    return Cb(e, t, r, n);
                                                });
                                            })
                                            .getOr(!1);
                                    };
                                },
                                kb = function (e) {
                                    return H(["figcaption"], lr(e));
                                },
                                Tb = function (e) {
                                    var n = t.document.createRange();
                                    return n.setStartBefore(e.dom()), n.setEndBefore(e.dom()), n;
                                },
                                Eb = function (e, t, n) {
                                    n ? Oi(e, t) : Ai(e, t);
                                },
                                Sb = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = ar.fromDom(e.getBody()),
                                        s = fs.fromRangeStart(e.selection.getRng()),
                                        u = Yc(e),
                                        c = Xc(e);
                                    return ((n = s), (r = i), (o = a(Br, r)), Ki(ar.fromDom(n.container()), ho, o).filter(kb)).exists(function () {
                                        if (
                                            (function (e, t, n) {
                                                return t ? ((o = e.dom()), ib(o, n).breakAt.isNone()) : ((r = e.dom()), ob(r, n).breakAt.isNone());
                                                var r, o;
                                            })(i, t, s)
                                        ) {
                                            var n = (function (e, t, n, r) {
                                                return "" === t
                                                    ? ((l = e), (d = r), (f = ar.fromTag("br")), Eb(l, f, d), Tb(f))
                                                    : ((o = e), (i = r), (a = t), (s = n), (u = ar.fromTag(a)), (c = ar.fromTag("br")), xr(u, s), Oi(u, c), Eb(o, u, i), Tb(c));
                                                var o, i, a, s, u, c, l, d, f;
                                            })(i, u, c, t);
                                            return e.selection.setRng(n), !0;
                                        }
                                        return !1;
                                    });
                                },
                                $b = function (e, t) {
                                    return function () {
                                        return !!e.selection.isCollapsed() && Sb(e, t);
                                    };
                                },
                                Nb = function (e) {
                                    for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                                    var r = Array.prototype.slice.call(arguments, 1);
                                    return function () {
                                        return e.apply(null, r);
                                    };
                                },
                                Ab = function (e, t) {
                                    return Y(
                                        (function (e, t) {
                                            return J(
                                                q(e, function (e) {
                                                    return Qg({ shiftKey: !1, altKey: !1, ctrlKey: !1, metaKey: !1, keyCode: 0, action: n }, e);
                                                }),
                                                function (e) {
                                                    return (n = e), (r = t).keyCode === n.keyCode && r.shiftKey === n.shiftKey && r.altKey === n.altKey && r.ctrlKey === n.ctrlKey && r.metaKey === n.metaKey ? [e] : [];
                                                    var n, r;
                                                }
                                            );
                                        })(e, t),
                                        function (e) {
                                            return e.action();
                                        }
                                    );
                                },
                                Ob = function (e) {
                                    return N.from(e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock));
                                },
                                Db = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = t,
                                        a = e.dom,
                                        s = e.schema.getMoveCaretBeforeOnEnterElements();
                                    if (t) {
                                        if (/^(LI|DT|DD)$/.test(t.nodeName)) {
                                            var u = (function (e) {
                                                for (; e; ) {
                                                    if (1 === e.nodeType || (3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data))) return e;
                                                    e = e.nextSibling;
                                                }
                                            })(t.firstChild);
                                            u && /^(UL|OL|DL)$/.test(u.nodeName) && t.insertBefore(a.doc.createTextNode(" "), t.firstChild);
                                        }
                                        if (((o = a.createRng()), t.normalize(), t.hasChildNodes())) {
                                            for (n = new uo(t, t); (r = n.current()); ) {
                                                if (Io.isText(r)) {
                                                    o.setStart(r, 0), o.setEnd(r, 0);
                                                    break;
                                                }
                                                if (s[r.nodeName.toLowerCase()]) {
                                                    o.setStartBefore(r), o.setEndBefore(r);
                                                    break;
                                                }
                                                (i = r), (r = n.next());
                                            }
                                            r || (o.setStart(i, 0), o.setEnd(i, 0));
                                        } else Io.isBr(t) ? (t.nextSibling && a.isBlock(t.nextSibling) ? (o.setStartBefore(t), o.setEndBefore(t)) : (o.setStartAfter(t), o.setEndAfter(t))) : (o.setStart(t, 0), o.setEnd(t, 0));
                                        e.selection.setRng(o), a.remove(void 0), e.selection.scrollIntoView(t);
                                    }
                                },
                                Rb = Ob,
                                Bb = function (e, t) {
                                    return e && e.parentNode && e.parentNode.nodeName === t;
                                },
                                Pb = function (e) {
                                    return e && /^(OL|UL|LI)$/.test(e.nodeName);
                                },
                                Ib = function (e) {
                                    var t = e.parentNode;
                                    return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e;
                                },
                                Lb = function (e, t, n) {
                                    for (var r = e[n ? "firstChild" : "lastChild"]; r && !Io.isElement(r); ) r = r[n ? "nextSibling" : "previousSibling"];
                                    return r === t;
                                },
                                Mb = function (e) {
                                    e.innerHTML = '<br data-mce-bogus="1">';
                                },
                                jb = function (e, t) {
                                    return e.nodeName === t || (e.previousSibling && e.previousSibling.nodeName === t);
                                },
                                Fb = function (e, t) {
                                    return t && e.isBlock(t) && !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) && !/^(fixed|absolute)/i.test(t.style.position) && "true" !== e.getContentEditable(t);
                                },
                                Ub = function (e, t, n) {
                                    return !1 === Io.isText(t) ? n : e ? (1 === n && t.data.charAt(n - 1) === ca ? 0 : n) : n === t.data.length - 1 && t.data.charAt(n) === ca ? t.data.length : n;
                                },
                                Hb = function (e, t) {
                                    var n,
                                        r,
                                        o = e.getRoot();
                                    for (n = t; n !== o && "false" !== e.getContentEditable(n); ) "true" === e.getContentEditable(n) && (r = n), (n = n.parentNode);
                                    return n !== o ? r : o;
                                },
                                zb = function (e, t) {
                                    var n = Yc(e);
                                    n &&
                                        n.toLowerCase() === t.tagName.toLowerCase() &&
                                        (function (e, t, n) {
                                            N.from(n.style)
                                                .map(e.dom.parseStyle)
                                                .each(function (n) {
                                                    var r = (function (e) {
                                                            var t = {},
                                                                n = e.dom();
                                                            if (yr(n))
                                                                for (var r = 0; r < n.style.length; r++) {
                                                                    var o = n.style.item(r);
                                                                    t[o] = n.style[o];
                                                                }
                                                            return t;
                                                        })(ar.fromDom(t)),
                                                        o = na(na({}, r), n);
                                                    e.dom.setStyles(t, o);
                                                });
                                            var r = N.from(n.class).map(function (e) {
                                                    return e.split(/\s+/);
                                                }),
                                                o = N.from(t.className).map(function (e) {
                                                    return K(e.split(/\s+/), function (e) {
                                                        return "" !== e;
                                                    });
                                                });
                                            qa(r, o, function (n, r) {
                                                var o = K(r, function (e) {
                                                        return !H(n, e);
                                                    }),
                                                    i = (function () {
                                                        for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
                                                        var r = Array(e),
                                                            o = 0;
                                                        for (t = 0; t < n; t++) for (var i = arguments[t], a = 0, s = i.length; a < s; a++, o++) r[o] = i[a];
                                                        return r;
                                                    })(n, o);
                                                e.dom.setAttrib(t, "class", i.join(" "));
                                            });
                                            var i = ["style", "class"],
                                                a = vr(n, function (e, t) {
                                                    return !H(i, t);
                                                }).t;
                                            e.dom.setAttribs(t, a);
                                        })(e, t, Xc(e));
                                },
                                qb = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f,
                                        p,
                                        m,
                                        h,
                                        g,
                                        v,
                                        b,
                                        y,
                                        w,
                                        C = e.dom,
                                        x = e.schema,
                                        _ = x.getNonEmptyElements(),
                                        k = e.selection.getRng(),
                                        T = function (t) {
                                            var n,
                                                i,
                                                s,
                                                u = o,
                                                c = x.getTextInlineElements();
                                            if (
                                                ((s = n = t || "TABLE" === d || "HR" === d ? C.create(t || p) : a.cloneNode(!1)),
                                                !1 ===
                                                    (function (e) {
                                                        return e.getParam("keep_styles", !0);
                                                    })(e))
                                            )
                                                C.setAttrib(n, "style", null), C.setAttrib(n, "class", null);
                                            else
                                                do {
                                                    if (c[u.nodeName]) {
                                                        if (Ps(u) || Ju(u)) continue;
                                                        (i = u.cloneNode(!1)), C.setAttrib(i, "id", ""), n.hasChildNodes() ? i.appendChild(n.firstChild) : (s = i), n.appendChild(i);
                                                    }
                                                } while ((u = u.parentNode) && u !== r);
                                            return zb(e, n), Mb(s), n;
                                        },
                                        E = function (e) {
                                            var t, n, r, s;
                                            if (((s = Ub(e, o, i)), Io.isText(o) && (e ? 0 < s : s < o.nodeValue.length))) return !1;
                                            if (o.parentNode === a && m && !e) return !0;
                                            if (e && Io.isElement(o) && o === a.firstChild) return !0;
                                            if (jb(o, "TABLE") || jb(o, "HR")) return (m && !e) || (!m && e);
                                            for (t = new uo(o, a), Io.isText(o) && (e && 0 === s ? t.prev() : e || s !== o.nodeValue.length || t.next()); (n = t.current()); ) {
                                                if (Io.isElement(n)) {
                                                    if (!n.getAttribute("data-mce-bogus") && ((r = n.nodeName.toLowerCase()), _[r] && "br" !== r)) return !1;
                                                } else if (Io.isText(n) && !/^[ \t\r\n]*$/.test(n.nodeValue)) return !1;
                                                e ? t.prev() : t.next();
                                            }
                                            return !0;
                                        },
                                        S = function () {
                                            (u = /^(H[1-6]|PRE|FIGURE)$/.test(d) && "HGROUP" !== f ? T(p) : T()),
                                                (function (e) {
                                                    return e.getParam("end_container_on_empty_block", !1);
                                                })(e) &&
                                                Fb(C, l) &&
                                                C.isEmpty(a)
                                                    ? (u = C.split(l, a))
                                                    : C.insertAfter(u, a),
                                                Db(e, u);
                                        };
                                    Cp(C, k).each(function (e) {
                                        k.setStart(e.startContainer, e.startOffset), k.setEnd(e.endContainer, e.endOffset);
                                    }),
                                        (o = k.startContainer),
                                        (i = k.startOffset),
                                        (p = Yc(e)),
                                        (s = t.shiftKey),
                                        Io.isElement(o) && o.hasChildNodes() && ((m = i > o.childNodes.length - 1), (o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o), (i = m && Io.isText(o) ? o.nodeValue.length : 0)),
                                        (r = Hb(C, o)) &&
                                            (((p && !s) || (!p && s)) &&
                                                (o = (function (e, t, n, r, o) {
                                                    var i,
                                                        a,
                                                        s,
                                                        u,
                                                        c,
                                                        l,
                                                        d,
                                                        f = t || "P",
                                                        p = e.dom,
                                                        m = Hb(p, r);
                                                    if (!(a = p.getParent(r, p.isBlock)) || !Fb(p, a)) {
                                                        if (((l = (a = a || m) === e.getBody() || ((d = a) && /^(TD|TH|CAPTION)$/.test(d.nodeName)) ? a.nodeName.toLowerCase() : a.parentNode.nodeName.toLowerCase()), !a.hasChildNodes()))
                                                            return (i = p.create(f)), zb(e, i), a.appendChild(i), n.setStart(i, 0), n.setEnd(i, 0), i;
                                                        for (u = r; u.parentNode !== a; ) u = u.parentNode;
                                                        for (; u && !p.isBlock(u); ) u = (s = u).previousSibling;
                                                        if (s && e.schema.isValidChild(l, f.toLowerCase())) {
                                                            for (i = p.create(f), zb(e, i), s.parentNode.insertBefore(i, s), u = s; u && !p.isBlock(u); ) (c = u.nextSibling), i.appendChild(u), (u = c);
                                                            n.setStart(r, o), n.setEnd(r, o);
                                                        }
                                                    }
                                                    return r;
                                                })(e, p, k, o, i)),
                                            (a = C.getParent(o, C.isBlock)),
                                            (l = a ? C.getParent(a.parentNode, C.isBlock) : null),
                                            (d = a ? a.nodeName.toUpperCase() : ""),
                                            "LI" !== (f = l ? l.nodeName.toUpperCase() : "") || t.ctrlKey || ((l = (a = l).parentNode), (d = f)),
                                            /^(LI|DT|DD)$/.test(d) && C.isEmpty(a)
                                                ? (function (e, t, n, r, o) {
                                                      var i = e.dom,
                                                          a = e.selection.getRng();
                                                      if (n !== e.getBody()) {
                                                          var s;
                                                          Pb((s = n)) && Pb(s.parentNode) && (o = "LI");
                                                          var u,
                                                              c = o ? t(o) : i.create("BR");
                                                          if (Lb(n, r, !0) && Lb(n, r, !1)) Bb(n, "LI") ? i.insertAfter(c, Ib(n)) : i.replace(c, n);
                                                          else if (Lb(n, r, !0)) Bb(n, "LI") ? (i.insertAfter(c, Ib(n)), c.appendChild(i.doc.createTextNode(" ")), c.appendChild(n)) : n.parentNode.insertBefore(c, n);
                                                          else if (Lb(n, r, !1)) i.insertAfter(c, Ib(n));
                                                          else {
                                                              n = Ib(n);
                                                              var l = a.cloneRange();
                                                              l.setStartAfter(r), l.setEndAfter(n);
                                                              var d = l.extractContents();
                                                              "LI" === o && (u = d).firstChild && "LI" === u.firstChild.nodeName ? ((c = d.firstChild), i.insertAfter(d, n)) : (i.insertAfter(d, n), i.insertAfter(c, n));
                                                          }
                                                          i.remove(r), Db(e, c);
                                                      }
                                                  })(e, T, l, a, p)
                                                : (p && a === e.getBody()) ||
                                                  ((p = p || "P"),
                                                  pa(a)
                                                      ? ((u = Ca(a)), C.isEmpty(a) && Mb(a), zb(e, u), Db(e, u))
                                                      : E()
                                                      ? S()
                                                      : E(!0)
                                                      ? ((u = a.parentNode.insertBefore(T(), a)), Db(e, jb(a, "HR") ? u : a))
                                                      : ((n = ((y = k),
                                                        (w = y.cloneRange()),
                                                        w.setStart(y.startContainer, Ub(!0, y.startContainer, y.startOffset)),
                                                        w.setEnd(y.endContainer, Ub(!1, y.endContainer, y.endOffset)),
                                                        w).cloneRange()).setEndAfter(a),
                                                        (b = c = n.extractContents()),
                                                        V(Hi(ar.fromDom(b), pr), function (e) {
                                                            var t = e.dom();
                                                            t.nodeValue = la(t.nodeValue);
                                                        }),
                                                        (function (e) {
                                                            for (; Io.isText(e) && (e.nodeValue = e.nodeValue.replace(/^[\r\n]+/, "")), (e = e.firstChild); );
                                                        })(c),
                                                        (u = c.firstChild),
                                                        C.insertAfter(c, a),
                                                        (function (e, t, n) {
                                                            var r,
                                                                o = n,
                                                                i = [];
                                                            if (o) {
                                                                for (; (o = o.firstChild); ) {
                                                                    if (e.isBlock(o)) return;
                                                                    Io.isElement(o) && !t[o.nodeName.toLowerCase()] && i.push(o);
                                                                }
                                                                for (r = i.length; r--; )
                                                                    !(o = i[r]).hasChildNodes() || (o.firstChild === o.lastChild && "" === o.firstChild.nodeValue)
                                                                        ? e.remove(o)
                                                                        : ((a = e), (s = o) && "A" === s.nodeName && a.isEmpty(s) && e.remove(o));
                                                                var a, s;
                                                            }
                                                        })(C, _, u),
                                                        (h = C),
                                                        (g = a).normalize(),
                                                        ((v = g.lastChild) && !/^(left|right)$/gi.test(h.getStyle(v, "float", !0))) || h.add(g, "br"),
                                                        C.isEmpty(a) && Mb(a),
                                                        u.normalize(),
                                                        C.isEmpty(u) ? (C.remove(u), S()) : (zb(e, u), Db(e, u))),
                                                  C.setAttrib(u, "id", ""),
                                                  e.fire("NewBlock", { newBlock: u })));
                                },
                                Vb = function (e, t) {
                                    return Rb(e)
                                        .filter(function (e) {
                                            return 0 < t.length && Dr(ar.fromDom(e), t);
                                        })
                                        .isSome();
                                },
                                Wb = Ol([{ br: [] }, { block: [] }, { none: [] }]),
                                Kb = function (e, t) {
                                    return (function (e) {
                                        return Vb(
                                            e,
                                            (function (e) {
                                                return e.getParam("no_newline_selector", "");
                                            })(e)
                                        );
                                    })(e);
                                },
                                Gb = function (e) {
                                    return function (t, n) {
                                        return ("" === Yc(t)) === e;
                                    };
                                },
                                Yb = function (e) {
                                    return function (t, n) {
                                        return (
                                            (function (e) {
                                                return Ob(e)
                                                    .filter(function (e) {
                                                        return wo(ar.fromDom(e));
                                                    })
                                                    .isSome();
                                            })(t) === e
                                        );
                                    };
                                },
                                Xb = function (e, t) {
                                    return function (n, r) {
                                        return (
                                            ((function (e) {
                                                return Ob(e).fold(o(""), function (e) {
                                                    return e.nodeName.toUpperCase();
                                                });
                                            })(n) ===
                                                e.toUpperCase()) ===
                                            t
                                        );
                                    };
                                },
                                Jb = function (e) {
                                    return Xb("pre", e);
                                },
                                Qb = function (e) {
                                    return function (t, n) {
                                        return (
                                            (function (e) {
                                                return e.getParam("br_in_pre", !0);
                                            })(t) === e
                                        );
                                    };
                                },
                                Zb = function (e, t) {
                                    return (function (e) {
                                        return Vb(
                                            e,
                                            (function (e) {
                                                return e.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption");
                                            })(e)
                                        );
                                    })(e);
                                },
                                ey = function (e, t) {
                                    return t;
                                },
                                ty = function (e) {
                                    var t = Yc(e),
                                        n = (function (e, t) {
                                            var n,
                                                r,
                                                o = e.getRoot();
                                            for (n = t; n !== o && "false" !== e.getContentEditable(n); ) "true" === e.getContentEditable(n) && (r = n), (n = n.parentNode);
                                            return n !== o ? r : o;
                                        })(e.dom, e.selection.getStart());
                                    return n && e.schema.isValidChild(n.nodeName, t || "P");
                                },
                                ny = function (e, t) {
                                    return function (n, r) {
                                        return G(
                                            e,
                                            function (e, t) {
                                                return e && t(n, r);
                                            },
                                            !0
                                        )
                                            ? N.some(t)
                                            : N.none();
                                    };
                                },
                                ry = function (e, t) {
                                    (function (e, t) {
                                        return _d(
                                            [
                                                ny([Kb], Wb.none()),
                                                ny([Xb("summary", !0)], Wb.br()),
                                                ny([Jb(!0), Qb(!1), ey], Wb.br()),
                                                ny([Jb(!0), Qb(!1)], Wb.block()),
                                                ny([Jb(!0), Qb(!0), ey], Wb.block()),
                                                ny([Jb(!0), Qb(!0)], Wb.br()),
                                                ny([Yb(!0), ey], Wb.br()),
                                                ny([Yb(!0)], Wb.block()),
                                                ny([Gb(!0), ey, ty], Wb.block()),
                                                ny([Gb(!0)], Wb.br()),
                                                ny([Zb], Wb.br()),
                                                ny([Gb(!1), ey], Wb.br()),
                                                ny([ty], Wb.block()),
                                            ],
                                            [e, t.shiftKey]
                                        ).getOr(Wb.none());
                                    })(e, t).fold(
                                        function () {
                                            Ap(e, t);
                                        },
                                        function () {
                                            qb(e, t);
                                        },
                                        n
                                    );
                                },
                                oy = function (e, t) {
                                    var n = t.container(),
                                        r = t.offset();
                                    return Io.isText(n)
                                        ? (n.insertData(r, e), N.some(cs(n, r + e.length)))
                                        : vu(t).map(function (n) {
                                              var r = ar.fromText(e);
                                              return t.isAtEnd() ? Ni(n, r) : $i(n, r), cs(r.dom(), e.length);
                                          });
                                },
                                iy = a(oy, " "),
                                ay = a(oy, " "),
                                sy = function (e, t, n) {
                                    return Hu.navigateIgnore(e, t, n, ql);
                                },
                                uy = function (e, t) {
                                    return Y(yl(ar.fromDom(t.container()), e), ho);
                                },
                                cy = function (e, t, n) {
                                    return sy(e, t.dom(), n).forall(function (e) {
                                        return uy(t, n).fold(
                                            function () {
                                                return !1 === uu(e, n, t.dom());
                                            },
                                            function (r) {
                                                return !1 === uu(e, n, t.dom()) && Pr(r, ar.fromDom(e.container()));
                                            }
                                        );
                                    });
                                },
                                ly = function (e, t, n) {
                                    return uy(t, n).fold(
                                        function () {
                                            return sy(e, t.dom(), n).forall(function (e) {
                                                return !1 === uu(e, n, t.dom());
                                            });
                                        },
                                        function (t) {
                                            return sy(e, t.dom(), n).isNone();
                                        }
                                    );
                                },
                                dy = a(ly, !1),
                                fy = a(ly, !0),
                                py = a(cy, !1),
                                my = a(cy, !0),
                                hy = function (e) {
                                    return cs.isTextPosition(e) && !e.isAtStart() && !e.isAtEnd();
                                },
                                gy = function (e, t) {
                                    var n = K(yl(ar.fromDom(t.container()), e), ho);
                                    return ee(n).getOr(e);
                                },
                                vy = function (e, t) {
                                    return hy(t) ? zl(t) : zl(t) || Hu.prevPosition(gy(e, t).dom(), t).exists(zl);
                                },
                                by = function (e, t) {
                                    return hy(t) ? Hl(t) : Hl(t) || Hu.nextPosition(gy(e, t).dom(), t).exists(Hl);
                                },
                                yy = function (e) {
                                    return vu(e)
                                        .bind(function (e) {
                                            return Ki(e, fr);
                                        })
                                        .exists(function (e) {
                                            return (t = Tr(e, "white-space")), H(["pre", "pre-wrap"], t);
                                            var t;
                                        });
                                },
                                wy = function (e, t) {
                                    return (
                                        (n = e),
                                        (!yy((r = t)) && (dy(n, r) || py(n, r) || Pl(n, r) || vy(n, r))) ||
                                            (function (e, t) {
                                                var n,
                                                    r,
                                                    o,
                                                    i = ((r = (n = t).container()), (o = n.offset()), Io.isText(r) && o < r.data.length ? cs(r, o + 1) : n);
                                                return !yy(i) && (fy(e, i) || my(e, i) || Bl(e, i) || by(e, i));
                                            })(e, t)
                                    );
                                    var n, r;
                                },
                                Cy = function (e, t) {
                                    return Ml(e.charAt(t));
                                },
                                xy = function (e) {
                                    var t = e.container();
                                    return Io.isText(t) && Yn(t.data, " ");
                                },
                                _y = function (e, t) {
                                    return N.some(t)
                                        .filter(xy)
                                        .bind(function (t) {
                                            var n,
                                                r,
                                                o,
                                                i,
                                                a,
                                                s,
                                                u,
                                                c,
                                                l = t.container();
                                            return (
                                                (a = e),
                                                (u = (s = l).data),
                                                (c = cs(s, 0)),
                                                (Cy(u, 0) && !wy(a, c) && ((s.data = " " + u.slice(1)), 1)) ||
                                                (function (e) {
                                                    var t,
                                                        n = e.data,
                                                        r =
                                                            ((t = n.split("")),
                                                            q(t, function (e, n) {
                                                                return Ml(e) && 0 < n && n < t.length - 1 && Fl(t[n - 1]) && Fl(t[n + 1]) ? " " : e;
                                                            }).join(""));
                                                    return r !== n && ((e.data = r), !0);
                                                })(l) ||
                                                ((n = e), (o = (r = l).data), (i = cs(r, o.length - 1)), Cy(o, o.length - 1) && !wy(n, i) && ((r.data = o.slice(0, -1) + " "), 1))
                                                    ? N.some(t)
                                                    : N.none()
                                            );
                                        });
                                },
                                ky = function (e) {
                                    var t = ar.fromDom(e.getBody());
                                    e.selection.isCollapsed() &&
                                        _y(t, cs.fromRangeStart(e.selection.getRng())).each(function (t) {
                                            e.selection.setRng(t.toRange());
                                        });
                                },
                                Ty = function (e, t) {
                                    return function (n) {
                                        return (
                                            (r = e),
                                            !yy((o = n)) &&
                                            ((function (e, t) {
                                                return (o = e), (i = t), Hu.prevPosition(o.dom(), i).isNone() || ((n = e), (r = t), Hu.nextPosition(n.dom(), r).isNone()) || dy(e, t) || fy(e, t) || Pl(e, t) || Bl(e, t);
                                                var n, r, o, i;
                                            })(r, o) ||
                                                vy(r, o) ||
                                                by(r, o))
                                                ? iy(t)
                                                : ay(t)
                                        );
                                        var r, o;
                                    };
                                },
                                Ey = function (e) {
                                    var t,
                                        n,
                                        r = fs.fromRangeStart(e.selection.getRng()),
                                        o = ar.fromDom(e.getBody());
                                    if (e.selection.isCollapsed()) {
                                        var i = a(il.isInlineTarget, e),
                                            s = fs.fromRangeStart(e.selection.getRng());
                                        return Ud(i, e.getBody(), s)
                                            .bind(
                                                ((n = o),
                                                function (e) {
                                                    return e.fold(
                                                        function (e) {
                                                            return Hu.prevPosition(n.dom(), fs.before(e));
                                                        },
                                                        function (e) {
                                                            return Hu.firstPositionIn(e);
                                                        },
                                                        function (e) {
                                                            return Hu.lastPositionIn(e);
                                                        },
                                                        function (e) {
                                                            return Hu.nextPosition(n.dom(), fs.after(e));
                                                        }
                                                    );
                                                })
                                            )
                                            .bind(Ty(o, r))
                                            .exists(
                                                ((t = e),
                                                function (e) {
                                                    return t.selection.setRng(e.toRange()), t.nodeChanged(), !0;
                                                })
                                            );
                                    }
                                    return !1;
                                },
                                Sy = function (e, t) {
                                    var n;
                                    t.hasAttribute("data-mce-caret") && (Ca(t), (n = e).selection.setRng(n.selection.getRng()), e.selection.scrollIntoView(t));
                                },
                                $y = function (e, t) {
                                    var n,
                                        r =
                                            ((n = e),
                                            Yi(ar.fromDom(n.getBody()), "*[data-mce-caret]").fold(o(null), function (e) {
                                                return e.dom();
                                            }));
                                    if (r) return "compositionstart" === t.type ? (t.preventDefault(), t.stopPropagation(), void Sy(e, r)) : void (ga(r) && (Sy(e, r), e.undoManager.add()));
                                },
                                Ny = or.detect().browser,
                                Ay = function (e) {
                                    var t = Qd.setupSelectedState(e);
                                    (function (e) {
                                        e.on("keyup compositionstart", a($y, e));
                                    })(e),
                                        (function (e, t) {
                                            e.on("keydown", function (n) {
                                                var r, o, i, a;
                                                !1 === n.isDefaultPrevented() &&
                                                    ((r = e),
                                                    (o = t),
                                                    (i = n),
                                                    (a = or.detect().os),
                                                    Ab(
                                                        [
                                                            { keyCode: _h.RIGHT, action: db(r, !0) },
                                                            { keyCode: _h.LEFT, action: db(r, !1) },
                                                            { keyCode: _h.UP, action: fb(r, !1) },
                                                            { keyCode: _h.DOWN, action: fb(r, !0) },
                                                            { keyCode: _h.RIGHT, action: xb(r, !0) },
                                                            { keyCode: _h.LEFT, action: xb(r, !1) },
                                                            { keyCode: _h.UP, action: _b(r, !1) },
                                                            { keyCode: _h.DOWN, action: _b(r, !0) },
                                                            { keyCode: _h.RIGHT, action: Qd.move(r, o, !0) },
                                                            { keyCode: _h.LEFT, action: Qd.move(r, o, !1) },
                                                            { keyCode: _h.RIGHT, ctrlKey: !a.isOSX(), altKey: a.isOSX(), action: Qd.moveNextWord(r, o) },
                                                            { keyCode: _h.LEFT, ctrlKey: !a.isOSX(), altKey: a.isOSX(), action: Qd.movePrevWord(r, o) },
                                                            { keyCode: _h.UP, action: $b(r, !1) },
                                                            { keyCode: _h.DOWN, action: $b(r, !0) },
                                                        ],
                                                        i
                                                    ).each(function (e) {
                                                        i.preventDefault();
                                                    }));
                                            });
                                        })(e, t),
                                        (function (e, t) {
                                            e.on("keydown", function (n) {
                                                var r, o, i;
                                                !1 === n.isDefaultPrevented() &&
                                                    ((r = e),
                                                    (o = t),
                                                    (i = n),
                                                    Ab(
                                                        [
                                                            { keyCode: _h.BACKSPACE, action: Nb(dd, r, !1) },
                                                            { keyCode: _h.DELETE, action: Nb(dd, r, !0) },
                                                            { keyCode: _h.BACKSPACE, action: Nb(sp, r, !1) },
                                                            { keyCode: _h.DELETE, action: Nb(sp, r, !0) },
                                                            { keyCode: _h.BACKSPACE, action: Nb(tf, r, o, !1) },
                                                            { keyCode: _h.DELETE, action: Nb(tf, r, o, !0) },
                                                            { keyCode: _h.BACKSPACE, action: Nb($f, r, !1) },
                                                            { keyCode: _h.DELETE, action: Nb($f, r, !0) },
                                                            { keyCode: _h.BACKSPACE, action: Nb(Al, r, !1) },
                                                            { keyCode: _h.DELETE, action: Nb(Al, r, !0) },
                                                            { keyCode: _h.BACKSPACE, action: Nb(Sl, r, !1) },
                                                            { keyCode: _h.DELETE, action: Nb(Sl, r, !0) },
                                                            { keyCode: _h.BACKSPACE, action: Nb(Jf, r, !1) },
                                                            { keyCode: _h.DELETE, action: Nb(Jf, r, !0) },
                                                        ],
                                                        i
                                                    ).each(function (e) {
                                                        i.preventDefault();
                                                    }));
                                            }),
                                                e.on("keyup", function (t) {
                                                    var n, r;
                                                    !1 === t.isDefaultPrevented() &&
                                                        ((n = e),
                                                        (r = t),
                                                        Ab(
                                                            [
                                                                { keyCode: _h.BACKSPACE, action: Nb(fd, n) },
                                                                { keyCode: _h.DELETE, action: Nb(fd, n) },
                                                            ],
                                                            r
                                                        ));
                                                });
                                        })(e, t),
                                        (function (e) {
                                            e.on("keydown", function (t) {
                                                var n, r, o;
                                                t.keyCode === _h.ENTER &&
                                                    ((n = e),
                                                    (r = t).isDefaultPrevented() ||
                                                        (r.preventDefault(),
                                                        (o = n.undoManager).typing && ((o.typing = !1), o.add()),
                                                        n.undoManager.transact(function () {
                                                            !1 === n.selection.isCollapsed() && n.execCommand("Delete"), ry(n, r);
                                                        })));
                                            });
                                        })(e),
                                        (function (e) {
                                            e.on("keydown", function (t) {
                                                var n, r;
                                                !1 === t.isDefaultPrevented() &&
                                                    ((n = e),
                                                    (r = t),
                                                    Ab([{ keyCode: _h.SPACEBAR, action: Nb(Ey, n) }], r).each(function (e) {
                                                        r.preventDefault();
                                                    }));
                                            });
                                        })(e),
                                        (function (e) {
                                            var t, n;
                                            (t = e),
                                                (n = Ii(function () {
                                                    t.composing || ky(t);
                                                }, 0)),
                                                Ny.isIE() &&
                                                    (t.on("keypress", function (e) {
                                                        n.throttle();
                                                    }),
                                                    t.on("remove", function (e) {
                                                        n.cancel();
                                                    })),
                                                e.on("input", function (t) {
                                                    !1 === t.isComposing && ky(e);
                                                });
                                        })(e),
                                        (function (e) {
                                            e.on("keydown", function (t) {
                                                var n, r;
                                                !1 === t.isDefaultPrevented() &&
                                                    ((n = e),
                                                    (r = t),
                                                    Ab(
                                                        [
                                                            { keyCode: _h.END, action: pb(n, !0) },
                                                            { keyCode: _h.HOME, action: pb(n, !1) },
                                                        ],
                                                        r
                                                    ).each(function (e) {
                                                        r.preventDefault();
                                                    }));
                                            });
                                        })(e);
                                };
                            var Oy = function (e) {
                                    return Io.isElement(e) && bo(ar.fromDom(e));
                                },
                                Dy = yi.DOM,
                                Ry = function (e) {
                                    var t;
                                    e.bindPendingEventDelegates(),
                                        (e.initialized = !0),
                                        e.fire("init"),
                                        e.focus(!0),
                                        e.nodeChanged({ initial: !0 }),
                                        e.execCallback("init_instance_callback", e),
                                        (t = e).settings.auto_focus &&
                                            ve.setEditorTimeout(
                                                t,
                                                function () {
                                                    var e;
                                                    (e = !0 === t.settings.auto_focus ? t : t.editorManager.get(t.settings.auto_focus)).destroyed || e.focus();
                                                },
                                                100
                                            );
                                },
                                By = function (e, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f = e.settings,
                                        p = e.getElement(),
                                        m = e.getDoc();
                                    f.inline || (e.getElement().style.visibility = e.orgVisibility),
                                        n || f.content_editable || (m.open(), m.write(e.iframeHTML), m.close()),
                                        f.content_editable &&
                                            (e.on("remove", function () {
                                                var e = this.getBody();
                                                Dy.removeClass(e, "mce-content-body"), Dy.removeClass(e, "mce-edit-focus"), Dy.setAttrib(e, "contentEditable", null);
                                            }),
                                            Dy.addClass(p, "mce-content-body"),
                                            (e.contentDocument = m = f.content_document || t.document),
                                            (e.contentWindow = f.content_window || t.window),
                                            (e.bodyElement = p),
                                            (f.content_document = f.content_window = null),
                                            (f.root_name = p.nodeName.toLowerCase())),
                                        ((r = e.getBody()).disabled = !0),
                                        (e.readonly = f.readonly),
                                        e.readonly || (e.inline && "static" === Dy.getStyle(r, "position", !0) && (r.style.position = "relative"), (r.contentEditable = e.getParam("content_editable_state", !0))),
                                        (r.disabled = !1),
                                        (e.editorUpload = dh(e)),
                                        (e.schema = si(f)),
                                        (e.dom = yi(m, {
                                            keep_values: !0,
                                            url_converter: e.convertURL,
                                            url_converter_scope: e,
                                            hex_colors: f.force_hex_style_colors,
                                            class_filter: f.class_filter,
                                            update_styles: !0,
                                            root_element: e.inline ? e.getBody() : null,
                                            collect: f.content_editable,
                                            schema: e.schema,
                                            contentCssCors: rl(e),
                                            onSetAttrib: function (t) {
                                                e.fire("SetAttrib", t);
                                            },
                                        })),
                                        (e.parser =
                                            ((a = bv((i = e).settings, i.schema)).addAttributeFilter("src,href,style,tabindex", function (e, t) {
                                                for (var n, r, o, a = e.length, s = i.dom; a--; )
                                                    if (((r = (n = e[a]).attr(t)), (o = "data-mce-" + t), !n.attributes.map[o])) {
                                                        if (0 === r.indexOf("data:") || 0 === r.indexOf("blob:")) continue;
                                                        "style" === t
                                                            ? ((r = s.serializeStyle(s.parseStyle(r), n.name)).length || (r = null), n.attr(o, r), n.attr(t, r))
                                                            : "tabindex" === t
                                                            ? (n.attr(o, r), n.attr(t, null))
                                                            : n.attr(o, i.convertURL(r, t, n.name));
                                                    }
                                            }),
                                            a.addNodeFilter("script", function (e) {
                                                for (var t, n, r = e.length; r--; ) 0 !== (n = (t = e[r]).attr("type") || "no/type").indexOf("mce-") && t.attr("type", "mce-" + n);
                                            }),
                                            a.addNodeFilter("#cdata", function (e) {
                                                for (var t, n = e.length; n--; ) ((t = e[n]).type = 8), (t.name = "#comment"), (t.value = "[CDATA[" + t.value + "]]");
                                            }),
                                            a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function (e) {
                                                for (var t, n = e.length, r = i.schema.getNonEmptyElements(); n--; ) (t = e[n]).isEmpty(r) && 0 === t.getAll("br").length && (t.append(new sv("br", 1)).shortEnded = !0);
                                            }),
                                            a)),
                                        (e.serializer = wv(f, e)),
                                        (e.selection = Qv(e.dom, e.getWin(), e.serializer, e)),
                                        (e.annotator = Ac(e)),
                                        (e.formatter = Yg(e)),
                                        (e.undoManager = fg(e)),
                                        (e._nodeChangeDispatcher = new wh(e)),
                                        (e._selectionOverrides = Yh(e)),
                                        (function (e) {
                                            var t, n;
                                            (t = e).on("click", function (e) {
                                                t.dom.getParent(e.target, "details") && e.preventDefault();
                                            }),
                                                (n = e).parser.addNodeFilter("details", function (e) {
                                                    V(e, function (e) {
                                                        e.attr("data-mce-open", e.attr("open")), e.attr("open", "open");
                                                    });
                                                }),
                                                n.serializer.addNodeFilter("details", function (e) {
                                                    V(e, function (e) {
                                                        var t = e.attr("data-mce-open");
                                                        e.attr("open", O(t) ? t : null), e.attr("data-mce-open", null);
                                                    });
                                                });
                                        })(e),
                                        (function (e) {
                                            e.on("click", function (t) {
                                                3 <= t.detail &&
                                                    (function (e) {
                                                        var t = e.selection.getRng(),
                                                            n = cs.fromRangeStart(t),
                                                            r = cs.fromRangeEnd(t);
                                                        if (cs.isElementPosition(n)) {
                                                            var o = n.container();
                                                            Oy(o) &&
                                                                Hu.firstPositionIn(o).each(function (e) {
                                                                    return t.setStart(e.container(), e.offset());
                                                                });
                                                        }
                                                        cs.isElementPosition(r) &&
                                                            ((o = n.container()),
                                                            Oy(o) &&
                                                                Hu.lastPositionIn(o).each(function (e) {
                                                                    return t.setEnd(e.container(), e.offset());
                                                                })),
                                                            e.selection.setRng(Hc(t));
                                                    })(e);
                                            });
                                        })(e),
                                        Ay(e),
                                        hh(e),
                                        e.fire("PreInit"),
                                        f.browser_spellcheck || f.gecko_spellcheck || ((m.body.spellcheck = !1), Dy.setAttrib(r, "spellcheck", "false")),
                                        (e.quirks = (function (e) {
                                            var n,
                                                r,
                                                o,
                                                i = Yt.each,
                                                a = _h.BACKSPACE,
                                                s = _h.DELETE,
                                                u = e.dom,
                                                c = e.selection,
                                                l = e.settings,
                                                d = e.parser,
                                                f = fe.gecko,
                                                p = fe.ie,
                                                m = fe.webkit,
                                                h = "data:text/mce-internal,",
                                                g = p ? "Text" : "URL",
                                                v = function (t, n) {
                                                    try {
                                                        e.getDoc().execCommand(t, !1, n);
                                                    } catch (e) {}
                                                },
                                                b = function (e) {
                                                    return e.isDefaultPrevented();
                                                },
                                                y = function () {
                                                    e.shortcuts.add("meta+a", null, "SelectAll");
                                                },
                                                w = function () {
                                                    e.on("keydown", function (e) {
                                                        if (!b(e) && e.keyCode === a && c.isCollapsed() && 0 === c.getRng().startOffset) {
                                                            var t = c.getNode().previousSibling;
                                                            if (t && t.nodeName && "table" === t.nodeName.toLowerCase()) return e.preventDefault(), !1;
                                                        }
                                                    });
                                                },
                                                C = function () {
                                                    e.inline ||
                                                        (e.contentStyles.push("body {min-height: 150px}"),
                                                        e.on("click", function (t) {
                                                            var n;
                                                            if ("HTML" === t.target.nodeName) {
                                                                if (11 < fe.ie) return void e.getBody().focus();
                                                                (n = e.selection.getRng()), e.getBody().focus(), e.selection.setRng(n), e.selection.normalize(), e.nodeChanged();
                                                            }
                                                        }));
                                                };
                                            return (
                                                e.on("keydown", function (t) {
                                                    var n, r, o, i, a;
                                                    if (!b(t) && t.keyCode === _h.BACKSPACE && ((r = (n = c.getRng()).startContainer), (o = n.startOffset), (i = u.getRoot()), (a = r), n.collapsed && 0 === o)) {
                                                        for (; a && a.parentNode && a.parentNode.firstChild === a && a.parentNode !== i; ) a = a.parentNode;
                                                        "BLOCKQUOTE" === a.tagName && (e.formatter.toggle("blockquote", null, a), (n = u.createRng()).setStart(r, 0), n.setEnd(r, 0), c.setRng(n));
                                                    }
                                                }),
                                                (n = function (e) {
                                                    var t = u.create("body"),
                                                        n = e.cloneContents();
                                                    return t.appendChild(n), c.serializer.serialize(t, { format: "html" });
                                                }),
                                                e.on("keydown", function (t) {
                                                    var r,
                                                        o,
                                                        i,
                                                        c,
                                                        l,
                                                        d = t.keyCode;
                                                    if (!b(t) && (d === s || d === a)) {
                                                        if (((r = e.selection.isCollapsed()), (o = e.getBody()), r && !u.isEmpty(o))) return;
                                                        if (!r && ((i = e.selection.getRng()), (c = n(i)), (l = u.createRng()).selectNode(e.getBody()), c !== n(l))) return;
                                                        t.preventDefault(), e.setContent(""), o.firstChild && u.isBlock(o.firstChild) ? e.selection.setCursorLocation(o.firstChild, 0) : e.selection.setCursorLocation(o, 0), e.nodeChanged();
                                                    }
                                                }),
                                                fe.windowsPhone ||
                                                    e.on(
                                                        "keyup focusin mouseup",
                                                        function (e) {
                                                            _h.modifierPressed(e) || c.normalize();
                                                        },
                                                        !0
                                                    ),
                                                m &&
                                                    (e.settings.content_editable ||
                                                        u.bind(e.getDoc(), "mousedown mouseup", function (t) {
                                                            var n;
                                                            if (t.target === e.getDoc().documentElement)
                                                                if (((n = c.getRng()), e.getBody().focus(), "mousedown" === t.type)) {
                                                                    if (ha(n.startContainer)) return;
                                                                    c.placeCaretAt(t.clientX, t.clientY);
                                                                } else c.setRng(n);
                                                        }),
                                                    e.on("click", function (t) {
                                                        var n = t.target;
                                                        /^(IMG|HR)$/.test(n.nodeName) && "false" !== u.getContentEditableParent(n) && (t.preventDefault(), e.selection.select(n), e.nodeChanged()),
                                                            "A" === n.nodeName && u.hasClass(n, "mce-item-anchor") && (t.preventDefault(), c.select(n));
                                                    }),
                                                    l.forced_root_block &&
                                                        e.on("init", function () {
                                                            v("DefaultParagraphSeparator", l.forced_root_block);
                                                        }),
                                                    e.on("init", function () {
                                                        e.dom.bind(e.getBody(), "submit", function (e) {
                                                            e.preventDefault();
                                                        });
                                                    }),
                                                    w(),
                                                    d.addNodeFilter("br", function (e) {
                                                        for (var t = e.length; t--; ) "Apple-interchange-newline" === e[t].attr("class") && e[t].remove();
                                                    }),
                                                    fe.iOS
                                                        ? (e.inline ||
                                                              e.on("keydown", function () {
                                                                  t.document.activeElement === t.document.body && e.getWin().focus();
                                                              }),
                                                          C(),
                                                          e.on("click", function (e) {
                                                              var t = e.target;
                                                              do {
                                                                  if ("A" === t.tagName) return void e.preventDefault();
                                                              } while ((t = t.parentNode));
                                                          }),
                                                          e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}"))
                                                        : y()),
                                                11 <= fe.ie && (C(), w()),
                                                fe.ie &&
                                                    (y(),
                                                    v("AutoUrlDetect", !1),
                                                    e.on("dragstart", function (t) {
                                                        var n, r, o;
                                                        (n = t).dataTransfer &&
                                                            (e.selection.isCollapsed() && "IMG" === n.target.tagName && c.select(n.target),
                                                            0 < (r = e.selection.getContent()).length && ((o = h + escape(e.id) + "," + escape(r)), n.dataTransfer.setData(g, o)));
                                                    }),
                                                    e.on("drop", function (t) {
                                                        if (!b(t)) {
                                                            var n = (i = t).dataTransfer && (a = i.dataTransfer.getData(g)) && 0 <= a.indexOf(h) ? ((a = a.substr(23).split(",")), { id: unescape(a[0]), html: unescape(a[1]) }) : null;
                                                            if (n && n.id !== e.id) {
                                                                t.preventDefault();
                                                                var r = Nv(t.x, t.y, e.getDoc());
                                                                c.setRng(r),
                                                                    (o = n.html),
                                                                    e.queryCommandSupported("mceInsertClipboardContent")
                                                                        ? e.execCommand("mceInsertClipboardContent", !1, { content: o, internal: !0 })
                                                                        : e.execCommand("mceInsertContent", !1, o);
                                                            }
                                                        }
                                                        var o, i, a;
                                                    })),
                                                f &&
                                                    (e.on("keydown", function (t) {
                                                        if (!b(t) && t.keyCode === a) {
                                                            if (!e.getBody().getElementsByTagName("hr").length) return;
                                                            if (c.isCollapsed() && 0 === c.getRng().startOffset) {
                                                                var n = c.getNode(),
                                                                    r = n.previousSibling;
                                                                if ("HR" === n.nodeName) return u.remove(n), void t.preventDefault();
                                                                r && r.nodeName && "hr" === r.nodeName.toLowerCase() && (u.remove(r), t.preventDefault());
                                                            }
                                                        }
                                                    }),
                                                    t.Range.prototype.getClientRects ||
                                                        e.on("mousedown", function (t) {
                                                            if (!b(t) && "HTML" === t.target.nodeName) {
                                                                var n = e.getBody();
                                                                n.blur(),
                                                                    ve.setEditorTimeout(e, function () {
                                                                        n.focus();
                                                                    });
                                                            }
                                                        }),
                                                    (r = function () {
                                                        var t = u.getAttribs(c.getStart().cloneNode(!1));
                                                        return function () {
                                                            var n = c.getStart();
                                                            n !== e.getBody() &&
                                                                (u.setAttrib(n, "style", null),
                                                                i(t, function (e) {
                                                                    n.setAttributeNode(e.cloneNode(!0));
                                                                }));
                                                        };
                                                    }),
                                                    (o = function () {
                                                        return !c.isCollapsed() && u.getParent(c.getStart(), u.isBlock) !== u.getParent(c.getEnd(), u.isBlock);
                                                    }),
                                                    e.on("keypress", function (t) {
                                                        var n;
                                                        if (!b(t) && (8 === t.keyCode || 46 === t.keyCode) && o()) return (n = r()), e.getDoc().execCommand("delete", !1, null), n(), t.preventDefault(), !1;
                                                    }),
                                                    u.bind(e.getDoc(), "cut", function (t) {
                                                        var n;
                                                        !b(t) &&
                                                            o() &&
                                                            ((n = r()),
                                                            ve.setEditorTimeout(e, function () {
                                                                n();
                                                            }));
                                                    }),
                                                    l.readonly ||
                                                        e.on("BeforeExecCommand MouseDown", function () {
                                                            v("StyleWithCSS", !1), v("enableInlineTableEditing", !1), l.object_resizing || v("enableObjectResizing", !1);
                                                        }),
                                                    e.on("SetContent ExecCommand", function (e) {
                                                        ("setcontent" !== e.type && "mceInsertLink" !== e.command) ||
                                                            i(u.select("a"), function (e) {
                                                                var t = e.parentNode,
                                                                    n = u.getRoot();
                                                                if (t.lastChild === e) {
                                                                    for (; t && !u.isBlock(t); ) {
                                                                        if (t.parentNode.lastChild !== t || t === n) return;
                                                                        t = t.parentNode;
                                                                    }
                                                                    u.add(t, "br", { "data-mce-bogus": 1 });
                                                                }
                                                            });
                                                    }),
                                                    e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),
                                                    fe.mac &&
                                                        e.on("keydown", function (t) {
                                                            !_h.metaKeyPressed(t) ||
                                                                t.shiftKey ||
                                                                (37 !== t.keyCode && 39 !== t.keyCode) ||
                                                                (t.preventDefault(), e.selection.getSel().modify("move", 37 === t.keyCode ? "backward" : "forward", "lineboundary"));
                                                        }),
                                                    w()),
                                                {
                                                    refreshContentEditable: function () {},
                                                    isHidden: function () {
                                                        var t;
                                                        return !f || e.removed ? 0 : !(t = e.selection.getSel()) || !t.rangeCount || 0 === t.rangeCount;
                                                    },
                                                }
                                            );
                                        })(e)),
                                        e.fire("PostRender"),
                                        f.directionality && (r.dir = f.directionality),
                                        f.nowrap && (r.style.whiteSpace = "nowrap"),
                                        f.protect &&
                                            e.on("BeforeSetContent", function (e) {
                                                Yt.each(f.protect, function (t) {
                                                    e.content = e.content.replace(t, function (e) {
                                                        return "\x3c!--mce:protected " + escape(e) + "--\x3e";
                                                    });
                                                });
                                            }),
                                        e.on("SetContent", function () {
                                            e.addVisual(e.getBody());
                                        }),
                                        e.load({ initial: !0, format: "html" }),
                                        (e.startContent = e.getContent({ format: "raw" })),
                                        e.on("compositionstart compositionend", function (t) {
                                            e.composing = "compositionstart" === t.type;
                                        }),
                                        0 < e.contentStyles.length &&
                                            ((o = ""),
                                            Yt.each(e.contentStyles, function (e) {
                                                o += e + "\r\n";
                                            }),
                                            e.dom.addStyle(o)),
                                        ((s = e), s.inline ? Dy.styleSheetLoader : s.dom.styleSheetLoader).loadAll(
                                            e.contentCSS,
                                            function (t) {
                                                Ry(e);
                                            },
                                            function (t) {
                                                Ry(e);
                                            }
                                        ),
                                        f.content_style && ((u = e), (c = f.content_style), (l = ar.fromDom(u.getDoc().head)), (d = ar.fromTag("style")), Cr(d, "type", "text/css"), Oi(d, ar.fromText(c)), Oi(l, d));
                                },
                                Py = yi.DOM,
                                Iy = function (e, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l = e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),
                                        d = ((r = e.id),
                                        (o = l),
                                        (i = n.height),
                                        (a = (function (e) {
                                            return e.getParam("iframe_attrs", {});
                                        })(e)),
                                        (c = ar.fromTag("iframe")),
                                        xr(c, a),
                                        xr(c, { id: r + "_ifr", frameBorder: "0", allowTransparency: "true", title: o }),
                                        (function (e, n) {
                                            var r = e.dom();
                                            gr(n, function (e, n) {
                                                !(function (e, n, r) {
                                                    if (!O(r)) throw (t.console.error("Invalid call to CSS.set. Property ", n, ":: Value ", r, ":: Element ", e), new Error("CSS value must be a string: " + r));
                                                    yr(e) && e.style.setProperty(n, r);
                                                })(r, n, e);
                                            });
                                        })(c, { width: "100%", height: ((s = i), (u = "number" == typeof s ? s + "px" : s), u || ""), display: "block" }),
                                        c).dom();
                                    d.onload = function () {
                                        (d.onload = null), e.fire("load");
                                    };
                                    var f,
                                        p,
                                        m,
                                        h,
                                        g = (function (e, n) {
                                            if (t.document.domain !== t.window.location.hostname && fe.ie && fe.ie < 12) {
                                                var r = lh.uuid("mce");
                                                e[r] = function () {
                                                    By(e);
                                                };
                                                var o =
                                                    'javascript:(function(){document.open();document.domain="' +
                                                    t.document.domain +
                                                    '";var ed = window.parent.tinymce.get("' +
                                                    e.id +
                                                    '");document.write(ed.iframeHTML);document.close();ed.' +
                                                    r +
                                                    "(true);})()";
                                                return Py.setAttrib(n, "src", o), !0;
                                            }
                                            return !1;
                                        })(e, d);
                                    return (
                                        (e.contentAreaContainer = n.iframeContainer),
                                        (e.iframeElement = d),
                                        (e.iframeHTML =
                                            ((h =
                                                (function (e) {
                                                    return e.getParam("doctype", "<!DOCTYPE html>");
                                                })((f = e)) + "<html><head>"),
                                            (function (e) {
                                                return e.getParam("document_base_url", "");
                                            })(f) !== f.documentBaseUrl && (h += '<base href="' + f.documentBaseURI.getURI() + '" />'),
                                            (h += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />'),
                                            (p = (function (e) {
                                                return Kc(e, "body_id", "tinymce");
                                            })(f)),
                                            (m = (function (e) {
                                                return Kc(e, "body_class", "");
                                            })(f)),
                                            Gc(f) && (h += '<meta http-equiv="Content-Security-Policy" content="' + Gc(f) + '" />'),
                                            (h += '</head><body id="' + p + '" class="mce-content-body ' + m + '" data-id="' + f.id + '"><br></body></html>'))),
                                        Py.add(n.iframeContainer, d),
                                        g
                                    );
                                },
                                Ly = yi.DOM,
                                My = function (e, t, n) {
                                    var r = Qm.get(n),
                                        o = Qm.urls[n] || e.documentBaseUrl.replace(/\/$/, "");
                                    if (((n = Yt.trim(n)), r && -1 === Yt.inArray(t, n))) {
                                        if (
                                            (Yt.each(Qm.dependencies(n), function (n) {
                                                My(e, t, n);
                                            }),
                                            e.plugins[n])
                                        )
                                            return;
                                        try {
                                            var i = new r(e, o, e.$);
                                            (e.plugins[n] = i).init && (i.init(e, o), t.push(n));
                                        } catch (t) {
                                            Jm.pluginInitError(e, n, t);
                                        }
                                    }
                                },
                                jy = function (e) {
                                    return e.replace(/^\-/, "");
                                },
                                Fy = function (e) {
                                    return { editorContainer: e, iframeContainer: e };
                                },
                                Uy = function (e) {
                                    var t,
                                        n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l,
                                        d,
                                        f = e.settings,
                                        p = e.getElement();
                                    return (
                                        (e.orgDisplay = p.style.display),
                                        O(f.theme)
                                            ? ((l = (o = e).settings),
                                              (d = o.getElement()),
                                              (i = l.width || Ly.getStyle(d, "width") || "100%"),
                                              (a = l.height || Ly.getStyle(d, "height") || d.offsetHeight),
                                              (s = l.min_height || 100),
                                              (u = /^[0-9\.]+(|px)$/i).test("" + i) && (i = Math.max(parseInt(i, 10), 100)),
                                              u.test("" + a) && (a = Math.max(parseInt(a, 10), s)),
                                              (c = o.theme.renderUI({ targetNode: d, width: i, height: a, deltaWidth: l.delta_width, deltaHeight: l.delta_height })),
                                              l.content_editable || ((a = (c.iframeHeight || a) + ("number" == typeof a ? c.deltaHeight || 0 : "")) < s && (a = s)),
                                              (c.height = a),
                                              c)
                                            : I(f.theme)
                                            ? ((r = (t = e).getElement()),
                                              (n = t.settings.theme(t, r)).editorContainer.nodeType && (n.editorContainer.id = n.editorContainer.id || t.id + "_parent"),
                                              n.iframeContainer && n.iframeContainer.nodeType && (n.iframeContainer.id = n.iframeContainer.id || t.id + "_iframecontainer"),
                                              (n.height = n.iframeHeight ? n.iframeHeight : r.offsetHeight),
                                              n)
                                            : (function (e) {
                                                  var t,
                                                      n,
                                                      r = e.getElement();
                                                  return e.inline ? Fy(null) : ((t = r), (n = Ly.create("div")), Ly.insertAfter(n, t), Fy(n));
                                              })(e)
                                    );
                                },
                                Hy = function (e) {
                                    var t,
                                        n,
                                        r,
                                        o,
                                        i,
                                        a,
                                        s = e.settings,
                                        u = e.getElement();
                                    return (
                                        (e.rtl = s.rtl_ui || e.editorManager.i18n.rtl),
                                        e.editorManager.i18n.setCode(s.language),
                                        (s.aria_label = s.aria_label || Ly.getAttrib(u, "aria-label", e.getLang("aria.rich_text_area"))),
                                        e.fire("ScriptsLoaded"),
                                        (o = (n = e).settings.theme),
                                        O(o) ? ((n.settings.theme = jy(o)), (r = Zm.get(o)), (n.theme = new r(n, Zm.urls[o])), n.theme.init && n.theme.init(n, Zm.urls[o] || n.documentBaseUrl.replace(/\/$/, ""), n.$)) : (n.theme = {}),
                                        (i = e),
                                        (a = []),
                                        Yt.each(i.settings.plugins.split(/[ ,]/), function (e) {
                                            My(i, a, jy(e));
                                        }),
                                        (t = Uy(e)),
                                        (e.editorContainer = t.editorContainer ? t.editorContainer : null),
                                        s.content_css &&
                                            Yt.each(Yt.explode(s.content_css), function (t) {
                                                e.contentCSS.push(e.documentBaseURI.toAbsolute(t));
                                            }),
                                        s.content_editable
                                            ? By(e)
                                            : (function (e, t) {
                                                  var n = Iy(e, t);
                                                  t.editorContainer && ((Py.get(t.editorContainer).style.display = e.orgDisplay), (e.hidden = Py.isHidden(t.editorContainer))),
                                                      (e.getElement().style.display = "none"),
                                                      Py.setAttrib(e.id, "aria-hidden", "true"),
                                                      n || By(e);
                                              })(e, t)
                                    );
                                },
                                zy = yi.DOM,
                                qy = function (e) {
                                    return "-" === e.charAt(0);
                                },
                                Vy = function (e) {
                                    var n = e.settings,
                                        r = e.id,
                                        o = function () {
                                            zy.unbind(t.window, "ready", o), e.render();
                                        };
                                    if (Ee.Event.domLoaded) {
                                        if (e.getElement() && fe.contentEditable) {
                                            n.inline ? (e.inline = !0) : ((e.orgVisibility = e.getElement().style.visibility), (e.getElement().style.visibility = "hidden"));
                                            var i = e.getElement().form || zy.getParent(r, "form");
                                            i &&
                                                ((e.formElement = i),
                                                n.hidden_input && !/TEXTAREA|INPUT/i.test(e.getElement().nodeName) && (zy.insertAfter(zy.create("input", { type: "hidden", name: r }), r), (e.hasHiddenInput = !0)),
                                                (e.formEventDelegate = function (t) {
                                                    e.fire(t.type, t);
                                                }),
                                                zy.bind(i, "submit reset", e.formEventDelegate),
                                                e.on("reset", function () {
                                                    e.setContent(e.startContent, { format: "raw" });
                                                }),
                                                !n.submit_patch ||
                                                    i.submit.nodeType ||
                                                    i.submit.length ||
                                                    i._mceOldSubmit ||
                                                    ((i._mceOldSubmit = i.submit),
                                                    (i.submit = function () {
                                                        return e.editorManager.triggerSave(), e.setDirty(!1), i._mceOldSubmit(i);
                                                    }))),
                                                (e.windowManager = zm(e)),
                                                (e.notificationManager = Hm(e)),
                                                "xml" === n.encoding &&
                                                    e.on("GetContent", function (e) {
                                                        e.save && (e.content = zy.encode(e.content));
                                                    }),
                                                n.add_form_submit_trigger &&
                                                    e.on("submit", function () {
                                                        e.initialized && e.save();
                                                    }),
                                                n.add_unload_trigger &&
                                                    ((e._beforeUnload = function () {
                                                        !e.initialized || e.destroyed || e.isHidden() || e.save({ format: "raw", no_events: !0, set_dirty: !1 });
                                                    }),
                                                    e.editorManager.on("BeforeUnload", e._beforeUnload)),
                                                e.editorManager.add(e),
                                                (function (e, t) {
                                                    var n = ki.ScriptLoader;
                                                    !(function (e, t, n, r) {
                                                        var o = t.settings,
                                                            i = o.theme;
                                                        if (O(i)) {
                                                            if (!qy(i) && !Zm.urls.hasOwnProperty(i)) {
                                                                var a = o.theme_url;
                                                                a ? Zm.load(i, t.documentBaseURI.toAbsolute(a)) : Zm.load(i, "themes/" + i + "/theme" + n + ".js");
                                                            }
                                                            e.loadQueue(function () {
                                                                Zm.waitFor(i, r);
                                                            });
                                                        } else r();
                                                    })(n, e, t, function () {
                                                        var r, o, i, a, s;
                                                        (r = n),
                                                            (i = (o = e).settings).language && "en" !== i.language && !i.language_url && (i.language_url = o.editorManager.baseURL + "/langs/" + i.language + ".js"),
                                                            i.language_url && !o.editorManager.i18n.data[i.language] && r.add(i.language_url),
                                                            (a = e.settings),
                                                            (s = t),
                                                            Yt.isArray(a.plugins) && (a.plugins = a.plugins.join(" ")),
                                                            Yt.each(a.external_plugins, function (e, t) {
                                                                Qm.load(t, e), (a.plugins += " " + t);
                                                            }),
                                                            Yt.each(a.plugins.split(/[ ,]/), function (e) {
                                                                if ((e = Yt.trim(e)) && !Qm.urls[e])
                                                                    if (qy(e)) {
                                                                        e = e.substr(1, e.length);
                                                                        var t = Qm.dependencies(e);
                                                                        Yt.each(t, function (e) {
                                                                            var t = { prefix: "plugins/", resource: e, suffix: "/plugin" + s + ".js" };
                                                                            (e = Qm.createUrl(t, e)), Qm.load(e.resource, e);
                                                                        });
                                                                    } else Qm.load(e, { prefix: "plugins/", resource: e, suffix: "/plugin" + s + ".js" });
                                                            }),
                                                            n.loadQueue(
                                                                function () {
                                                                    e.removed || Hy(e);
                                                                },
                                                                e,
                                                                function (t) {
                                                                    Jm.pluginLoadError(e, t[0]), e.removed || Hy(e);
                                                                }
                                                            );
                                                    });
                                                })(e, e.suffix);
                                        }
                                    } else zy.bind(t.window, "ready", o);
                                },
                                Wy = Yt.each,
                                Ky = Yt.trim,
                                Gy = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
                                Yy = { ftp: 21, http: 80, https: 443, mailto: 25 },
                                Xy = function (e, n) {
                                    var r,
                                        o,
                                        i = this;
                                    if (((e = Ky(e)), (r = (n = i.settings = n || {}).base_uri), /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e))) i.source = e;
                                    else {
                                        var a = 0 === e.indexOf("//");
                                        0 !== e.indexOf("/") || a || (e = ((r && r.protocol) || "http") + "://mce_host" + e),
                                            /^[\w\-]*:?\/\//.test(e) ||
                                                ((o = n.base_uri ? n.base_uri.path : new Xy(t.document.location.href).directory),
                                                "" == n.base_uri.protocol ? (e = "//mce_host" + i.toAbsPath(o, e)) : ((e = /([^#?]*)([#?]?.*)/.exec(e)), (e = ((r && r.protocol) || "http") + "://mce_host" + i.toAbsPath(o, e[1]) + e[2]))),
                                            (e = e.replace(/@@/g, "(mce_at)")),
                                            (e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(
                                                e
                                            )),
                                            Wy(Gy, function (t, n) {
                                                var r = e[n];
                                                r && (r = r.replace(/\(mce_at\)/g, "@@")), (i[t] = r);
                                            }),
                                            r &&
                                                (i.protocol || (i.protocol = r.protocol),
                                                i.userInfo || (i.userInfo = r.userInfo),
                                                i.port || "mce_host" !== i.host || (i.port = r.port),
                                                (i.host && "mce_host" !== i.host) || (i.host = r.host),
                                                (i.source = "")),
                                            a && (i.protocol = "");
                                    }
                                };
                            (Xy.prototype = {
                                setPath: function (e) {
                                    (e = /^(.*?)\/?(\w+)?$/.exec(e)), (this.path = e[0]), (this.directory = e[1]), (this.file = e[2]), (this.source = ""), this.getURI();
                                },
                                toRelative: function (e) {
                                    var t;
                                    if ("./" === e) return e;
                                    if (("mce_host" !== (e = new Xy(e, { base_uri: this })).host && this.host !== e.host && e.host) || this.port !== e.port || (this.protocol !== e.protocol && "" !== e.protocol)) return e.getURI();
                                    var n = this.getURI(),
                                        r = e.getURI();
                                    return n === r || ("/" === n.charAt(n.length - 1) && n.substr(0, n.length - 1) === r)
                                        ? n
                                        : ((t = this.toRelPath(this.path, e.path)), e.query && (t += "?" + e.query), e.anchor && (t += "#" + e.anchor), t);
                                },
                                toAbsolute: function (e, t) {
                                    return (e = new Xy(e, { base_uri: this })).getURI(t && this.isSameOrigin(e));
                                },
                                isSameOrigin: function (e) {
                                    if (this.host == e.host && this.protocol == e.protocol) {
                                        if (this.port == e.port) return !0;
                                        var t = Yy[this.protocol];
                                        if (t && (this.port || t) == (e.port || t)) return !0;
                                    }
                                    return !1;
                                },
                                toRelPath: function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = 0,
                                        a = "";
                                    if (((e = (e = e.substring(0, e.lastIndexOf("/"))).split("/")), (n = t.split("/")), e.length >= n.length))
                                        for (r = 0, o = e.length; r < o; r++)
                                            if (r >= n.length || e[r] !== n[r]) {
                                                i = r + 1;
                                                break;
                                            }
                                    if (e.length < n.length)
                                        for (r = 0, o = n.length; r < o; r++)
                                            if (r >= e.length || e[r] !== n[r]) {
                                                i = r + 1;
                                                break;
                                            }
                                    if (1 === i) return t;
                                    for (r = 0, o = e.length - (i - 1); r < o; r++) a += "../";
                                    for (r = i - 1, o = n.length; r < o; r++) a += r !== i - 1 ? "/" + n[r] : n[r];
                                    return a;
                                },
                                toAbsPath: function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = 0,
                                        a = [];
                                    for (
                                        r = /\/$/.test(t) ? "/" : "",
                                            e = e.split("/"),
                                            t = t.split("/"),
                                            Wy(e, function (e) {
                                                e && a.push(e);
                                            }),
                                            e = a,
                                            n = t.length - 1,
                                            a = [];
                                        0 <= n;
                                        n--
                                    )
                                        0 !== t[n].length && "." !== t[n] && (".." !== t[n] ? (0 < i ? i-- : a.push(t[n])) : i++);
                                    return (
                                        0 !== (o = (n = e.length - i) <= 0 ? a.reverse().join("/") : e.slice(0, n).join("/") + "/" + a.reverse().join("/")).indexOf("/") && (o = "/" + o),
                                        r && o.lastIndexOf("/") !== o.length - 1 && (o += r),
                                        o
                                    );
                                },
                                getURI: function (e) {
                                    var t,
                                        n = this;
                                    return (
                                        (n.source && !e) ||
                                            ((t = ""),
                                            e || (n.protocol ? (t += n.protocol + "://") : (t += "//"), n.userInfo && (t += n.userInfo + "@"), n.host && (t += n.host), n.port && (t += ":" + n.port)),
                                            n.path && (t += n.path),
                                            n.query && (t += "?" + n.query),
                                            n.anchor && (t += "#" + n.anchor),
                                            (n.source = t)),
                                        n.source
                                    );
                                },
                            }),
                                (Xy.parseDataUri = function (e) {
                                    var t, n;
                                    return (e = decodeURIComponent(e).split(",")), (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]), { type: t, data: e[1] };
                                }),
                                (Xy.getDocumentBaseUrl = function (e) {
                                    var t;
                                    return (
                                        (t = 0 !== e.protocol.indexOf("http") && "file:" !== e.protocol ? e.href : e.protocol + "//" + e.host + e.pathname),
                                        /^[^:]+:\/\/\/?[^\/]+\//.test(t) && ((t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, "")), /[\/\\]$/.test(t) || (t += "/")),
                                        t
                                    );
                                });
                            var Jy = function (e, t) {
                                    t(e), e.firstChild && Jy(e.firstChild, t), e.next && Jy(e.next, t);
                                },
                                Qy = function (e) {
                                    return e instanceof sv;
                                },
                                Zy = function (e, t) {
                                    var n;
                                    e.dom.setHTML(e.getBody(), t),
                                        Bm((n = e)) &&
                                            Hu.firstPositionIn(n.getBody()).each(function (e) {
                                                var t = e.getNode(),
                                                    r = Io.isTable(t) ? Hu.firstPositionIn(t).getOr(e) : e;
                                                n.selection.setRng(r.toRange());
                                            });
                                },
                                ew = function (e, t, n) {
                                    return (
                                        void 0 === n && (n = {}),
                                        (n.format = n.format ? n.format : "html"),
                                        (n.set = !0),
                                        (n.content = Qy(t) ? "" : t),
                                        Qy(t) || n.no_events || (e.fire("BeforeSetContent", n), (t = n.content)),
                                        N.from(e.getBody()).fold(o(t), function (r) {
                                            return Qy(t)
                                                ? (function (e, t, n, r) {
                                                      !(function (e, t, n) {
                                                          var r = (function (e, t, n) {
                                                              var r = {},
                                                                  o = {},
                                                                  i = [];
                                                              for (var a in (n.firstChild &&
                                                                  Jy(n.firstChild, function (n) {
                                                                      V(e, function (e) {
                                                                          e.name === n.name && (r[e.name] ? r[e.name].nodes.push(n) : (r[e.name] = { filter: e, nodes: [n] }));
                                                                      }),
                                                                          V(t, function (e) {
                                                                              "string" == typeof n.attr(e.name) && (o[e.name] ? o[e.name].nodes.push(n) : (o[e.name] = { filter: e, nodes: [n] }));
                                                                          });
                                                                  }),
                                                              r))
                                                                  r.hasOwnProperty(a) && i.push(r[a]);
                                                              for (var a in o) o.hasOwnProperty(a) && i.push(o[a]);
                                                              return i;
                                                          })(e, t, n);
                                                          V(r, function (e) {
                                                              V(e.filter.callbacks, function (t) {
                                                                  t(e.nodes, e.filter.name, {});
                                                              });
                                                          });
                                                      })(e.parser.getNodeFilters(), e.parser.getAttributeFilters(), n);
                                                      var o = Uc({ validate: e.validate }, e.schema).serialize(n);
                                                      return (r.content = ko(ar.fromDom(t)) ? o : Yt.trim(o)), Zy(e, r.content), r.no_events || e.fire("SetContent", r), n;
                                                  })(e, r, t, n)
                                                : ((o = e),
                                                  (i = r),
                                                  (s = n),
                                                  0 === (a = t).length || /^\s+$/.test(a)
                                                      ? ((c = '<br data-mce-bogus="1">'),
                                                        "TABLE" === i.nodeName ? (a = "<tr><td>" + c + "</td></tr>") : /^(UL|OL)$/.test(i.nodeName) && (a = "<li>" + c + "</li>"),
                                                        (u = Yc(o)) && o.schema.isValidChild(i.nodeName.toLowerCase(), u.toLowerCase())
                                                            ? ((a = c), (a = o.dom.createHTML(u, o.settings.forced_root_block_attrs, a)))
                                                            : a || (a = '<br data-mce-bogus="1">'),
                                                        Zy(o, a),
                                                        o.fire("SetContent", s))
                                                      : ("raw" !== s.format && (a = Uc({ validate: o.validate }, o.schema).serialize(o.parser.parse(a, { isRootContent: !0, insert: !0 }))),
                                                        (s.content = ko(ar.fromDom(i)) ? a : Yt.trim(a)),
                                                        Zy(o, s.content),
                                                        s.no_events || o.fire("SetContent", s)),
                                                  s.content);
                                            var o, i, a, s, u, c;
                                        })
                                    );
                                },
                                tw = yi.DOM,
                                nw = function (e) {
                                    return N.from(e).each(function (e) {
                                        return e.destroy();
                                    });
                                },
                                rw = yi.DOM,
                                ow = Yt.extend,
                                iw = Yt.each,
                                aw = Yt.resolve,
                                sw = fe.ie,
                                uw = function (e, t, n) {
                                    var r,
                                        o,
                                        i,
                                        a,
                                        s,
                                        u,
                                        c,
                                        l = this,
                                        d = (l.documentBaseUrl = n.documentBaseURL),
                                        f = n.baseURI;
                                    (r = l),
                                        (o = e),
                                        (i = d),
                                        (a = n.defaultSettings),
                                        (s = t),
                                        (c = {
                                            id: o,
                                            theme: "modern",
                                            delta_width: 0,
                                            delta_height: 0,
                                            popup_css: "",
                                            plugins: "",
                                            document_base_url: i,
                                            add_form_submit_trigger: !0,
                                            submit_patch: !0,
                                            add_unload_trigger: !0,
                                            convert_urls: !0,
                                            relative_urls: !0,
                                            remove_script_host: !0,
                                            object_resizing: !0,
                                            doctype: "<!DOCTYPE html>",
                                            visual: !0,
                                            font_size_style_values: "xx-small,x-small,small,medium,large,x-large,xx-large",
                                            font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                                            forced_root_block: "p",
                                            hidden_input: !0,
                                            render_ui: !0,
                                            indentation: "40px",
                                            inline_styles: !0,
                                            convert_fonts_to_spans: !0,
                                            indent: "simple",
                                            indent_before:
                                                "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                                            indent_after:
                                                "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                                            entity_encoding: "named",
                                            url_converter: (u = r).convertURL,
                                            url_converter_scope: u,
                                            ie7_compat: !0,
                                        }),
                                        (t = (function (e, t, n, r) {
                                            var o,
                                                i,
                                                a,
                                                s,
                                                u,
                                                c,
                                                l,
                                                d,
                                                f,
                                                p,
                                                m,
                                                h,
                                                g =
                                                    ((o = ["mobile"]),
                                                    (i = vr(r, function (e, t) {
                                                        return H(o, t);
                                                    })),
                                                    hm(i.t, i.f)),
                                                v = Yt.extend(
                                                    t,
                                                    n,
                                                    g.settings(),
                                                    ((p = e), (h = (m = g).settings().inline), p && wm(m, "mobile") && !h ? ((c = "mobile"), (l = bm), (f = (d = g.sections()).hasOwnProperty(c) ? d[c] : {}), Yt.extend({}, l, f)) : {}),
                                                    {
                                                        validate: !0,
                                                        content_editable: g.settings().inline,
                                                        external_plugins: ((a = n), (s = g.settings()), (u = s.external_plugins ? s.external_plugins : {}), a && a.external_plugins ? Yt.extend({}, a.external_plugins, u) : u),
                                                    }
                                                );
                                            return Cm(e, g, n, v);
                                        })(gm, c, a, s)),
                                        (l.settings = t),
                                        (Si.language = t.language || "en"),
                                        (Si.languageLoad = t.language_load),
                                        (Si.baseURL = n.baseURL),
                                        (l.id = e),
                                        l.setDirty(!1),
                                        (l.plugins = {}),
                                        (l.documentBaseURI = new Xy(t.document_base_url, { base_uri: f })),
                                        (l.baseURI = f),
                                        (l.contentCSS = []),
                                        (l.contentStyles = []),
                                        (l.shortcuts = new Sm(l)),
                                        (l.loadedCSS = {}),
                                        (l.editorCommands = new em(l)),
                                        (l.suffix = n.suffix),
                                        (l.editorManager = n),
                                        (l.inline = t.inline),
                                        (l.buttons = {}),
                                        (l.menuItems = {}),
                                        t.cache_suffix && (fe.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")),
                                        !1 === t.override_viewport && (fe.overrideViewPort = !1),
                                        n.fire("SetupEditor", { editor: l }),
                                        l.execCallback("setup", l),
                                        (l.$ = hn.overrideDefaults(function () {
                                            return { context: l.inline ? l.getBody() : l.getDoc(), element: l.getBody() };
                                        }));
                                };
                            ow(
                                (uw.prototype = {
                                    render: function () {
                                        Vy(this);
                                    },
                                    focus: function (e) {
                                        !(function (e, t) {
                                            e.removed ||
                                                (t
                                                    ? Rm(e)
                                                    : (function (e) {
                                                          var t = e.selection,
                                                              n = e.settings.content_editable,
                                                              r = e.getBody(),
                                                              o = t.getRng();
                                                          e.quirks.refreshContentEditable();
                                                          var i,
                                                              a,
                                                              s =
                                                                  ((i = e),
                                                                  (a = t.getNode()),
                                                                  i.dom.getParent(a, function (e) {
                                                                      return "true" === i.dom.getContentEditable(e);
                                                                  }));
                                                          if (e.$.contains(r, s)) return Am(s), Nm(e, o), Rm(e);
                                                          void 0 !== e.bookmark &&
                                                              !1 === Dm(e) &&
                                                              Kp(e).each(function (t) {
                                                                  e.selection.setRng(t), (o = t);
                                                              }),
                                                              n || (fe.opera || Am(r), e.getWin().focus()),
                                                              (fe.gecko || n) && (Am(r), Nm(e, o)),
                                                              Rm(e);
                                                      })(e));
                                        })(this, e);
                                    },
                                    hasFocus: function () {
                                        return Bm(this);
                                    },
                                    execCallback: function (e) {
                                        for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                                        var r,
                                            o = this.settings[e];
                                        if (o)
                                            return (
                                                this.callbackLookup && (r = this.callbackLookup[e]) && ((o = r.func), (r = r.scope)),
                                                "string" == typeof o && ((r = (r = o.replace(/\.\w+$/, "")) ? aw(r) : 0), (o = aw(o)), (this.callbackLookup = this.callbackLookup || {}), (this.callbackLookup[e] = { func: o, scope: r })),
                                                o.apply(r || this, Array.prototype.slice.call(arguments, 1))
                                            );
                                    },
                                    translate: function (e) {
                                        if (e && Yt.is(e, "string")) {
                                            var t = this.settings.language || "en",
                                                n = this.editorManager.i18n;
                                            e =
                                                n.data[t + "." + e] ||
                                                e.replace(/\{\#([^\}]+)\}/g, function (e, r) {
                                                    return n.data[t + "." + r] || "{#" + r + "}";
                                                });
                                        }
                                        return this.editorManager.translate(e);
                                    },
                                    getLang: function (e, t) {
                                        return this.editorManager.i18n.data[(this.settings.language || "en") + "." + e] || (void 0 !== t ? t : "{#" + e + "}");
                                    },
                                    getParam: function (e, t, n) {
                                        return (function (e, t, n, r) {
                                            var o,
                                                i,
                                                a,
                                                s = t in e.settings ? e.settings[t] : n;
                                            return "hash" === r
                                                ? ((a = {}),
                                                  "string" == typeof (i = s)
                                                      ? V(0 < i.indexOf("=") ? i.split(/[;,](?![^=;,]*(?:[;,]|$))/) : i.split(","), function (e) {
                                                            var t = e.split("=");
                                                            1 < t.length ? (a[Yt.trim(t[0])] = Yt.trim(t[1])) : (a[Yt.trim(t[0])] = Yt.trim(t));
                                                        })
                                                      : (a = i),
                                                  a)
                                                : "string" === r
                                                ? xm(O, e, t).getOr(n)
                                                : "number" === r
                                                ? xm(L, e, t).getOr(n)
                                                : "boolean" === r
                                                ? xm(P, e, t).getOr(n)
                                                : "object" === r
                                                ? xm(D, e, t).getOr(n)
                                                : "array" === r
                                                ? xm(R, e, t).getOr(n)
                                                : "string[]" === r
                                                ? xm(
                                                      ((o = O),
                                                      function (e) {
                                                          return R(e) && Q(e, o);
                                                      }),
                                                      e,
                                                      t
                                                  ).getOr(n)
                                                : "function" === r
                                                ? xm(I, e, t).getOr(n)
                                                : s;
                                        })(this, e, t, n);
                                    },
                                    nodeChanged: function (e) {
                                        this._nodeChangeDispatcher.nodeChanged(e);
                                    },
                                    addButton: function (e, t) {
                                        var n = this;
                                        t.cmd &&
                                            (t.onclick = function () {
                                                n.execCommand(t.cmd);
                                            }),
                                            t.stateSelector && void 0 === t.active && (t.active = !1),
                                            t.text || t.icon || (t.icon = e),
                                            (t.tooltip = t.tooltip || t.title),
                                            (n.buttons[e] = t);
                                    },
                                    addSidebar: function (e, t) {
                                        return (function (e, t, n) {
                                            var r = e.sidebars ? e.sidebars : [];
                                            r.push({ name: t, settings: n }), (e.sidebars = r);
                                        })(this, e, t);
                                    },
                                    addMenuItem: function (e, t) {
                                        var n = this;
                                        t.cmd &&
                                            (t.onclick = function () {
                                                n.execCommand(t.cmd);
                                            }),
                                            (n.menuItems[e] = t);
                                    },
                                    addContextToolbar: function (e, t) {
                                        var n,
                                            r = this;
                                        (r.contextToolbars = r.contextToolbars || []),
                                            "string" == typeof e &&
                                                ((n = e),
                                                (e = function (e) {
                                                    return r.dom.is(e, n);
                                                })),
                                            r.contextToolbars.push({ id: lh.uuid("mcet"), predicate: e, items: t });
                                    },
                                    addCommand: function (e, t, n) {
                                        this.editorCommands.addCommand(e, t, n);
                                    },
                                    addQueryStateHandler: function (e, t, n) {
                                        this.editorCommands.addQueryStateHandler(e, t, n);
                                    },
                                    addQueryValueHandler: function (e, t, n) {
                                        this.editorCommands.addQueryValueHandler(e, t, n);
                                    },
                                    addShortcut: function (e, t, n, r) {
                                        this.shortcuts.add(e, t, n, r);
                                    },
                                    execCommand: function (e, t, n, r) {
                                        return this.editorCommands.execCommand(e, t, n, r);
                                    },
                                    queryCommandState: function (e) {
                                        return this.editorCommands.queryCommandState(e);
                                    },
                                    queryCommandValue: function (e) {
                                        return this.editorCommands.queryCommandValue(e);
                                    },
                                    queryCommandSupported: function (e) {
                                        return this.editorCommands.queryCommandSupported(e);
                                    },
                                    show: function () {
                                        this.hidden && ((this.hidden = !1), this.inline ? (this.getBody().contentEditable = !0) : (rw.show(this.getContainer()), rw.hide(this.id)), this.load(), this.fire("show"));
                                    },
                                    hide: function () {
                                        var e = this,
                                            t = e.getDoc();
                                        e.hidden ||
                                            (sw && t && !e.inline && t.execCommand("SelectAll"),
                                            e.save(),
                                            e.inline
                                                ? ((e.getBody().contentEditable = !1), e === e.editorManager.focusedEditor && (e.editorManager.focusedEditor = null))
                                                : (rw.hide(e.getContainer()), rw.setStyle(e.id, "display", e.orgDisplay)),
                                            (e.hidden = !0),
                                            e.fire("hide"));
                                    },
                                    isHidden: function () {
                                        return !!this.hidden;
                                    },
                                    setProgressState: function (e, t) {
                                        this.fire("ProgressState", { state: e, time: t });
                                    },
                                    load: function (e) {
                                        var t,
                                            n = this.getElement();
                                        return this.removed
                                            ? ""
                                            : n
                                            ? (((e = e || {}).load = !0), (t = this.setContent(void 0 !== n.value ? n.value : n.innerHTML, e)), (e.element = n), e.no_events || this.fire("LoadContent", e), (e.element = n = null), t)
                                            : void 0;
                                    },
                                    save: function (e) {
                                        var t,
                                            n,
                                            r = this,
                                            o = r.getElement();
                                        if (o && r.initialized && !r.removed)
                                            return (
                                                ((e = e || {}).save = !0),
                                                (e.element = o),
                                                (e.content = r.getContent(e)),
                                                e.no_events || r.fire("SaveContent", e),
                                                "raw" === e.format && r.fire("RawSaveContent", e),
                                                (t = e.content),
                                                /TEXTAREA|INPUT/i.test(o.nodeName)
                                                    ? (o.value = t)
                                                    : ((!e.is_removing && r.inline) || (o.innerHTML = t),
                                                      (n = rw.getParent(r.id, "form")) &&
                                                          iw(n.elements, function (e) {
                                                              if (e.name === r.id) return (e.value = t), !1;
                                                          })),
                                                (e.element = o = null),
                                                !1 !== e.set_dirty && r.setDirty(!1),
                                                t
                                            );
                                    },
                                    setContent: function (e, t) {
                                        return ew(this, e, t);
                                    },
                                    getContent: function (e) {
                                        return (
                                            (t = this),
                                            void 0 === (n = e) && (n = {}),
                                            N.from(t.getBody()).fold(o("tree" === n.format ? new sv("body", 11) : ""), function (e) {
                                                return (function (e, t, n) {
                                                    var r, o, i, a, s;
                                                    if (((t.format = t.format ? t.format : "html"), (t.get = !0), (t.getInner = !0), t.no_events || e.fire("BeforeGetContent", t), "raw" === t.format))
                                                        r = Yt.trim(ng(e.serializer, n.innerHTML));
                                                    else if ("text" === t.format) r = la(n.innerText || n.textContent);
                                                    else {
                                                        if ("tree" === t.format) return e.serializer.serialize(n, t);
                                                        (i = (o = e).serializer.serialize(n, t)),
                                                            (a = Yc(o)),
                                                            (s = new RegExp("^(<" + a + "[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/" + a + ">[\r\n]*|<br \\/>[\r\n]*)$")),
                                                            (r = i.replace(s, ""));
                                                    }
                                                    return "text" === t.format || ko(ar.fromDom(n)) ? (t.content = r) : (t.content = Yt.trim(r)), t.no_events || e.fire("GetContent", t), t.content;
                                                })(t, n, e);
                                            })
                                        );
                                        var t, n;
                                    },
                                    insertContent: function (e, t) {
                                        t && (e = ow({ content: e }, t)), this.execCommand("mceInsertContent", !1, e);
                                    },
                                    isDirty: function () {
                                        return !this.isNotDirty;
                                    },
                                    setDirty: function (e) {
                                        var t = !this.isNotDirty;
                                        (this.isNotDirty = !e), e && e !== t && this.fire("dirty");
                                    },
                                    setMode: function (e) {
                                        var t, n;
                                        (n = e) !==
                                            (function (e) {
                                                return e.readonly ? "readonly" : "design";
                                            })((t = this)) &&
                                            (t.initialized
                                                ? um(t, "readonly" === n)
                                                : t.on("init", function () {
                                                      um(t, "readonly" === n);
                                                  }),
                                            (function (e, t) {
                                                e.fire("SwitchMode", { mode: t });
                                            })(t, n));
                                    },
                                    getContainer: function () {
                                        return this.container || (this.container = rw.get(this.editorContainer || this.id + "_parent")), this.container;
                                    },
                                    getContentAreaContainer: function () {
                                        return this.contentAreaContainer;
                                    },
                                    getElement: function () {
                                        return this.targetElm || (this.targetElm = rw.get(this.id)), this.targetElm;
                                    },
                                    getWin: function () {
                                        var e;
                                        return this.contentWindow || ((e = this.iframeElement) && (this.contentWindow = e.contentWindow)), this.contentWindow;
                                    },
                                    getDoc: function () {
                                        var e;
                                        return this.contentDocument || ((e = this.getWin()) && (this.contentDocument = e.document)), this.contentDocument;
                                    },
                                    getBody: function () {
                                        var e = this.getDoc();
                                        return this.bodyElement || (e ? e.body : null);
                                    },
                                    convertURL: function (e, t, n) {
                                        var r = this.settings;
                                        return r.urlconverter_callback
                                            ? this.execCallback("urlconverter_callback", e, n, !0, t)
                                            : !r.convert_urls || (n && "LINK" === n.nodeName) || 0 === e.indexOf("file:") || 0 === e.length
                                            ? e
                                            : r.relative_urls
                                            ? this.documentBaseURI.toRelative(e)
                                            : (e = this.documentBaseURI.toAbsolute(e, r.remove_script_host));
                                    },
                                    addVisual: function (e) {
                                        var t,
                                            n = this,
                                            r = n.settings,
                                            o = n.dom;
                                        (e = e || n.getBody()),
                                            void 0 === n.hasVisual && (n.hasVisual = r.visual),
                                            iw(o.select("table,a", e), function (e) {
                                                var i;
                                                switch (e.nodeName) {
                                                    case "TABLE":
                                                        return (t = r.visual_table_class || "mce-item-table"), void (((i = o.getAttrib(e, "border")) && "0" !== i) || !n.hasVisual ? o.removeClass(e, t) : o.addClass(e, t));
                                                    case "A":
                                                        return void (
                                                            o.getAttrib(e, "href") || ((i = o.getAttrib(e, "name") || e.id), (t = r.visual_anchor_class || "mce-item-anchor"), i && n.hasVisual ? o.addClass(e, t) : o.removeClass(e, t))
                                                        );
                                                }
                                            }),
                                            n.fire("VisualAid", { element: e, hasVisual: n.hasVisual });
                                    },
                                    remove: function () {
                                        !(function (e) {
                                            if (!e.removed) {
                                                var t = e._selectionOverrides,
                                                    n = e.editorUpload,
                                                    r = e.getBody(),
                                                    o = e.getElement();
                                                r && e.save({ is_removing: !0 }),
                                                    (e.removed = !0),
                                                    e.unbindAllNativeEvents(),
                                                    e.hasHiddenInput && o && tw.remove(o.nextSibling),
                                                    (function (e) {
                                                        e.fire("remove");
                                                    })(e),
                                                    e.editorManager.remove(e),
                                                    !e.inline && r && ((i = e), tw.setStyle(i.id, "display", i.orgDisplay)),
                                                    (function (e) {
                                                        e.fire("detach");
                                                    })(e),
                                                    tw.remove(e.getContainer()),
                                                    nw(t),
                                                    nw(n),
                                                    e.destroy();
                                            }
                                            var i;
                                        })(this);
                                    },
                                    destroy: function (e) {
                                        !(function (e, t) {
                                            var n,
                                                r,
                                                o,
                                                i = e.selection,
                                                a = e.dom;
                                            e.destroyed ||
                                                (t || e.removed
                                                    ? (t || (e.editorManager.off("beforeunload", e._beforeUnload), e.theme && e.theme.destroy && e.theme.destroy(), nw(i), nw(a)),
                                                      (r = (n = e).formElement) && (r._mceOldSubmit && ((r.submit = r._mceOldSubmit), (r._mceOldSubmit = null)), tw.unbind(r, "submit reset", n.formEventDelegate)),
                                                      ((o = e).contentAreaContainer = o.formElement = o.container = o.editorContainer = null),
                                                      (o.bodyElement = o.contentDocument = o.contentWindow = null),
                                                      (o.iframeElement = o.targetElm = null),
                                                      o.selection && (o.selection = o.selection.win = o.selection.dom = o.selection.dom.doc = null),
                                                      (e.destroyed = !0))
                                                    : e.remove());
                                        })(this, e);
                                    },
                                    uploadImages: function (e) {
                                        return this.editorUpload.uploadImages(e);
                                    },
                                    _scanForImages: function () {
                                        return this.editorUpload.scanForImages();
                                    },
                                }),
                                mm
                            );
                            var cw,
                                lw,
                                dw,
                                fw = {
                                    isEditorUIElement: function (e) {
                                        return -1 !== e.className.toString().indexOf("mce-");
                                    },
                                },
                                pw = function (e) {
                                    var n,
                                        r,
                                        o,
                                        i = Ii(function () {
                                            Wp(e);
                                        }, 0);
                                    e.inline &&
                                        ((n = e),
                                        (r = i),
                                        (o = function () {
                                            r.throttle();
                                        }),
                                        yi.DOM.bind(t.document, "mouseup", o),
                                        n.on("remove", function () {
                                            yi.DOM.unbind(t.document, "mouseup", o);
                                        })),
                                        e.on("init", function () {
                                            !(function (e, t) {
                                                var n, r;
                                                or.detect().browser.isIE()
                                                    ? (r = e).on("focusout", function () {
                                                          Wp(r);
                                                      })
                                                    : ((n = t),
                                                      e.on("mouseup touchend", function (e) {
                                                          n.throttle();
                                                      })),
                                                    e.on("keyup nodechange", function (t) {
                                                        var n;
                                                        ("nodechange" === (n = t).type && n.selectionChange) || Wp(e);
                                                    });
                                            })(e, i);
                                        }),
                                        e.on("remove", function () {
                                            i.cancel();
                                        });
                                },
                                mw = yi.DOM,
                                hw = function (e, t) {
                                    var n = e ? e.settings.custom_ui_selector : "";
                                    return (
                                        null !==
                                        mw.getParent(t, function (t) {
                                            return (
                                                (function (e) {
                                                    return fw.isEditorUIElement(e);
                                                })(t) ||
                                                (!!n && e.dom.is(t, n))
                                            );
                                        })
                                    );
                                },
                                gw = function (e, n) {
                                    var r = n.editor;
                                    pw(r),
                                        r.on("focusin", function () {
                                            var t = e.focusedEditor;
                                            t !== this && (t && t.fire("blur", { focusedEditor: this }), e.setActive(this), (e.focusedEditor = this).fire("focus", { blurredEditor: t }), this.focus(!0));
                                        }),
                                        r.on("focusout", function () {
                                            var n = this;
                                            ve.setEditorTimeout(n, function () {
                                                var r = e.focusedEditor;
                                                hw(
                                                    n,
                                                    (function () {
                                                        try {
                                                            return t.document.activeElement;
                                                        } catch (e) {
                                                            return t.document.body;
                                                        }
                                                    })()
                                                ) ||
                                                    r !== n ||
                                                    (n.fire("blur", { focusedEditor: null }), (e.focusedEditor = null));
                                            });
                                        }),
                                        cw ||
                                            ((cw = function (n) {
                                                var r,
                                                    o = e.activeEditor;
                                                (r = n.target), o && r.ownerDocument === t.document && (r === t.document.body || hw(o, r) || e.focusedEditor !== o || (o.fire("blur", { focusedEditor: null }), (e.focusedEditor = null)));
                                            }),
                                            mw.bind(t.document, "focusin", cw));
                                },
                                vw = function (e, n) {
                                    e.focusedEditor === n.editor && (e.focusedEditor = null), e.activeEditor || (mw.unbind(t.document, "focusin", cw), (cw = null));
                                },
                                bw = yi.DOM,
                                yw = Yt.explode,
                                ww = Yt.each,
                                Cw = Yt.extend,
                                xw = 0,
                                _w = !1,
                                kw = [],
                                Tw = [],
                                Ew = function (e) {
                                    var t = e.type;
                                    ww(dw.get(), function (n) {
                                        switch (t) {
                                            case "scroll":
                                                n.fire("ScrollWindow", e);
                                                break;
                                            case "resize":
                                                n.fire("ResizeWindow", e);
                                        }
                                    });
                                },
                                Sw = function (e) {
                                    e !== _w && (e ? hn(window).on("resize scroll", Ew) : hn(window).off("resize scroll", Ew), (_w = e));
                                },
                                $w = function (e) {
                                    var t = Tw;
                                    delete kw[e.id];
                                    for (var n = 0; n < kw.length; n++)
                                        if (kw[n] === e) {
                                            kw.splice(n, 1);
                                            break;
                                        }
                                    return (
                                        (Tw = K(Tw, function (t) {
                                            return e !== t;
                                        })),
                                        dw.activeEditor === e && (dw.activeEditor = 0 < Tw.length ? Tw[0] : null),
                                        dw.focusedEditor === e && (dw.focusedEditor = null),
                                        t.length !== Tw.length
                                    );
                                };
                            Cw(
                                (dw = {
                                    defaultSettings: {},
                                    $: hn,
                                    majorVersion: "4",
                                    minorVersion: "9.11",
                                    releaseDate: "2020-07-13",
                                    editors: kw,
                                    i18n: Wm,
                                    activeEditor: null,
                                    settings: {},
                                    setup: function () {
                                        var e,
                                            n,
                                            r = "";
                                        (n = Xy.getDocumentBaseUrl(t.document.location)), /^[^:]+:\/\/\/?[^\/]+\//.test(n) && ((n = n.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, "")), /[\/\\]$/.test(n) || (n += "/"));
                                        var o = window.tinymce || window.tinyMCEPreInit;
                                        if (o) (e = o.base || o.baseURL), (r = o.suffix);
                                        else {
                                            for (var i = t.document.getElementsByTagName("script"), s = 0; s < i.length; s++) {
                                                var u;
                                                if ("" !== (u = i[s].src || "")) {
                                                    var c = u.substring(u.lastIndexOf("/"));
                                                    if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)) {
                                                        -1 !== c.indexOf(".min") && (r = ".min"), (e = u.substring(0, u.lastIndexOf("/")));
                                                        break;
                                                    }
                                                }
                                            }
                                            !e && t.document.currentScript && (-1 !== (u = t.document.currentScript.src).indexOf(".min") && (r = ".min"), (e = u.substring(0, u.lastIndexOf("/"))));
                                        }
                                        (this.baseURL = new Xy(n).toAbsolute(e)),
                                            (this.documentBaseURL = n),
                                            (this.baseURI = new Xy(this.baseURL)),
                                            (this.suffix = r),
                                            (function (e) {
                                                e.on("AddEditor", a(gw, e)), e.on("RemoveEditor", a(vw, e));
                                            })(this);
                                    },
                                    overrideDefaults: function (e) {
                                        var t, n;
                                        (t = e.base_url) && ((this.baseURL = new Xy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, ""))), (this.baseURI = new Xy(this.baseURL))), (n = e.suffix), e.suffix && (this.suffix = n);
                                        var r = (this.defaultSettings = e).plugin_base_urls;
                                        for (var o in r) Si.PluginManager.urls[o] = r[o];
                                    },
                                    init: function (e) {
                                        var n,
                                            r,
                                            o = this;
                                        r = Yt.makeMap(
                                            "area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu",
                                            " "
                                        );
                                        var i = function (e) {
                                                var t = e.id;
                                                return t || ((t = (t = e.name) && !bw.get(t) ? e.name : bw.uniqueId()), e.setAttribute("id", t)), t;
                                            },
                                            a = function (e, t) {
                                                return t.constructor === RegExp ? t.test(e.className) : bw.hasClass(e, t);
                                            },
                                            s = function (e) {
                                                n = e;
                                            },
                                            u = function () {
                                                var n,
                                                    c = 0,
                                                    l = [],
                                                    d = function (e, t, r) {
                                                        var i = new uw(e, t, o);
                                                        l.push(i),
                                                            i.on("init", function () {
                                                                ++c === n.length && s(l);
                                                            }),
                                                            (i.targetElm = i.targetElm || r),
                                                            i.render();
                                                    };
                                                bw.unbind(window, "ready", u),
                                                    (function (t) {
                                                        var n = e[t];
                                                        n && n.apply(o, Array.prototype.slice.call(arguments, 2));
                                                    })("onpageload"),
                                                    (n = hn.unique(
                                                        (function (e) {
                                                            var n,
                                                                r = [];
                                                            if (fe.ie && fe.ie < 11)
                                                                return (
                                                                    Jm.initError(
                                                                        "TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"
                                                                    ),
                                                                    []
                                                                );
                                                            if (e.types)
                                                                return (
                                                                    ww(e.types, function (e) {
                                                                        r = r.concat(bw.select(e.selector));
                                                                    }),
                                                                    r
                                                                );
                                                            if (e.selector) return bw.select(e.selector);
                                                            if (e.target) return [e.target];
                                                            switch (e.mode) {
                                                                case "exact":
                                                                    0 < (n = e.elements || "").length &&
                                                                        ww(yw(n), function (e) {
                                                                            var n;
                                                                            (n = bw.get(e))
                                                                                ? r.push(n)
                                                                                : ww(t.document.forms, function (t) {
                                                                                      ww(t.elements, function (t) {
                                                                                          t.name === e && ((e = "mce_editor_" + xw++), bw.setAttrib(t, "id", e), r.push(t));
                                                                                      });
                                                                                  });
                                                                        });
                                                                    break;
                                                                case "textareas":
                                                                case "specific_textareas":
                                                                    ww(bw.select("textarea"), function (t) {
                                                                        (e.editor_deselector && a(t, e.editor_deselector)) || (e.editor_selector && !a(t, e.editor_selector)) || r.push(t);
                                                                    });
                                                            }
                                                            return r;
                                                        })(e)
                                                    )),
                                                    e.types
                                                        ? ww(e.types, function (t) {
                                                              Yt.each(n, function (n) {
                                                                  return !bw.is(n, t.selector) || (d(i(n), Cw({}, e, t), n), !1);
                                                              });
                                                          })
                                                        : (Yt.each(n, function (e) {
                                                              var t;
                                                              (t = o.get(e.id)) && t.initialized && !(t.getContainer() || t.getBody()).parentNode && ($w(t), t.unbindAllNativeEvents(), t.destroy(!0), (t.removed = !0), (t = null));
                                                          }),
                                                          0 ===
                                                          (n = Yt.grep(n, function (e) {
                                                              return !o.get(e.id);
                                                          })).length
                                                              ? s([])
                                                              : ww(n, function (t) {
                                                                    var n;
                                                                    (n = t), e.inline && n.tagName.toLowerCase() in r ? Jm.initError("Could not initialize inline editor on invalid inline target element", t) : d(i(t), e, t);
                                                                }));
                                            };
                                        return (
                                            (o.settings = e),
                                            bw.bind(window, "ready", u),
                                            new pe(function (e) {
                                                n
                                                    ? e(n)
                                                    : (s = function (t) {
                                                          e(t);
                                                      });
                                            })
                                        );
                                    },
                                    get: function (e) {
                                        return 0 === arguments.length
                                            ? Tw.slice(0)
                                            : O(e)
                                            ? Y(Tw, function (t) {
                                                  return t.id === e;
                                              }).getOr(null)
                                            : L(e) && Tw[e]
                                            ? Tw[e]
                                            : null;
                                    },
                                    add: function (e) {
                                        var t = this;
                                        return (
                                            kw[e.id] === e ||
                                                (null === t.get(e.id) && ("length" !== e.id && (kw[e.id] = e), kw.push(e), Tw.push(e)),
                                                Sw(!0),
                                                (t.activeEditor = e),
                                                t.fire("AddEditor", { editor: e }),
                                                lw ||
                                                    ((lw = function () {
                                                        t.fire("BeforeUnload");
                                                    }),
                                                    bw.bind(window, "beforeunload", lw))),
                                            e
                                        );
                                    },
                                    createEditor: function (e, t) {
                                        return this.add(new uw(e, t, this));
                                    },
                                    remove: function (e) {
                                        var t,
                                            n,
                                            r = this;
                                        if (e) {
                                            if (!O(e)) return (n = e), B(r.get(n.id)) ? null : ($w(n) && r.fire("RemoveEditor", { editor: n }), 0 === Tw.length && bw.unbind(window, "beforeunload", lw), n.remove(), Sw(0 < Tw.length), n);
                                            ww(bw.select(e), function (e) {
                                                (n = r.get(e.id)) && r.remove(n);
                                            });
                                        } else for (t = Tw.length - 1; 0 <= t; t--) r.remove(Tw[t]);
                                    },
                                    execCommand: function (e, t, n) {
                                        var r = this.get(n);
                                        switch (e) {
                                            case "mceAddEditor":
                                                return this.get(n) || new uw(n, this.settings, this).render(), !0;
                                            case "mceRemoveEditor":
                                                return r && r.remove(), !0;
                                            case "mceToggleEditor":
                                                return r ? (r.isHidden() ? r.show() : r.hide()) : this.execCommand("mceAddEditor", 0, n), !0;
                                        }
                                        return !!this.activeEditor && this.activeEditor.execCommand(e, t, n);
                                    },
                                    triggerSave: function () {
                                        ww(Tw, function (e) {
                                            e.save();
                                        });
                                    },
                                    addI18n: function (e, t) {
                                        Wm.add(e, t);
                                    },
                                    translate: function (e) {
                                        return Wm.translate(e);
                                    },
                                    setActive: function (e) {
                                        var t = this.activeEditor;
                                        this.activeEditor !== e && (t && t.fire("deactivate", { relatedTarget: e }), e.fire("activate", { relatedTarget: t })), (this.activeEditor = e);
                                    },
                                }),
                                im
                            ),
                                dw.setup();
                            var Nw,
                                Aw = dw;
                            function Ow(e) {
                                return {
                                    walk: function (t, n) {
                                        return Tc(e, t, n);
                                    },
                                    split: Lf,
                                    normalize: function (t) {
                                        return Cp(e, t).fold(o(!1), function (e) {
                                            return t.setStart(e.startContainer, e.startOffset), t.setEnd(e.endContainer, e.endOffset), !0;
                                        });
                                    },
                                };
                            }
                            ((Nw = Ow || (Ow = {})).compareRanges = mp), (Nw.getCaretRangeFromPoint = Nv), (Nw.getSelectedNode = Fa), (Nw.getNode = Ua);
                            var Dw,
                                Rw,
                                Bw = Ow,
                                Pw = Math.min,
                                Iw = Math.max,
                                Lw = Math.round,
                                Mw = function (e, t, n) {
                                    var r, o, i, a, s, u;
                                    return (
                                        (r = t.x),
                                        (o = t.y),
                                        (i = e.w),
                                        (a = e.h),
                                        (s = t.w),
                                        (u = t.h),
                                        "b" === (n = (n || "").split(""))[0] && (o += u),
                                        "r" === n[1] && (r += s),
                                        "c" === n[0] && (o += Lw(u / 2)),
                                        "c" === n[1] && (r += Lw(s / 2)),
                                        "b" === n[3] && (o -= a),
                                        "r" === n[4] && (r -= i),
                                        "c" === n[3] && (o -= Lw(a / 2)),
                                        "c" === n[4] && (r -= Lw(i / 2)),
                                        jw(r, o, i, a)
                                    );
                                },
                                jw = function (e, t, n, r) {
                                    return { x: e, y: t, w: n, h: r };
                                },
                                Fw = {
                                    inflate: function (e, t, n) {
                                        return jw(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n);
                                    },
                                    relativePosition: Mw,
                                    findBestRelativePosition: function (e, t, n, r) {
                                        var o, i;
                                        for (i = 0; i < r.length; i++) if ((o = Mw(e, t, r[i])).x >= n.x && o.x + o.w <= n.w + n.x && o.y >= n.y && o.y + o.h <= n.h + n.y) return r[i];
                                        return null;
                                    },
                                    intersect: function (e, t) {
                                        var n, r, o, i;
                                        return (n = Iw(e.x, t.x)), (r = Iw(e.y, t.y)), (o = Pw(e.x + e.w, t.x + t.w)), (i = Pw(e.y + e.h, t.y + t.h)), o - n < 0 || i - r < 0 ? null : jw(n, r, o - n, i - r);
                                    },
                                    clamp: function (e, t, n) {
                                        var r, o, i, a, s, u, c, l, d, f;
                                        return (
                                            (s = e.x),
                                            (u = e.y),
                                            (c = e.x + e.w),
                                            (l = e.y + e.h),
                                            (d = t.x + t.w),
                                            (f = t.y + t.h),
                                            (r = Iw(0, t.x - s)),
                                            (o = Iw(0, t.y - u)),
                                            (i = Iw(0, c - d)),
                                            (a = Iw(0, l - f)),
                                            (s += r),
                                            (u += o),
                                            n && ((c += r), (l += o), (s -= i), (u -= a)),
                                            jw(s, u, (c -= i) - s, (l -= a) - u)
                                        );
                                    },
                                    create: jw,
                                    fromClientRect: function (e) {
                                        return jw(e.left, e.top, e.width, e.height);
                                    },
                                },
                                Uw = {},
                                Hw = {
                                    add: function (e, t) {
                                        Uw[e.toLowerCase()] = t;
                                    },
                                    has: function (e) {
                                        return !!Uw[e.toLowerCase()];
                                    },
                                    get: function (e) {
                                        var t = e.toLowerCase(),
                                            n = Uw.hasOwnProperty(t) ? Uw[t] : null;
                                        if (null === n) throw new Error("Could not find module for type: " + e);
                                        return n;
                                    },
                                    create: function (e, t) {
                                        var n;
                                        if (("string" == typeof e ? ((t = t || {}).type = e) : (e = (t = e).type), (e = e.toLowerCase()), !(n = Uw[e]))) throw new Error("Could not find control by type: " + e);
                                        return ((n = new n(t)).type = e), n;
                                    },
                                },
                                zw = Yt.each,
                                qw = Yt.extend,
                                Vw = function () {};
                            Vw.extend = Dw = function (e) {
                                var t,
                                    n,
                                    r,
                                    o = this.prototype,
                                    i = function () {
                                        var e, t, n;
                                        if (!Rw && (this.init && this.init.apply(this, arguments), (t = this.Mixins))) for (e = t.length; e--; ) (n = t[e]).init && n.init.apply(this, arguments);
                                    },
                                    a = function () {
                                        return this;
                                    },
                                    s = function (e, t) {
                                        return function () {
                                            var n,
                                                r = this._super;
                                            return (this._super = o[e]), (n = t.apply(this, arguments)), (this._super = r), n;
                                        };
                                    };
                                for (n in ((Rw = !0),
                                (t = new this()),
                                (Rw = !1),
                                e.Mixins &&
                                    (zw(e.Mixins, function (t) {
                                        for (var n in t) "init" !== n && (e[n] = t[n]);
                                    }),
                                    o.Mixins && (e.Mixins = o.Mixins.concat(e.Mixins))),
                                e.Methods &&
                                    zw(e.Methods.split(","), function (t) {
                                        e[t] = a;
                                    }),
                                e.Properties &&
                                    zw(e.Properties.split(","), function (t) {
                                        var n = "_" + t;
                                        e[t] = function (e) {
                                            return void 0 !== e ? ((this[n] = e), this) : this[n];
                                        };
                                    }),
                                e.Statics &&
                                    zw(e.Statics, function (e, t) {
                                        i[t] = e;
                                    }),
                                e.Defaults && o.Defaults && (e.Defaults = qw({}, o.Defaults, e.Defaults)),
                                e))
                                    "function" == typeof (r = e[n]) && o[n] ? (t[n] = s(n, r)) : (t[n] = r);
                                return (i.prototype = t), ((i.constructor = i).extend = Dw), i;
                            };
                            var Ww = Math.min,
                                Kw = Math.max,
                                Gw = Math.round,
                                Yw = function (e, t) {
                                    var n, r, o, i;
                                    if (((t = t || '"'), null === e)) return "null";
                                    if ("string" == (o = typeof e))
                                        return (
                                            (r = "\bb\tt\nn\ff\rr\"\"''\\\\"),
                                            t +
                                                e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function (e, o) {
                                                    return '"' === t && "'" === e ? e : (n = r.indexOf(o)) + 1 ? "\\" + r.charAt(n + 1) : ((e = o.charCodeAt().toString(16)), "\\u" + "0000".substring(e.length) + e);
                                                }) +
                                                t
                                        );
                                    if ("object" === o) {
                                        if (e.hasOwnProperty && "[object Array]" === Object.prototype.toString.call(e)) {
                                            for (n = 0, r = "["; n < e.length; n++) r += (0 < n ? "," : "") + Yw(e[n], t);
                                            return r + "]";
                                        }
                                        for (i in ((r = "{"), e)) e.hasOwnProperty(i) && (r += "function" != typeof e[i] ? (1 < r.length ? "," + t : t) + i + t + ":" + Yw(e[i], t) : "");
                                        return r + "}";
                                    }
                                    return "" + e;
                                },
                                Xw = {
                                    serialize: Yw,
                                    parse: function (e) {
                                        try {
                                            return JSON.parse(e);
                                        } catch (e) {}
                                    },
                                },
                                Jw = {
                                    callbacks: {},
                                    count: 0,
                                    send: function (e) {
                                        var t = this,
                                            n = yi.DOM,
                                            r = void 0 !== e.count ? e.count : t.count,
                                            o = "tinymce_jsonp_" + r;
                                        (t.callbacks[r] = function (i) {
                                            n.remove(o), delete t.callbacks[r], e.callback(i);
                                        }),
                                            n.add(n.doc.body, "script", { id: o, src: e.url, type: "text/javascript" }),
                                            t.count++;
                                    },
                                },
                                Qw = {
                                    send: function (e) {
                                        var t,
                                            n = 0,
                                            r = function () {
                                                !e.async || 4 === t.readyState || 1e4 < n++
                                                    ? (e.success && n < 1e4 && 200 === t.status ? e.success.call(e.success_scope, "" + t.responseText, t, e) : e.error && e.error.call(e.error_scope, 1e4 < n ? "TIMED_OUT" : "GENERAL", t, e),
                                                      (t = null))
                                                    : setTimeout(r, 10);
                                            };
                                        if (
                                            ((e.scope = e.scope || this),
                                            (e.success_scope = e.success_scope || e.scope),
                                            (e.error_scope = e.error_scope || e.scope),
                                            (e.async = !1 !== e.async),
                                            (e.data = e.data || ""),
                                            Qw.fire("beforeInitialize", { settings: e }),
                                            (t = eh()))
                                        ) {
                                            if (
                                                (t.overrideMimeType && t.overrideMimeType(e.content_type),
                                                t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async),
                                                e.crossDomain && (t.withCredentials = !0),
                                                e.content_type && t.setRequestHeader("Content-Type", e.content_type),
                                                e.requestheaders &&
                                                    Yt.each(e.requestheaders, function (e) {
                                                        t.setRequestHeader(e.key, e.value);
                                                    }),
                                                t.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
                                                (t = Qw.fire("beforeSend", { xhr: t, settings: e }).xhr).send(e.data),
                                                !e.async)
                                            )
                                                return r();
                                            setTimeout(r, 10);
                                        }
                                    },
                                };
                            Yt.extend(Qw, im);
                            var Zw,
                                eC,
                                tC,
                                nC,
                                rC = Yt.extend,
                                oC = function (e) {
                                    (this.settings = rC({}, e)), (this.count = 0);
                                };
                            (oC.sendRPC = function (e) {
                                return new oC().send(e);
                            }),
                                (oC.prototype = {
                                    send: function (e) {
                                        var t = e.error,
                                            n = e.success;
                                        ((e = rC(this.settings, e)).success = function (r, o) {
                                            void 0 === (r = Xw.parse(r)) && (r = { error: "JSON Parse error." }), r.error ? t.call(e.error_scope || e.scope, r.error, o) : n.call(e.success_scope || e.scope, r.result);
                                        }),
                                            (e.error = function (n, r) {
                                                t && t.call(e.error_scope || e.scope, n, r);
                                            }),
                                            (e.data = Xw.serialize({ id: e.id || "c" + this.count++, method: e.method, params: e.params })),
                                            (e.content_type = "application/json"),
                                            Qw.send(e);
                                    },
                                });
                            try {
                                Zw = t.window.localStorage;
                            } catch (e) {
                                (eC = {}),
                                    (tC = []),
                                    (nC = {
                                        getItem: function (e) {
                                            return eC[e] || null;
                                        },
                                        setItem: function (e, t) {
                                            tC.push(e), (eC[e] = String(t));
                                        },
                                        key: function (e) {
                                            return tC[e];
                                        },
                                        removeItem: function (e) {
                                            (tC = tC.filter(function (t) {
                                                return t === e;
                                            })),
                                                delete eC[e];
                                        },
                                        clear: function () {
                                            (tC = []), (eC = {});
                                        },
                                        length: 0,
                                    }),
                                    Object.defineProperty(nC, "length", {
                                        get: function () {
                                            return tC.length;
                                        },
                                        configurable: !1,
                                        enumerable: !1,
                                    }),
                                    (Zw = nC);
                            }
                            var iC,
                                aC = Aw,
                                sC = {
                                    geom: { Rect: Fw },
                                    util: {
                                        Promise: pe,
                                        Delay: ve,
                                        Tools: Yt,
                                        VK: _h,
                                        URI: Xy,
                                        Class: Vw,
                                        EventDispatcher: nm,
                                        Observable: im,
                                        I18n: Wm,
                                        XHR: Qw,
                                        JSON: Xw,
                                        JSONRequest: oC,
                                        JSONP: Jw,
                                        LocalStorage: Zw,
                                        Color: function (e) {
                                            var t = {},
                                                n = 0,
                                                r = 0,
                                                o = 0,
                                                i = function (e) {
                                                    var i;
                                                    return (
                                                        "object" == typeof e
                                                            ? "r" in e
                                                                ? ((n = e.r), (r = e.g), (o = e.b))
                                                                : "v" in e &&
                                                                  (function (e, t, i) {
                                                                      var a, s, u, c;
                                                                      if (((e = (parseInt(e, 10) || 0) % 360), (t = parseInt(t, 10) / 100), (i = parseInt(i, 10) / 100), (t = Kw(0, Ww(t, 1))), (i = Kw(0, Ww(i, 1))), 0 !== t)) {
                                                                          switch (((a = e / 60), (u = (s = i * t) * (1 - Math.abs((a % 2) - 1))), (c = i - s), Math.floor(a))) {
                                                                              case 0:
                                                                                  (n = s), (r = u), (o = 0);
                                                                                  break;
                                                                              case 1:
                                                                                  (n = u), (r = s), (o = 0);
                                                                                  break;
                                                                              case 2:
                                                                                  (n = 0), (r = s), (o = u);
                                                                                  break;
                                                                              case 3:
                                                                                  (n = 0), (r = u), (o = s);
                                                                                  break;
                                                                              case 4:
                                                                                  (n = u), (r = 0), (o = s);
                                                                                  break;
                                                                              case 5:
                                                                                  (n = s), (r = 0), (o = u);
                                                                                  break;
                                                                              default:
                                                                                  n = r = o = 0;
                                                                          }
                                                                          (n = Gw(255 * (n + c))), (r = Gw(255 * (r + c))), (o = Gw(255 * (o + c)));
                                                                      } else n = r = o = Gw(255 * i);
                                                                  })(e.h, e.s, e.v)
                                                            : (i = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))
                                                            ? ((n = parseInt(i[1], 10)), (r = parseInt(i[2], 10)), (o = parseInt(i[3], 10)))
                                                            : (i = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))
                                                            ? ((n = parseInt(i[1], 16)), (r = parseInt(i[2], 16)), (o = parseInt(i[3], 16)))
                                                            : (i = /#([0-F])([0-F])([0-F])/gi.exec(e)) && ((n = parseInt(i[1] + i[1], 16)), (r = parseInt(i[2] + i[2], 16)), (o = parseInt(i[3] + i[3], 16))),
                                                        (n = n < 0 ? 0 : 255 < n ? 255 : n),
                                                        (r = r < 0 ? 0 : 255 < r ? 255 : r),
                                                        (o = o < 0 ? 0 : 255 < o ? 255 : o),
                                                        t
                                                    );
                                                };
                                            return (
                                                e && i(e),
                                                (t.toRgb = function () {
                                                    return { r: n, g: r, b: o };
                                                }),
                                                (t.toHsv = function () {
                                                    return (
                                                        (e = n),
                                                        (t = r),
                                                        (i = o),
                                                        (s = 0),
                                                        (u = Ww((e /= 255), Ww((t /= 255), (i /= 255)))) === (c = Kw(e, Kw(t, i)))
                                                            ? { h: 0, s: 0, v: 100 * (s = u) }
                                                            : ((a = (c - u) / c), { h: Gw(60 * ((e === u ? 3 : i === u ? 1 : 5) - (e === u ? t - i : i === u ? e - t : i - e) / ((s = c) - u))), s: Gw(100 * a), v: Gw(100 * s) })
                                                    );
                                                    var e, t, i, a, s, u, c;
                                                }),
                                                (t.toHex = function () {
                                                    var e = function (e) {
                                                        return 1 < (e = parseInt(e, 10).toString(16)).length ? e : "0" + e;
                                                    };
                                                    return "#" + e(n) + e(r) + e(o);
                                                }),
                                                (t.parse = i),
                                                t
                                            );
                                        },
                                    },
                                    dom: {
                                        EventUtils: Ee,
                                        Sizzle: Et,
                                        DomQuery: hn,
                                        TreeWalker: uo,
                                        DOMUtils: yi,
                                        ScriptLoader: ki,
                                        RangeUtils: Bw,
                                        Serializer: wv,
                                        ControlSelection: Sv,
                                        BookmarkManager: kv,
                                        Selection: Qv,
                                        Event: Ee.Event,
                                    },
                                    html: { Styles: ci, Entities: Xo, Node: sv, Schema: si, SaxParser: eg, DomParser: bv, Writer: Fc, Serializer: Uc },
                                    ui: { Factory: Hw },
                                    Env: fe,
                                    AddOnManager: Si,
                                    Annotator: Ac,
                                    Formatter: Yg,
                                    UndoManager: fg,
                                    EditorCommands: em,
                                    WindowManager: zm,
                                    NotificationManager: Hm,
                                    EditorObservable: mm,
                                    Shortcuts: Sm,
                                    Editor: uw,
                                    FocusManager: fw,
                                    EditorManager: Aw,
                                    DOM: yi.DOM,
                                    ScriptLoader: ki.ScriptLoader,
                                    PluginManager: Si.PluginManager,
                                    ThemeManager: Si.ThemeManager,
                                    trim: Yt.trim,
                                    isArray: Yt.isArray,
                                    is: Yt.is,
                                    toArray: Yt.toArray,
                                    makeMap: Yt.makeMap,
                                    each: Yt.each,
                                    map: Yt.map,
                                    grep: Yt.grep,
                                    inArray: Yt.inArray,
                                    extend: Yt.extend,
                                    create: Yt.create,
                                    walk: Yt.walk,
                                    createNS: Yt.createNS,
                                    resolve: Yt.resolve,
                                    explode: Yt.explode,
                                    _addCacheSuffix: Yt._addCacheSuffix,
                                    isOpera: fe.opera,
                                    isWebKit: fe.webkit,
                                    isIE: fe.ie,
                                    isGecko: fe.gecko,
                                    isMac: fe.mac,
                                },
                                uC = (aC = Yt.extend(aC, sC));
                            (iC = uC),
                                (window.tinymce = iC),
                                (window.tinyMCE = iC),
                                (function (t) {
                                    if ("object" == typeof e)
                                        try {
                                            e.exports = t;
                                        } catch (e) {}
                                })(uC);
                        })(window),
                        (function (e) {
                            var t,
                                n,
                                r,
                                o,
                                i = void 0 !== e.window ? e.window : Function("return this;")(),
                                a = function (e, t) {
                                    return { isRequired: e, applyPatch: t };
                                },
                                s = function (e, t) {
                                    return function () {
                                        for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                                        var o = t.apply(this, n),
                                            i = void 0 === o ? n : o;
                                        return e.apply(this, i);
                                    };
                                },
                                u = function (e) {
                                    return function () {
                                        return e;
                                    };
                                },
                                c = u(!1),
                                l = u(!0),
                                d = function () {
                                    return f;
                                },
                                f =
                                    ((t = function (e) {
                                        return e.isNone();
                                    }),
                                    (o = {
                                        fold: function (e, t) {
                                            return e();
                                        },
                                        is: c,
                                        isSome: c,
                                        isNone: l,
                                        getOr: (r = function (e) {
                                            return e;
                                        }),
                                        getOrThunk: (n = function (e) {
                                            return e();
                                        }),
                                        getOrDie: function (e) {
                                            throw new Error(e || "error: getOrDie called on none.");
                                        },
                                        getOrNull: u(null),
                                        getOrUndefined: u(void 0),
                                        or: r,
                                        orThunk: n,
                                        map: d,
                                        each: function () {},
                                        bind: d,
                                        exists: c,
                                        forall: l,
                                        filter: d,
                                        equals: t,
                                        equals_: t,
                                        toArray: function () {
                                            return [];
                                        },
                                        toString: u("none()"),
                                    }),
                                    Object.freeze && Object.freeze(o),
                                    o),
                                p = function (e) {
                                    var t = u(e),
                                        n = function () {
                                            return o;
                                        },
                                        r = function (t) {
                                            return t(e);
                                        },
                                        o = {
                                            fold: function (t, n) {
                                                return n(e);
                                            },
                                            is: function (t) {
                                                return e === t;
                                            },
                                            isSome: l,
                                            isNone: c,
                                            getOr: t,
                                            getOrThunk: t,
                                            getOrDie: t,
                                            getOrNull: t,
                                            getOrUndefined: t,
                                            or: n,
                                            orThunk: n,
                                            map: function (t) {
                                                return p(t(e));
                                            },
                                            each: function (t) {
                                                t(e);
                                            },
                                            bind: r,
                                            exists: r,
                                            forall: r,
                                            filter: function (t) {
                                                return t(e) ? o : f;
                                            },
                                            toArray: function () {
                                                return [e];
                                            },
                                            toString: function () {
                                                return "some(" + e + ")";
                                            },
                                            equals: function (t) {
                                                return t.is(e);
                                            },
                                            equals_: function (t, n) {
                                                return t.fold(c, function (t) {
                                                    return n(e, t);
                                                });
                                            },
                                        };
                                    return o;
                                },
                                m = d,
                                h = function (e) {
                                    return function (t) {
                                        return (
                                            (function (e) {
                                                if (null === e) return "null";
                                                var t = typeof e;
                                                return "object" === t && (Array.prototype.isPrototypeOf(e) || (e.constructor && "Array" === e.constructor.name))
                                                    ? "array"
                                                    : "object" === t && (String.prototype.isPrototypeOf(e) || (e.constructor && "String" === e.constructor.name))
                                                    ? "string"
                                                    : t;
                                            })(t) === e
                                        );
                                    };
                                },
                                g = h("object"),
                                v = h("array"),
                                b = h("undefined"),
                                y = h("function"),
                                w = (Array.prototype.slice, Array.prototype.indexOf),
                                C = Array.prototype.push,
                                x = function (e, t) {
                                    return (function (e) {
                                        for (var t = [], n = 0, r = e.length; n < r; ++n) {
                                            if (!v(e[n])) throw new Error("Arr.flatten item " + n + " was not an array, input: " + e);
                                            C.apply(t, e[n]);
                                        }
                                        return t;
                                    })(
                                        (function (e, t) {
                                            for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
                                                var i = e[o];
                                                r[o] = t(i, o);
                                            }
                                            return r;
                                        })(e, t)
                                    );
                                },
                                _ = (y(Array.from) && Array.from, Object.prototype.hasOwnProperty),
                                k = function (e) {
                                    return function () {
                                        for (var t = new Array(arguments.length), n = 0; n < t.length; n++) t[n] = arguments[n];
                                        if (0 === t.length) throw new Error("Can't merge zero objects");
                                        for (var r = {}, o = 0; o < t.length; o++) {
                                            var i = t[o];
                                            for (var a in i) _.call(i, a) && (r[a] = e(r[a], i[a]));
                                        }
                                        return r;
                                    };
                                },
                                T = k(function (e, t) {
                                    return g(e) && g(t) ? T(e, t) : t;
                                }),
                                E = k(function (e, t) {
                                    return t;
                                }),
                                S = Object.keys,
                                $ = Object.hasOwnProperty,
                                N = function (e, t) {
                                    for (var n = S(e), r = 0, o = n.length; r < o; r++) {
                                        var i = n[r];
                                        t(e[i], i);
                                    }
                                },
                                A = function (e, t) {
                                    return O(e, t)
                                        ? (function (e) {
                                              return null == e ? f : p(e);
                                          })(e[t])
                                        : m();
                                },
                                O = function (e, t) {
                                    return $.call(e, t);
                                },
                                D = function (e) {
                                    if (b(e) || "" === e) return [];
                                    var t = v(e)
                                        ? x(e, function (e) {
                                              return e.split(/[\s+,]/);
                                          })
                                        : e.split(/[\s+,]/);
                                    return x(t, function (e) {
                                        return 0 < e.length ? [e.trim()] : [];
                                    });
                                },
                                R = function (e, t) {
                                    var n,
                                        r,
                                        o,
                                        i = T(e, t),
                                        a = D(t.plugins),
                                        s = A(i, "custom_plugin_urls").getOr({}),
                                        u =
                                            ((n = function (e, t) {
                                                return (function (e, t) {
                                                    return (n = e), (r = t), -1 < w.call(n, r);
                                                    var n, r;
                                                })(a, t);
                                            }),
                                            (r = {}),
                                            (o = {}),
                                            N(s, function (e, t) {
                                                (n(0, t) ? r : o)[t] = e;
                                            }),
                                            { t: r, f: o }),
                                        c = A(i, "external_plugins").getOr({}),
                                        l = {};
                                    N(u.t, function (e, t) {
                                        l[t] = e;
                                    });
                                    var d = E(l, c);
                                    return E(t, 0 === S(d).length ? {} : { external_plugins: d });
                                },
                                B = {
                                    getCustomPluginUrls: R,
                                    patch: a(
                                        function () {
                                            return !0;
                                        },
                                        function (e) {
                                            e.EditorManager.init = s(e.EditorManager.init, function (t) {
                                                return [R(e.defaultSettings, t)];
                                            });
                                        }
                                    ),
                                },
                                P = function (e, t) {
                                    return (function (e, t) {
                                        for (var n = null != t ? t : i, r = 0; r < e.length && null != n; ++r) n = n[e[r]];
                                        return n;
                                    })(e.split("."), t);
                                },
                                I = function (e) {
                                    return parseInt(e, 10);
                                },
                                L = function (e, t) {
                                    var n = e - t;
                                    return 0 === n ? 0 : 0 < n ? 1 : -1;
                                },
                                M = function (e, t, n) {
                                    return { major: e, minor: t, patch: n };
                                },
                                j = function (e) {
                                    var t = /([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(e);
                                    return t ? M(I(t[1]), I(t[2]), I(t[3])) : M(0, 0, 0);
                                },
                                F = function (e, t) {
                                    return (
                                        !!e &&
                                        -1 ===
                                            (function (e, t) {
                                                var n = L(e.major, t.major);
                                                if (0 !== n) return n;
                                                var r = L(e.minor, t.minor);
                                                if (0 !== r) return r;
                                                var o = L(e.patch, t.patch);
                                                return 0 !== o ? o : 0;
                                            })(j([(n = e).majorVersion, n.minorVersion].join(".").split(".").slice(0, 3).join(".")), j(t))
                                    );
                                    var n;
                                },
                                U = {
                                    patch: a(
                                        function (e) {
                                            return F(e, "4.7.0");
                                        },
                                        function (e) {
                                            var t;
                                            e.EditorManager.init = s(
                                                e.EditorManager.init,
                                                ((t = e.EditorManager),
                                                function (e) {
                                                    var n = P("tinymce.util.Tools", i),
                                                        r = D(e.plugins),
                                                        o = t.defaultSettings.forced_plugins || [],
                                                        a = 0 < o.length ? r.concat(o) : r;
                                                    return [n.extend({}, e, { plugins: a })];
                                                })
                                            );
                                        }
                                    ),
                                },
                                H = function () {
                                    return new Date().getTime();
                                },
                                z = function (e) {
                                    e.parentNode.removeChild(e);
                                },
                                q = function (t, n) {
                                    var r,
                                        o = (((r = e.document.createElement("div")).style.display = "none"), (r.className = "mce-floatpanel"), r);
                                    e.document.body.appendChild(o),
                                        (function (t, n, r, o, i) {
                                            var a,
                                                s = H();
                                            a = e.setInterval(function () {
                                                t() && (e.clearInterval(a), n()), H() - s > i && (e.clearInterval(a), r());
                                            }, o);
                                        })(
                                            (function (t) {
                                                return function () {
                                                    var n,
                                                        r,
                                                        o,
                                                        i = ((n = t), (r = "position"), (o = n.currentStyle ? n.currentStyle[r] : e.window.getComputedStyle(n, null)[r]), o || "").toLowerCase();
                                                    return "absolute" === i || "fixed" === i;
                                                };
                                            })(o),
                                            function () {
                                                z(o), t();
                                            },
                                            function () {
                                                z(o), n();
                                            },
                                            10,
                                            5e3
                                        );
                                },
                                V = function (e) {
                                    var t,
                                        n,
                                        r = P("tinymce.util.URI", i);
                                    (t = e.base_url) && ((this.baseURL = new r(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, ""))), (this.baseURI = new r(this.baseURL))),
                                        (n = e.suffix),
                                        e.suffix && (this.suffix = n),
                                        (this.defaultSettings = e);
                                },
                                W = function (e) {
                                    return [P("tinymce.util.Tools", i).extend({}, this.defaultSettings, e)];
                                },
                                K = {
                                    patch: a(
                                        function (e) {
                                            return "function" != typeof e.overrideDefaults;
                                        },
                                        function (t) {
                                            (function (t) {
                                                t.EditorManager.on("AddEditor", function (t) {
                                                    var n = t.editor,
                                                        r = n.settings.service_message;
                                                    r &&
                                                        q(
                                                            function () {
                                                                !(function (e, t) {
                                                                    e.notificationManager ? e.notificationManager.open({ text: t, type: "warning", timeout: 0, icon: "" }) : e.windowManager.alert(t);
                                                                })(n, n.settings.service_message);
                                                            },
                                                            function () {
                                                                e.alert(r);
                                                            }
                                                        );
                                                });
                                            })(t),
                                                (t.overrideDefaults = V),
                                                (t.EditorManager.init = s(t.EditorManager.init, W));
                                        }
                                    ),
                                },
                                G = {
                                    patch: a(
                                        function (e) {
                                            return F(e, "4.5.0");
                                        },
                                        function (e) {
                                            var t;
                                            e.overrideDefaults = s(
                                                e.overrideDefaults,
                                                ((t = e),
                                                function (e) {
                                                    var n = e.plugin_base_urls;
                                                    for (var r in n) t.PluginManager.urls[r] = n[r];
                                                })
                                            );
                                        }
                                    ),
                                };
                            !(function (e) {
                                !(function (e, t) {
                                    if (e) for (var n = 0; n < t.length; n++) t[n].isRequired(e) && t[n].applyPatch(e);
                                })(e, [K.patch, G.patch, U.patch, B.patch]);
                            })(i.tinymce);
                        })(window),
                        tinymce.overrideDefaults({
                            suffix: ".min",
                            linkchecker_service_url: "https://hyperlinking.tiny.cloud",
                            spellchecker_rpc_url: "https://spelling.tiny.cloud",
                            spellchecker_api_key: "qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",
                            tinydrive_service_url: "https://catalog.tiny.cloud",
                            api_key: "qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",
                            imagetools_api_key: "qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",
                            tinydrive_api_key: "qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",
                            forced_plugins: [""],
                            referrer_policy: "origin",
                            content_css_cors: !0,
                            custom_plugin_urls: {},
                            chiffer_snowplow_service_url: "https://sp.tinymce.com/i",
                        }),
                        (tinymce.baseURL = "https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/"),
                        $.getScript("https://unpkg.com/tinymce-emoji@0.1.4/dist/tinymce-emoji/plugin.min.js"),
                        tinymce.init({
                            selector: "#cs-motdtext",
                            height: 700,
                            theme: "modern",
                            plugins:
                                "save textcolor preview fullpage searchreplace autolink directionality visualblocks visualchars fullscreen image link template table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist charmap lists textcolor wordcount contextmenu colorpicker textpattern code",
                            toolbar1: "formatselect | bold italic strikethrough forecolor backcolor | fontselect fontsizeselect | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat ",
                            setup: function (e) {
                                e.on("change", function () {
                                    e.save();
                                });
                            },
                            content_css: ["https://fonts.googleapis.com/css?family=Barlow", "https://fonts.googleapis.com/css?family=Roboto"],
                            font_formats:
                                "Andale Mono=andale mono,times; Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde; Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica; Impact=impact,chicago; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Webdings=webdings; Wingdings=wingdings,zapf dingbats; Roboto=roboto,sans-serif; Barlow=barlow,sans-serif",
                            content_style: "\nbody {\n    background-color: #151517;\n    color: #dfe0e4;\n}\n  ",
                        }),
                        $(document).on("focusin", function (e) {
                            $(e.target).closest(".tox-tinymce-aux, .moxman-window, .tam-assetmanager-root, .mce-textbox").length && e.stopImmediatePropagation();
                        }),
                        $(document).on("focusin", function (e) {
                            $(e.target).closest(" .tox-dialog").length && e.stopImmediatePropagation();
                        }));
            });
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("Xaekai Addons", function (e, t) {
                "use strict";
                (t = $.extend({}, { turnedOn: !0 }, t)), $.getScript("//dl.dropbox.com/s/180zfdo89c6hnxe/xaekaiscripts.js");
            });
        },
        function (e, t) {
            if ("1" == moviedbshow) {
                !(function () {
                    $(".et-hero-tabs-container").append('<a class="et-hero-tab" href="javascript:void(0)" onclick="javascript:showSchedule()">GUIDE</a>');
                    var e = document.getElementById("useroptions"),
                        t = document.createElement("div");
                    t.setAttribute("class", "modal fade"),
                        t.setAttribute("id", "schedule"),
                        t.setAttribute("tabindex", "-1"),
                        t.setAttribute("role", "dialog"),
                        t.setAttribute("aria-hidden", "true"),
                        t.setAttribute("style", "display: none;"),
                        (t.innerHTML =
                            '    <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button class="close" data-dismiss="modal" aria-hidden="true">x</button></div><div class="modal-body" style="width:100%; height:100%;"><div class="tab-content" style="width:100%; height:100%;"><div class="tab-schedule active" id="cg-schedule" style="width:100%; height:100%;"><div class="movielist"><h1 class="heading">Loading List </h1><p class="description">Loading</p><a class="card" href="#!"><div class="front" style="background-image: url(//source.unsplash.com/300x401);"><p>Loading List.</p></div><div class="back"><div><p>Loading list</p><p>Please Wait.</p><button class="button">Click Here</button></div></div></a></div></div></div></div><div class="modal-footer"><button class="btn btn-default" type="button" data-dismiss="modal">Close</button></div></div></div>'),
                        document.body.insertBefore(t, e);
                })(),
                    $("head").append("<link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/BillTube/BillTube2/mlist.css' />"),
                    (URL_API = "https://api.themoviedb.org/3/list/" + moviedblist + "?api_key=" + moviedbkey + "&language=en-US");
                const e = document.querySelector(".movielist");
                document.createElement("a"), document.createElement("img");
                fetch(URL_API, { method: "GET", headers: { "Content-Type": "application/json" } })
                    .then((e) => e.json())
                    .then((t) => {
                        !(function (t) {
                            const n = t
                                .map((e) => {
                                    e.poster_path;
                                    let t = e.title || e.name;
                                    return (
                                        e.title,
                                        `\n      <a target="_blank"class="card" href="https://www.themoviedb.org/movie/${e.id}">\n    <div class="front lazyload" style="background-image: url(//image.tmdb.org/t/p/original${e.poster_path});"> \n      <p>${t}</p>\n    </div>\n    <div class="back">\n      <div>\n        <p class="overview">${e.overview}</p>\n        <button class="button">Details</button>\n      </div>\n    </div>\n  </a>\n    `
                                    );
                                })
                                .join("");
                            (e.innerHTML = '<h1 class="heading">Channel Guide</h1>\n  <p class="description">Hover over a cover for the description.</p>'), (e.innerHTML += n);
                        })(t.items || t.results);
                    })
                    .catch((e) => {
                        console.log(e);
                    });
            }
        },
        function (e, t) {
            window.cytubeEnhanced.addModule("favouritePictures", function (e) {
                "use strict";
                var t = this,
                    n = e.parseJSON(window.localStorage.getItem("favouritePictures"), []);
                e.storage.setDefault("favouritePictures", _.isArray(n) ? n : []),
                    0 === $("#chat-panel").length && $('<div id="chat-panel" class="row">').insertAfter("#messagebuffer"),
                    0 === $("#chat-controls").length && $('<div id="chat-controls" class="btn-group">').appendTo("#chatwrap"),
                    (this.$toggleFavouritePicturesPanelBtn = $('<button id="favourite-pictures-btn" data-tooltip="Favorites" data-tooltip-pos="up" class="chatbtn" >').html('<i class="material-icons">collections_bookmark</i>')),
                    0 !== $("#smiles-btn").length ? this.$toggleFavouritePicturesPanelBtn.insertAfter("#smiles-btn") : this.$toggleFavouritePicturesPanelBtn.prependTo("#chat-controls"),
                    (this.$favouritePicturesPanel = $('<div id="favourite-pictures-panel">').appendTo("#chat-panel").hide()),
                    (this.$favouritePicturesPanelRow = $('<div class="favourite-pictures-panel-row">').appendTo(this.$favouritePicturesPanel)),
                    (this.$favouritePicturesTrash = $('<div id="pictures-trash" title="' + e.t("favPics[.]Drop the picture here to remove it") + '">')
                        .append('<i class="pictures-trash-icon glyphicon glyphicon-trash">')
                        .appendTo(this.$favouritePicturesPanelRow)),
                    (this.$favouritePicturesBodyPanel = $('<div id="pictures-body-panel">').appendTo(this.$favouritePicturesPanelRow)),
                    (this.$favouritePicturesControlPanel = $('<div id="pictures-control-panel" class="row">').appendTo(this.$favouritePicturesPanel)),
                    (this.$favouritePicturesControlPanelForm = $('<div class="col-md-12 picmenu">')
                        .html(
                            '<div class="input-group-pic"><input type="text" id="picture-address" class="form-control input-sm" placeholder="' +
                                e.t("favPics[.]Picture url") +
                                '"><span class="input-group-btn"><button id="add-picture-btn" class="btn btn-sm btn-default fal fa-plus" style="border-radius:2rem;padding:10px;" type="button"></button></span><span class="input-group-btn"><button id="help-pictures-btn" class="btn btn-sm btn-default fas fa-question" style="border-radius:2rem;padding:10px;" type="button"></button></span></div>'
                        )
                        .appendTo(this.$favouritePicturesControlPanel)),
                    (this.makeSmilesAndPicturesTogether = function () {
                        (t.smilesAndPicturesTogether = !0), t.$toggleFavouritePicturesPanelBtn.hide(), t.$favouritePicturesPanel.hide();
                    }),
                    (this.entityMap = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }),
                    (this.replaceUnsafeSymbol = function (e) {
                        return t.entityMap[e];
                    }),
                    (this.renderFavouritePictures = function () {
                        var t = e.storage.get("favouritePictures") || [];
                        this.$favouritePicturesBodyPanel.empty();
                        for (var n = 0, r = t.length; n < r; n++) {
                            var o = t[n].replace(/[&<>"']/g, this.replaceUnsafeSymbol);
                            $('<img class="favourite-picture-on-panel">').attr({ src: o }).appendTo(this.$favouritePicturesBodyPanel);
                        }
                    }),
                    (this.insertFavouritePicture = function (t) {
                        e.Helpers.addMessageToChatInput(" " + t + " ", "end");
                    }),
                    $(document.body).on("click", ".favourite-picture-on-panel", function () {
                        t.insertFavouritePicture($(this).attr("src"));
                    }),
                    (this.handleFavouritePicturesPanel = function (e) {
                        var t = this.smilesAndPicturesTogether || !1;
                        0 === $("#smiles-panel").length || t || $("#smiles-panel").hide(),
                            this.$favouritePicturesPanel.toggle(),
                            t ||
                                (e.hasClass("btn-default")
                                    ? (0 !== $("#smiles-btn").length && $("#smiles-btn").hasClass("btn-success") && ($("#smiles-btn").removeClass("btn-success"), $("#smiles-btn").addClass("btn-default")),
                                      e.removeClass("btn-default"),
                                      e.addClass("btn-success"))
                                    : (e.removeClass("btn-success"), e.addClass("btn-default")));
                    }),
                    this.$toggleFavouritePicturesPanelBtn.on("click", function () {
                        t.handleFavouritePicturesPanel($(this));
                    }),
                    (this.addFavouritePicture = function (t) {
                        if ("" !== (t = _.trim(t))) {
                            var n = e.storage.get("favouritePictures") || [];
                            if (-1 !== n.indexOf(t)) return window.makeAlert(e.t("favPics[.]The image already exists")).prependTo(this.$favouritePicturesBodyPanel), $("#picture-address").val(""), !1;
                            "" !== t && n.push(t), $("#picture-address").val(""), e.storage.set("favouritePictures", n), this.renderFavouritePictures();
                        }
                    }),
                    $("#add-picture-btn").on("click", function (e) {
                        e.preventDefault(), t.addFavouritePicture($("#picture-address").val().trim());
                    }),
                    $("#picture-address").on("keypress", function (e) {
                        13 == e.which && t.addFavouritePicture($("#picture-address").val().trim());
                    }),
                    (this.showHelp = function () {
                        var t = $('<div class="modal-header__inner">');
                        t.append($('<h3 class="modal-title">').text(e.t("Help")));
                        var n = $('<div class="help-pictures-content">');
                        n.append(
                            $(
                                "<p>" +
                                    e.t(
                                        "favPics[.]<p>Favourite pictures feature if for saving favourite pictures like browser bookmarks.</p><p>Features:<ul><li><strong>Only links to images can be saved</strong>, so if image from link was removed, it also removes from your panel.</li><li>Image links are storing in browser.</li><li>Favorite images transfer over to other channels using this theme </li>"
                                    ) +
                                    "</p>"
                            )
                        );
                        var r = $('<button type="button" id="help-pictures-exit-btn" class="btn btn-info" data-dismiss="modal">' + e.t("favPics[.]Exit") + "</button>"),
                            o = $('<div class="help-pictures-footer">');
                        return o.append(r), e.UI.createModalWindow("chat-history", t, n, o);
                    }),
                    $("#help-pictures-btn").on("click", function (e) {
                        e.preventDefault(), t.showHelp();
                    }),
                    (this.exportPictures = function () {
                        var t = $("<a>")
                            .attr({ href: "data:text/plain;charset=utf-8," + encodeURIComponent(e.toJSON(e.storage.get("favouritePictures") || [])), download: "pururin_favourite_images.txt" })
                            .hide()
                            .appendTo($(document.body));
                        t[0].click(), t.remove();
                    }),
                    $("#export-pictures").on("click", function () {
                        t.exportPictures();
                    }),
                    (t.mistakeAjaxEnd = !0),
                    $("#upload-pictures").on("click", function (n) {
                        n.preventDefault(),
                            t.mistakeAjaxEnd &&
                                ((t.mistakeAjaxEnd = !1),
                                $.ajax({
                                    type: $(this).attr("method"),
                                    url: $(this).attr("action"),
                                    dataType: "html",
                                    data: { userName: username, userRank: CLIENT.rank, userData: e.storage.get("favouritePictures") || [], g: CLIENT.guest, action: "upload" },
                                }).done(function (n) {
                                    (t.mistakeAjaxEnd = !0), e.UI.createAlertWindow(e.t(`favPics[.]${n}`));
                                }));
                    }),
                    $("#load-pictures").on("click", function (n) {
                        n.preventDefault(),
                            t.mistakeAjaxEnd &&
                                ((t.mistakeAjaxEnd = !1),
                                $.ajax({ type: $(this).attr("method"), url: $(this).attr("action"), dataType: "html", data: { userName: username, userRank: CLIENT.rank, g: CLIENT.guest, action: "get" } }).done(function (n) {
                                    t.mistakeAjaxEnd = !0;
                                    var r = e.parseJSON(n);
                                    _.isArray(r) ? (e.storage.set("favouritePictures", e.parseJSON(n)), t.renderFavouritePictures()) : e.UI.createAlertWindow(e.t(`favPics[.]${n}`));
                                }));
                    }),
                    (this.importPictures = function (n) {
                        var r = new FileReader();
                        r.addEventListener("load", function (n) {
                            var r = e.parseJSON(n.target.result);
                            _.isArray(r) ? (e.storage.set("favouritePictures", e.parseJSON(n.target.result)), t.renderFavouritePictures()) : e.UI.createAlertWindow(e.t("favPics[.]Can't detect any pictures in this file."));
                        }),
                            r.readAsText(n);
                    }),
                    $("#import-pictures").on("change", function () {
                        var n = $(this)[0].files[0];
                        e.UI.createConfirmWindow(
                            e.t(
                                "favPics[.]Your old pictures will be removed and replaced with the images from uploaded file (file must correspond to format of the file from export button of this panel).<br>Are you sure you want to continue?"
                            ),
                            function (e) {
                                e && n && t.importPictures(n);
                            }
                        );
                    }),
                    this.renderFavouritePictures(),
                    this.$favouritePicturesBodyPanel.sortable({
                        containment: this.$favouritePicturesPanelRow,
                        revert: !0,
                        update: function (t, n) {
                            var r,
                                o,
                                i = $(n.item).attr("src"),
                                a = $(n.item).next().attr("src"),
                                s = e.storage.get("favouritePictures");
                            -1 !== (r = s.indexOf(i)) && (s.splice(r, 1), void 0 !== a ? -1 !== (o = s.indexOf(a)) && s.splice(o, 0, i) : s.push(i), e.storage.set("favouritePictures", s));
                        },
                    }),
                    this.$favouritePicturesTrash.droppable({
                        accept: ".favourite-picture-on-panel",
                        hoverClass: "favourite-picture-drop-hover",
                        drop: function (t, n) {
                            var r,
                                o = n.draggable.attr("src"),
                                i = e.storage.get("favouritePictures");
                            -1 !== (r = i.indexOf(o)) && (i.splice(r, 1), e.storage.set("favouritePictures", i)), n.draggable.remove();
                        },
                    });
            });
        },
        function (e, t) {
            for (i in (($colorsMenu = $('<div id="colors-menu" class="dropup btn-group" />')
                .appendTo(".markdown-helper-templates-wrapper")
                .html('<button id="colors-btn" class="btn btn-sm btn-default btn-chatctrl dropdown-toggle" >Colors </button>')),
            $('<ul id="colors-wrap" class="dropdown-menu-colors hidden"></ul>').appendTo("#chatwrap"),
            $("#colors-btn").on("click", function () {
                $("#colors-wrap").toggleClass("hidden");
            }),
            $("body").on("click", function (e) {
                $(e.target).is("#colors-wrap") || $("#colors-wrap").addClass("hidden");
            }),
            ColorsArray.length < 1 ? $colorsMenu.hide() : ColorsArray.length > 50 && $colorsMenu.addClass("widecm"),
            ColorsArray)) {
                var n = ColorsArray.length > 50 ? 8 : 5;
                if (i % n == 0) var r = $('<li class="btn-group btn-colors" />').appendTo("#colors-wrap");
                $('<button class="btn btn-default btn-sm cbtn" onclick="insertText(\'col:' + ColorsArray[i] + ":')\" />")
                    .css("background-color", ColorsArray[i])
                    .html(" ")
                    .appendTo(r);
            }
            $('#nav-collapsible a:contains("Account")').parent().find("ul");
        },
    ]);
//# sourceMappingURL=/sm/05510586d0941bbaed6a4d4304b3e35ac3f22b48c24f194d530ff422afbb454f.map
